function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function i(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function i(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function __guard__(e,t){return null!=e?t(e):undefined}function __guardMethod__(e,t,i){return null!=e&&"function"==typeof e[t]?i(e,t):undefined}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(k,e){function a(e){var t=!!e&&"length"in e&&e.length,i=fe.type(e);return"function"!==i&&!fe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,i,n){if(fe.isFunction(i))return fe.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return fe.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(ke.test(i))return fe.filter(i,e,n);i=fe.filter(i,e)}return fe.grep(e,function(e){return-1<fe.inArray(e,i)!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var i={};return fe.each(e.match(Ne)||[],function(e,t){i[t]=!0}),i}function r(){ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",o),k.removeEventListener("load",o)):(ne.detachEvent("onreadystatechange",o),k.detachEvent("onload",o))}function o(){(ne.addEventListener||"load"===k.event.type||"complete"===ne.readyState)&&(r(),fe.ready())}function l(e,t,i){if(i===undefined&&1===e.nodeType){var n="data-"+t.replace(Fe,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Ie.test(i)?fe.parseJSON(i):i)}catch(r){}fe.data(e,t,i)}else i=undefined}return i}function c(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function n(e,t,i,n){if(Ae(e)){var r,o,s=fe.expando,a=e.nodeType,l=a?fe.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(n||l[c].data)||i!==undefined||"string"!=typeof t)return c||(c=a?e[s]=ie.pop()||fe.guid++:s),l[c]||(l[c]=a?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(n?l[c]=fe.extend(l[c],t):l[c].data=fe.extend(l[c].data,t)),o=l[c],n||(o.data||(o.data={}),o=o.data),i!==undefined&&(o[fe.camelCase(t)]=i),"string"==typeof t?null==(r=o[t])&&(r=o[fe.camelCase(t)]):r=o,r}}function s(e,t,i){if(Ae(e)){var n,r,o=e.nodeType,s=o?fe.cache:e,a=o?e[fe.expando]:fe.expando;if(s[a]){if(t&&(n=i?s[a]:s[a].data)){r=(t=fe.isArray(t)?t.concat(fe.map(t,fe.camelCase)):t in n?[t]:(t=fe.camelCase(t))in n?[t]:t.split(" ")).length;for(;r--;)delete n[t[r]];if(i?!c(n):!fe.isEmptyObject(n))return}(i||(delete s[a].data,c(s[a])))&&(o?fe.cleanData([e],!0):he.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function h(e,t,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return fe.css(e,t,"")},l=a(),c=i&&i[3]||(fe.cssNumber[t]?"":"px"),u=(fe.cssNumber[t]||"px"!==c&&+l)&&je.exec(fe.css(e,t));if(u&&u[3]!==c)for(c=c||u[3],i=i||[],u=+l||1;u/=o=o||".5",fe.style(e,t,u+c),o!==(o=a()/l)&&1!==o&&--s;);return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}function g(e){var t=Ke.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function v(e,t){var i,n,r=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||fe.nodeName(n,t)?o.push(n):fe.merge(o,v(n,t));return t===undefined||t&&fe.nodeName(e,t)?fe.merge([e],o):o}function y(e,t){for(var i,n=0;null!=(i=e[n]);n++)fe._data(i,"globalEval",!t||fe._data(t[n],"globalEval"))}function b(e){qe.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,i,n,r){for(var o,s,a,l,c,u,h,d=e.length,f=g(t),p=[],m=0;m<d;m++)if((s=e[m])||0===s)if("object"===fe.type(s))fe.merge(p,s.nodeType?[s]:s);else if(Ge.test(s)){for(l=l||f.appendChild(t.createElement("div")),c=(Ue.exec(s)||["",""])[1].toLowerCase(),h=Xe[c]||Xe._default,l.innerHTML=h[1]+fe.htmlPrefilter(s)+h[2],o=h[0];o--;)l=l.lastChild;if(!he.leadingWhitespace&&Ye.test(s)&&p.push(t.createTextNode(Ye.exec(s)[0])),!he.tbody)for(o=(s="table"!==c||Ve.test(s)?"<table>"!==h[1]||Ve.test(s)?0:l:l.firstChild)&&s.childNodes.length;o--;)fe.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(fe.merge(p,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else p.push(t.createTextNode(s));for(l&&f.removeChild(l),he.appendChecked||fe.grep(v(p,"input"),b),m=0;s=p[m++];)if(n&&-1<fe.inArray(s,n))r&&r.push(s);else if(a=fe.contains(s.ownerDocument,s),l=v(f.appendChild(s),"script"),a&&y(l),i)for(o=0;s=l[o++];)$e.test(s.type||"")&&i.push(s);return l=null,f}function d(){return!0}function f(){return!1}function p(){try{return ne.activeElement}catch(e){}}function w(e,t,i,n,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=undefined),t)w(e,a,i,n,t[a],o);return e}if(null==n&&null==r?(r=i,n=i=undefined):null==r&&("string"==typeof i?(r=n,n=undefined):(r=n,n=i,i=undefined)),!1===r)r=f;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return fe().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,r,n,i)})}function _(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function C(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){if(1===t.nodeType&&fe.hasData(e)){var i,n,r,o=fe._data(e),s=fe._data(t,o),a=o.events;if(a)for(i in delete s.handle,s.events={},a)for(n=0,r=a[i].length;n<r;n++)fe.event.add(t,i,a[i][n]);s.data&&(s.data=fe.extend({},s.data))}}function T(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[fe.expando]){for(n in(r=fe._data(t)).events)fe.removeEvent(t,n,r.handle);t.removeAttribute(fe.expando)}"script"===i&&t.text!==e.text?(x(t).text=e.text,C(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),he.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&qe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function D(i,n,r,o){n=oe.apply([],n);var e,t,s,a,l,c,u=0,h=i.length,d=h-1,f=n[0],p=fe.isFunction(f);if(p||1<h&&"string"==typeof f&&!he.checkClone&&st.test(f))return i.each(function(e){var t=i.eq(e);p&&(n[0]=f.call(this,e,t.html())),D(t,n,r,o)});if(h&&(e=(c=m(n,i[0].ownerDocument,!1,i,o)).firstChild,1===c.childNodes.length&&(c=e),e||o)){for(s=(a=fe.map(v(c,"script"),x)).length;u<h;u++)t=c,u!==d&&(t=fe.clone(t,!0,!0),s&&fe.merge(a,v(t,"script"))),r.call(i[u],t,u);if(s)for(l=a[a.length-1].ownerDocument,fe.map(a,C),u=0;u<s;u++)t=a[u],$e.test(t.type||"")&&!fe._data(t,"globalEval")&&fe.contains(l,t)&&(t.src?fe._evalUrl&&fe._evalUrl(t.src):fe.globalEval((t.text||t.textContent||t.innerHTML||"").replace(lt,"")));c=e=null}return i}function M(e,t,i){for(var n,r=t?fe.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||fe.cleanData(v(n)),n.parentNode&&(i&&fe.contains(n.ownerDocument,n)&&y(v(n,"script")),n.parentNode.removeChild(n));return e}function L(e,t){var i=fe(t.createElement(e)).appendTo(t.body),n=fe.css(i[0],"display");return i.detach(),n}function N(e){var t=ne,i=ht[e];return i||("none"!==(i=L(e,t))&&i||((t=((ut=(ut||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||ut[0].contentDocument).document).write(),t.close(),i=L(e,t),ut.detach()),ht[e]=i),i}function E(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function A(e){if(e in Tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=St.length;i--;)if((e=St[i]+t)in Tt)return e}function I(e,t){for(var i,n,r,o=[],s=0,a=e.length;s<a;s++)(n=e[s]).style&&(o[s]=fe._data(n,"olddisplay"),i=n.style.display,t?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Re(n)&&(o[s]=fe._data(n,"olddisplay",N(n.nodeName)))):(r=Re(n),(i&&"none"!==i||!r)&&fe._data(n,"olddisplay",r?i:fe.css(n,"display"))));for(s=0;s<a;s++)(n=e[s]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[s]||"":"none"));return e}function F(e,t,i){var n=xt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function O(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=fe.css(e,i+We[o],!0,r)),n?("content"===i&&(s-=fe.css(e,"padding"+We[o],!0,r)),"margin"!==i&&(s-=fe.css(e,"border"+We[o]+"Width",!0,r))):(s+=fe.css(e,"padding"+We[o],!0,r),"padding"!==i&&(s+=fe.css(e,"border"+We[o]+"Width",!0,r)));return s}function z(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=gt(e),s=he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=vt(e,t,o))<0||null==r)&&(r=e.style[t]),ft.test(r))return r;n=s&&(he.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+O(e,t,i||(s?"border":"content"),n,o)+"px"}function P(e,t,i,n,r){return new P.prototype.init(e,t,i,n,r)}function H(){return k.setTimeout(function(){Dt=undefined}),Dt=fe.now()}function j(e,t){var i,n={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=We[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function W(e,t,i){for(var n,r=(q.tweeners[t]||[]).concat(q.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,t,e))return n}function R(t,e,i){var n,r,o,s,a,l,c,u=this,h={},d=t.style,f=t.nodeType&&Re(t),p=fe._data(t,"fxshow");for(n in i.queue||(null==(a=fe._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,fe.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=fe.css(t,"display"))?fe._data(t,"olddisplay")||N(t.nodeName):c)&&"none"===fe.css(t,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==N(t.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",he.shrinkWrapBlocks()||u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]})),e)if(r=e[n],Ft.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||p[n]===undefined)continue;f=!0}h[n]=p&&p[n]||fe.style(t,n)}else c=undefined;if(fe.isEmptyObject(h))"inline"===("none"===c?N(t.nodeName):c)&&(d.display=c);else for(n in p?"hidden"in p&&(f=p.hidden):p=fe._data(t,"fxshow",{}),o&&(p.hidden=!f),f?fe(t).show():u.done(function(){fe(t).hide()}),u.done(function(){var e;for(e in fe._removeData(t,"fxshow"),h)fe.style(t,e,h[e])}),h)s=W(f?p[n]:0,n,u),n in p||(p[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}function B(e,t){var i,n,r,o,s;for(i in e)if(r=t[n=fe.camelCase(i)],o=e[i],fe.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(s=fe.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r);else t[n]=r}function q(o,e,t){var i,s,n=0,r=q.prefilters.length,a=fe.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=Dt||H(),t=Math.max(0,c.startTime+c.duration-e),i=1-(t/c.duration||0),n=0,r=c.tweens.length;n<r;n++)c.tweens[n].run(i);return a.notifyWith(o,[c,i,t]),i<1&&r?t:(a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:fe.extend({},e),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},t),originalProperties:e,originalOptions:t,startTime:Dt||H(),duration:t.duration,tweens:[],createTween:function(e,t){var i=fe.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var t=0,i=e?c.tweens.length:0;if(s)return this;for(s=!0;t<i;t++)c.tweens[t].run(1);return e?(a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c,e])):a.rejectWith(o,[c,e]),this}}),u=c.props;for(B(u,c.opts.specialEasing);n<r;n++)if(i=q.prefilters[n].call(c,o,u,c.opts))return fe.isFunction(i.stop)&&(fe._queueHooks(c.elem,c.opts.queue).stop=fe.proxy(i.stop,i)),i;return fe.map(u,W,c),fe.isFunction(c.opts.start)&&c.opts.start.call(o,c),fe.fx.timer(fe.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e){return fe.attr(e,"class")||""}function $(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,r=e.toLowerCase().match(Ne)||[];if(fe.isFunction(t))for(;i=r[n++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(t)):(o[i]=o[i]||[]).push(t)}}function Y(t,r,o,s){function a(e){var n;return l[e]=!0,fe.each(t[e]||[],function(e,t){var i=t(r,o,s);return"string"!=typeof i||c||l[i]?c?!(n=i):void 0:(r.dataTypes.unshift(i),a(i),!1)}),n}var l={},c=t===oi;return a(r.dataTypes[0])||!l["*"]&&a("*")}function K(e,t){var i,n,r=fe.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&fe.extend(!0,e,i),e}function X(e,t,i){for(var n,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}n||(n=s)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),i[o]}function G(e,t,i,n){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function V(e){return e.style&&e.style.display||fe.css(e,"display")}function Q(e){if(!fe.contains(e.ownerDocument||ne,e))return!0;for(;e&&1===e.nodeType;){if("none"===V(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Z(i,e,n,r){var t;if(fe.isArray(e))fe.each(e,function(e,t){n||ui.test(i)?r(i,t):Z(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,r)});else if(n||"object"!==fe.type(e))r(i,e);else for(t in e)Z(i+"["+t+"]",e[t],n,r)}function J(){try{return new k.XMLHttpRequest}catch(e){}}function ee(){try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ie=[],ne=k.document,re=ie.slice,oe=ie.concat,se=ie.push,ae=ie.indexOf,le={},ce=le.toString,ue=le.hasOwnProperty,he={},de="1.12.4",fe=function(e,t){return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:de,constructor:fe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(i){return this.pushStack(fe.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ie.sort,splice:ie.splice},fe.extend=fe.fn.extend=function(e){var t,i,n,r,o,s,a=e||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"==typeof a||fe.isFunction(a)||(a={}),l===c&&(a=this,l--);l<c;l++)if(null!=(o=arguments[l]))for(r in o)t=a[r],a!==(n=o[r])&&(u&&n&&(fe.isPlainObject(n)||(i=fe.isArray(n)))?(i?(i=!1,s=t&&fe.isArray(t)?t:[]):s=t&&fe.isPlainObject(t)?t:{},a[r]=fe.extend(u,s,n)):n!==undefined&&(a[r]=n));return a},fe.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!he.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return t===undefined||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(e){e&&fe.trim(e)&&(k.execScript||function(e){k.eval.call(k,e)})(e)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(a(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(a(Object(e))?fe.merge(i,"string"==typeof e?[e]:e):se.call(i,e)),i},inArray:function(e,t,i){var n;if(t){if(ae)return ae.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;)e[r++]=t[n++];if(i!=i)for(;t[n]!==undefined;)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,s=!i;r<o;r++)!t(e[r],r)!==s&&n.push(e[r]);return n},map:function(e,t,i){var n,r,o=0,s=[];if(a(e))for(n=e.length;o<n;o++)null!=(r=t(e[o],o,i))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,i))&&s.push(r);return oe.apply([],s)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(r=e[t],t=e,e=r),fe.isFunction(e)?(i=re.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(re.call(arguments)))}).guid=e.guid=e.guid||fe.guid++,n):undefined},now:function(){return+new Date},support:he}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ie[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var ye=function(i){function w(e,t,i,n){var r,o,s,a,l,c,u,h,d=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!n&&((t?t.ownerDocument||t:W)!==A&&E(t),t=t||A,F)){if(11!==f&&(c=ve.exec(e)))if(r=c[1]){if(9===f){if(!(s=t.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(d&&(s=d.getElementById(r))&&H(t,s)&&s.id===r)return i.push(s),i}else{if(c[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((r=c[3])&&v.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(r)),i}if(v.qsa&&!$[e+" "]&&(!O||!O.test(e))){if(1!==f)d=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,"\\$&"):t.setAttribute("id",a=j),o=(u=S(e)).length,l=de.test(a)?"#"+a:"[id='"+a+"']";o--;)u[o]=l+" "+g(u[o]);h=u.join(","),d=ye.test(e)&&m(t.parentNode)||t}if(h)try{return Z.apply(i,d.querySelectorAll(h)),i}catch(p){}finally{a===j&&t.removeAttribute("id")}}}return D(e.replace(ae,"$1"),t,i,n)}function e(){function i(e,t){return n.push(e+" ")>x.cacheLength&&delete i[n.shift()],i[e+" "]=t}var n=[];return i}function l(e){return e[j]=!0,e}function r(e){var t=A.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var i=e.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=t}function c(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function n(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function o(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function s(s){return l(function(o){return o=+o,l(function(e,t){for(var i,n=s([],e.length,o),r=n.length;r--;)e[i=n[r]]&&(e[i]=!(t[i]=e[i]))})})}function m(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function a(){}function g(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function h(a,e,t){var l=e.dir,c=t&&"parentNode"===l,u=B++;return e.first?function(e,t,i){for(;e=e[l];)if(1===e.nodeType||c)return a(e,t,i)}:function(e,t,i){var n,r,o,s=[R,u];if(i){for(;e=e[l];)if((1===e.nodeType||c)&&a(e,t,i))return!0}else for(;e=e[l];)if(1===e.nodeType||c){if((n=(r=(o=e[j]||(e[j]={}))[e.uniqueID]||(o[e.uniqueID]={}))[l])&&n[0]===R&&n[1]===u)return s[2]=n[2];if((r[l]=s)[2]=a(e,t,i))return!0}}}function d(r){return 1<r.length?function(e,t,i){for(var n=r.length;n--;)if(!r[n](e,t,i))return!1;return!0}:r[0]}function y(e,t,i){for(var n=0,r=t.length;n<r;n++)w(e,t[n],i);return i}function _(e,t,i,n,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(i&&!i(o,n,r)||(s.push(o),c&&t.push(a)));return s}function b(f,p,m,g,v,e){return g&&!g[j]&&(g=b(g)),v&&!v[j]&&(v=b(v,e)),l(function(e,t,i,n){var r,o,s,a=[],l=[],c=t.length,u=e||y(p||"*",i.nodeType?[i]:i,[]),h=!f||!e&&p?u:_(u,a,f,i,n),d=m?v||(e?f:c||g)?[]:t:h;if(m&&m(h,d,i,n),g)for(r=_(d,l),g(r,[],i,n),o=r.length;o--;)(s=r[o])&&(d[l[o]]=!(h[l[o]]=s));if(e){if(v||f){if(v){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);v(null,d=[],r,n)}for(o=d.length;o--;)(s=d[o])&&-1<(r=v?ee(e,s):a[o])&&(e[r]=!(t[r]=s))}}else d=_(d===t?d.splice(c,d.length):d),v?v(null,t,d,n):Z.apply(t,d)})}function f(e){for(var r,t,i,n=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],a=o?1:0,l=h(function(e){return e===r},s,!0),c=h(function(e){return-1<ee(r,e)},s,!0),u=[function(e,t,i){var n=!o&&(i||t!==M)||((r=t).nodeType?l(e,t,i):c(e,t,i));return r=null,n}];a<n;a++)if(t=x.relative[e[a].type])u=[h(d(u),t)];else{if((t=x.filter[e[a].type].apply(null,e[a].matches))[j]){for(i=++a;i<n&&!x.relative[e[i].type];i++);return b(1<a&&d(u),1<a&&g(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),t,a<i&&f(e.slice(a,i)),i<n&&f(e=e.slice(i)),i<n&&g(e))}u.push(t)}return d(u)}function u(g,v){var y=0<v.length,b=0<g.length,e=function(e,t,i,n,r){var o,s,a,l=0,c="0",u=e&&[],h=[],d=M,f=e||b&&x.find.TAG("*",r),p=R+=null==d?1:Math.random()||.1,m=f.length;for(r&&(M=t===A||t||r);c!==m&&null!=(o=f[c]);c++){if(b&&o){for(s=0,t||o.ownerDocument===A||(E(o),i=!F);a=g[s++];)if(a(o,t||A,i)){n.push(o);break}r&&(R=p)}y&&((o=!a&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(s=0;a=v[s++];)a(u,h,t,i);if(e){if(0<l)for(;c--;)u[c]||h[c]||(h[c]=V.call(n));h=_(h)}Z.apply(n,h),r&&!e&&0<h.length&&1<l+v.length&&w.uniqueSort(n)}return r&&(R=p,M=d),u};return y?l(e):e}var p,v,x,k,C,S,T,D,M,L,N,E,A,I,F,O,z,P,H,j="sizzle"+1*new Date,W=i.document,R=0,B=0,q=e(),U=e(),$=e(),Y=function(e,t){return e===t&&(N=!0),0},K=1<<31,X={}.hasOwnProperty,G=[],V=G.pop,Q=G.push,Z=G.push,J=G.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),he=new RegExp(oe),de=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),_e=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xe=function(){E()};try{Z.apply(G=J.call(W.childNodes),W.childNodes),G[W.childNodes.length].nodeType}catch(ke){Z={apply:G.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(p in v=w.support={},C=w.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},E=w.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:W;return n!==A&&9===n.nodeType&&n.documentElement&&(I=(A=n).documentElement,F=!C(A),(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xe,!1):i.attachEvent&&i.attachEvent("onunload",xe)),v.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=r(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=ge.test(A.getElementsByClassName),v.getById=r(function(e){return I.appendChild(e).id=j,!A.getElementsByName||!A.getElementsByName(j).length}),v.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var i=t.getElementById(e);return i?[i]:[]}},x.filter.ID=function(e){var t=e.replace(we,_e);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var i=e.replace(we,_e);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===i}}),x.find.TAG=v.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):v.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;i=o[r++];)1===i.nodeType&&n.push(i);return n},x.find.CLASS=v.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&F)return t.getElementsByClassName(e)},z=[],O=[],(v.qsa=ge.test(A.querySelectorAll))&&(r(function(e){I.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||O.push(".#.+[+~]")}),r(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(v.matchesSelector=ge.test(P=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(e){v.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),z.push("!=",oe)}),O=O.length&&new RegExp(O.join("|")),z=z.length&&new RegExp(z.join("|")),t=ge.test(I.compareDocumentPosition),H=t||ge.test(I.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return N=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===i?e===A||e.ownerDocument===W&&H(W,e)?-1:t===A||t.ownerDocument===W&&H(W,t)?1:L?ee(L,e)-ee(L,t):0:4&i?-1:1)}:function(e,t){if(e===t)return N=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===A?-1:t===A?1:r?-1:o?1:L?ee(L,e)-ee(L,t):0;if(r===o)return c(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?c(s[n],a[n]):s[n]===W?-1:a[n]===W?1:0}),A},w.matches=function(e,t){return w(e,null,null,t)},w.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&E(e),t=t.replace(ue,"='$1']"),v.matchesSelector&&F&&!$[t+" "]&&(!z||!z.test(t))&&(!O||!O.test(t)))try{var i=P.call(e,t);if(i||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(ke){}return 0<w(t,A,null,[e]).length},w.contains=function(e,t){return(e.ownerDocument||e)!==A&&E(e),H(e,t)},w.attr=function(e,t){(e.ownerDocument||e)!==A&&E(e);var i=x.attrHandle[t.toLowerCase()],n=i&&X.call(x.attrHandle,t.toLowerCase())?i(e,t,!F):undefined;return n!==undefined?n:v.attributes||!F?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},w.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},w.uniqueSort=function(e){var t,i=[],n=0,r=0;if(N=!v.detectDuplicates,L=!v.sortStable&&e.slice(0),e.sort(Y),N){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return L=null,e},k=w.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},(x=w.selectors={cacheLength:50,createPseudo:l,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(we,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||w.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&w.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=S(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(i,n,r){return function(e){
var t=w.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===r:"!="===n?t!==r:"^="===n?r&&0===t.indexOf(r):"*="===n?r&&-1<t.indexOf(r):"$="===n?r&&t.slice(-r.length)===r:"~="===n?-1<(" "+t.replace(se," ")+" ").indexOf(r):"|="===n&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,m,g){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,i){var n,r,o,s,a,l,c=v!==y?"nextSibling":"previousSibling",u=e.parentNode,h=b&&e.nodeName.toLowerCase(),d=!i&&!b,f=!1;if(u){if(v){for(;c;){for(s=e;s=s[c];)if(b?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&d){for(f=(a=(n=(r=(o=(s=u)[j]||(s[j]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===R&&n[1])&&n[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(f=a=0)||l.pop();)if(1===s.nodeType&&++f&&s===e){r[p]=[R,a,f];break}}else if(d&&(f=a=(n=(r=(o=(s=e)[j]||(s[j]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===R&&n[1]),!1===f)for(;(s=++a&&s&&s[c]||(f=a=0)||l.pop())&&((b?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((r=(o=s[j]||(s[j]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[R,f]),s!==e)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(e,o){var t,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||w.error("unsupported pseudo: "+e);return s[j]?s(o):1<s.length?(t=[e,e,"",o],x.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var i,n=s(e,o),r=n.length;r--;)e[i=ee(e,n[r])]=!(t[i]=n[r])}):function(e){return s(e,0,t)}):s}},pseudos:{not:l(function(e){var n=[],r=[],a=T(e.replace(ae,"$1"));return a[j]?l(function(e,t,i,n){for(var r,o=a(e,null,n,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,i){return n[0]=e,a(n,null,i,r),n[0]=null,!r.pop()}}),has:l(function(t){return function(e){return 0<w(t,e).length}}),contains:l(function(t){return t=t.replace(we,_e),function(e){return-1<(e.textContent||e.innerText||k(e)).indexOf(t)}}),lang:l(function(i){return de.test(i||"")||w.error("unsupported lang: "+i),i=i.replace(we,_e).toLowerCase(),function(e){var t;do{if(t=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,i){return[i<0?i+t:i]}),even:s(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:s(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:s(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:s(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[p]=n(p);for(p in{submit:!0,reset:!0})x.pseudos[p]=o(p);return a.prototype=x.filters=x.pseudos,x.setFilters=new a,S=w.tokenize=function(e,t){var i,n,r,o,s,a,l,c=U[e+" "];if(c)return t?0:c.slice(0);for(s=e,a=[],l=x.preFilter;s;){for(o in i&&!(n=le.exec(s))||(n&&(s=s.slice(n[0].length)||s),a.push(r=[])),i=!1,(n=ce.exec(s))&&(i=n.shift(),r.push({value:i,type:n[0].replace(ae," ")}),s=s.slice(i.length)),x.filter)!(n=fe[o].exec(s))||l[o]&&!(n=l[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),s=s.slice(i.length));if(!i)break}return t?s.length:s?w.error(e):U(e,a).slice(0)},T=w.compile=function(e,t){var i,n=[],r=[],o=$[e+" "];if(!o){for(t||(t=S(e)),i=t.length;i--;)(o=f(t[i]))[j]?n.push(o):r.push(o);(o=$(e,u(r,n))).selector=e}return o},D=w.select=function(e,t,i,n){var r,o,s,a,l,c="function"==typeof e&&e,u=!n&&S(e=c.selector||e);if(i=i||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&v.getById&&9===t.nodeType&&F&&x.relative[o[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(we,_e),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(n=l(s.matches[0].replace(we,_e),ye.test(o[0].type)&&m(t.parentNode)||t))){if(o.splice(r,1),!(e=n.length&&g(o)))return Z.apply(i,n),i;break}}return(c||T(e,u))(n,t,!F,i,!t||ye.test(e)&&m(t.parentNode)||t),i},v.sortStable=j.split("").sort(Y).join("")===j,v.detectDuplicates=!!N,E(),v.sortDetached=r(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),w}(k);fe.find=ye,fe.expr=ye.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ye.uniqueSort,fe.text=ye.getText,fe.isXMLDoc=ye.isXML,fe.contains=ye.contains;var be=function(e,t,i){for(var n=[],r=i!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(i))break;n.push(e)}return n},we=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},_e=fe.expr.match.needsContext,xe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ke=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?fe.find.matchesSelector(n,e)?[n]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<r;t++)if(fe.contains(n[t],this))return!0}));for(t=0;t<r;t++)fe.find(e,n[t],i);return(i=this.pushStack(1<r?fe.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&_e.test(e)?fe(e):e||[],!1).length}});var Ce,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||Ce,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?"undefined"!=typeof i.ready?i.ready(e):e(fe):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Se.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),xe.test(n[1])&&fe.isPlainObject(t))for(n in t)fe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=ne.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return Ce.find(e);this.length=1,this[0]=r}return this.context=ne,this.selector=e,this}).prototype=fe.fn,Ce=fe(ne);var Te=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,i=fe(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(fe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,o=[],s=_e.test(e)||"string"!=typeof e?fe(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&fe.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(1<o.length?fe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,i){return be(e,"parentNode",i)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,i){return be(e,"nextSibling",i)},prevUntil:function(e,t,i){return be(e,"previousSibling",i)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(n,r){fe.fn[n]=function(e,t){var i=fe.map(this,r,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=fe.filter(t,i)),1<this.length&&(De[n]||(i=fe.uniqueSort(i)),Te.test(n)&&(i=i.reverse())),this.pushStack(i)}});var Me,Le,Ne=/\S+/g;for(Le in fe.Callbacks=function(n){n="string"==typeof n?u(n):fe.extend({},n);var r,e,t,i,o=[],s=[],a=-1,l=function(){for(i=n.once,t=r=!0;s.length;a=-1)for(e=s.shift();++a<o.length;)!1===o[a].apply(e[0],e[1])&&n.stopOnFalse&&(a=o.length,e=!1);n.memory||(e=!1),r=!1,i&&(o=e?[]:"")},c={add:function(){return o&&(e&&!r&&(a=o.length-1,s.push(e)),function i(e){fe.each(e,function(e,t){fe.isFunction(t)?n.unique&&c.has(t)||o.push(t):t&&t.length&&"string"!==fe.type(t)&&i(t)})}(arguments),e&&!r&&l()),this},remove:function(){return fe.each(arguments,function(e,t){for(var i;-1<(i=fe.inArray(t,o,i));)o.splice(i,1),i<=a&&a--}),this},has:function(e){return e?-1<fe.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=e="",this},disabled:function(){return!o},lock:function(){return i=!0,e||c.disable(),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),r||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},fe.extend({Deferred:function(e){var o=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return fe.Deferred(function(n){fe.each(o,function(e,t){var i=fe.isFunction(r[e])&&r[e];a[t[1]](function(){var e=i&&i.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this===s?n.promise():this,i?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?fe.extend(e,s):s}},a={};return s.pipe=s.then,fe.each(o,function(e,t){var i=t[2],n=t[3];s[t[1]]=i.add,n&&i.add(function(){r=n},o[1^e][2].disable,o[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?s:this,arguments),this},a[t[0]+"With"]=i.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){var r,t,i,n=0,o=re.call(arguments),s=o.length,a=1!==s||e&&fe.isFunction(e.promise)?s:0,l=1===a?e:fe.Deferred(),c=function(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?re.call(arguments):e,n===r?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(1<s)for(r=new Array(s),t=new Array(s),i=new Array(s);n<s;n++)o[n]&&fe.isFunction(o[n].promise)?o[n].promise().progress(c(n,t,r)).done(c(n,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}}),fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0)!==e&&0<--fe.readyWait||(Me.resolveWith(ne,[fe]),fe.fn.triggerHandler&&(fe(ne).triggerHandler("ready"),fe(ne).off("ready")))}}),fe.ready.promise=function(e){if(!Me)if(Me=fe.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)k.setTimeout(fe.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",o),k.addEventListener("load",o);else{ne.attachEvent("onreadystatechange",o),k.attachEvent("onload",o);var t=!1;try{t=null==k.frameElement&&ne.documentElement}catch(i){}t&&t.doScroll&&function n(){if(!fe.isReady){try{t.doScroll("left")}catch(i){return k.setTimeout(n,50)}r(),fe.ready()}}()}return Me.promise(e)},fe.ready.promise(),fe(he))break;he.ownFirst="0"===Le,he.inlineBlockNeedsLayout=!1,fe(function(){var e,t,i,n;(i=ne.getElementsByTagName("body")[0])&&i.style&&(t=ne.createElement("div"),(n=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",he.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=ne.createElement("div");he.deleteExpando=!0;try{delete e.test}catch(t){he.deleteExpando=!1}e=null}();var Ee,Ae=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!c(e)},data:function(e,t,i){return n(e,t,i)},removeData:function(e,t){return s(e,t)},_data:function(e,t,i){return n(e,t,i,!0)},_removeData:function(e,t){return s(e,t,!0)}}),fe.fn.extend({data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(e!==undefined)return"object"==typeof e?this.each(function(){fe.data(this,e)}):1<arguments.length?this.each(function(){fe.data(this,e,t)}):o?l(o,e,fe.data(o,e)):undefined;if(this.length&&(r=fe.data(o),1===o.nodeType&&!fe._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&l(o,n=fe.camelCase(n.slice(5)),r[n]);fe._data(o,"parsedAttrs",!0)}return r},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=fe._data(e,t),i&&(!n||fe.isArray(i)?n=fe._data(e,t,fe.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=fe.queue(e,t),n=i.length,r=i.shift(),o=fe._queueHooks(e,t),s=function(){fe.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return fe._data(e,i)||fe._data(e,i,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,i)})})}}),fe.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?fe.queue(this[0],t):i===undefined?this:this.each(function(){var e=fe.queue(this,t,i);fe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&fe.dequeue(this,t)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=fe.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";s--;)(i=fe._data(o[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}}),he.shrinkWrapBlocks=function(){return null!=Ee?Ee:(Ee=!1,(t=ne.getElementsByTagName("body")[0])&&t.style?(e=ne.createElement("div"),(i=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ne.createElement("div")).style.width="5px",Ee=3!==e.offsetWidth),t.removeChild(i),Ee):void 0);var e,t,i};var Oe,ze,Pe,He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Be=function(e,t,i,n,r,o,s){var a=0,l=e.length,c=null==i;if("object"===fe.type(i))for(a in r=!0,i)Be(e,t,a,i[a],!0,o,s);else if(n!==undefined&&(r=!0,fe.isFunction(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(fe(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return r?e:c?t.call(e):l?t(e[0],i):o},qe=/^(?:checkbox|radio)$/i,Ue=/<([\w:-]+)/,$e=/^$|\/(?:java|ecma)script/i,Ye=/^\s+/,Ke="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Oe=ne.createElement("div"),ze=ne.createDocumentFragment(),Pe=ne.createElement("input"),Oe.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",he.leadingWhitespace=3===Oe.firstChild.nodeType,he.tbody=!Oe.getElementsByTagName("tbody").length,he.htmlSerialize=!!Oe.getElementsByTagName("link").length,he.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,Pe.type="checkbox",Pe.checked=!0,ze.appendChild(Pe),he.appendChecked=Pe.checked,Oe.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!Oe.cloneNode(!0).lastChild.defaultValue,ze.appendChild(Oe),(Pe=ne.createElement("input")).setAttribute("type","radio"),Pe.setAttribute("checked","checked"),Pe.setAttribute("name","t"),Oe.appendChild(Pe),he.checkClone=Oe.cloneNode(!0).cloneNode(!0).lastChild.checked,he.noCloneEvent=!!Oe.addEventListener,Oe[fe.expando]=1,he.attributes=!Oe.getAttribute(fe.expando);var Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Ge=/<|&#?\w+;/,Ve=/<tbody/i;!function(){var e,t,i=ne.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(he[e]=t in k)||(i.setAttribute(t,"t"),he[e]=!1===i.attributes[t].expando);i=null}();var Qe=/^(?:input|select|textarea)$/i,Ze=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,i,n,r){var o,s,a,l,c,u,h,d,f,p,m,g=fe._data(e);if(g){for(i.handler&&(i=(l=i).handler,r=l.selector),i.guid||(i.guid=fe.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||((u=g.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?undefined:fe.event.dispatch.apply(u.elem,arguments)}).elem=e),a=(t=(t||"").match(Ne)||[""]).length;a--;)f=m=(o=tt.exec(t[a])||[])[1],p=(o[2]||"").split(".").sort(),f&&(c=fe.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=fe.event.special[f]||{},h=fe.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:p.join(".")},l),(d=s[f])||((d=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,p,u)||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),fe.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){var o,s,a,l,c,u,h,d,f,p,m,g=fe.hasData(e)&&fe._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(Ne)||[""]).length;c--;)if(f=m=(a=tt.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=fe.event.special[f]||{},d=u[f=(n?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&m!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||fe.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)fe.event.remove(e,f+t[c],i,n,!0);fe.isEmptyObject(u)&&(delete g.handle,fe._removeData(e,"events"))}},trigger:function(e,t,i,n){var r,o,s,a,l,c,u,h=[i||ne],d=ue.call(e,"type")?e.type:e,f=ue.call(e,"namespace")?e.namespace.split("."):[];if(s=c=i=i||ne,3!==i.nodeType&&8!==i.nodeType&&!et.test(d+fe.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),o=d.indexOf(":")<0&&"on"+d,(e=e[fe.expando]?e:new fe.Event(d,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),t=null==t?[e]:fe.makeArray(t,[e]),l=fe.event.special[d]||{},n||!l.trigger||!1!==l.trigger.apply(i,t))){if(!n&&!l.noBubble&&!fe.isWindow(i)){for(a=l.delegateType||d,et.test(a+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(i.ownerDocument||ne)&&h.push(c.defaultView||c.parentWindow||k)}for(u=0;(s=h[u++])&&!e.isPropagationStopped();)e.type=1<u?a:l.bindType||d,(r=(fe._data(s,"events")||{})[e.type]&&fe._data(s,"handle"))&&r.apply(s,t),(r=o&&s[o])&&r.apply&&Ae(s)&&(e.result=r.apply(s,t),!1===e.result&&e.preventDefault());if(e.type=d,!n&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),t))&&Ae(i)&&o&&i[d]&&!fe.isWindow(i)){(c=i[o])&&(i[o]=null),fe.event.triggered=d;try{i[d]()}catch(p){}fe.event.triggered=undefined,c&&(i[o]=c)}return e.result}},dispatch:function(e){e=fe.event.fix(e);var t,i,n,r,o,s=[],a=re.call(arguments),l=(fe._data(this,"events")||{})[e.type]||[],c=fe.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=fe.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,(n=((fe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))!==undefined&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<a;i++)n[r=(o=t[i]).selector+" "]===undefined&&(n[r]=o.needsContext?-1<fe(r,this).index(l):fe.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[fe.expando])return e;var t,i,n,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Je.test(r)?this.mouseHooks:Ze.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new fe.Event(o),t=n.length;t--;)e[i=n[t]]=o[i];return e.target||(e.target=o.srcElement||ne),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||ne).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=fe.extend(new fe.Event,i,{type:e,isSimulated:!0});fe.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},fe.removeEvent=ne.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?d:f):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){fe.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=this,n=e.relatedTarget,r=e.handleObj;return n&&(n===i||fe.contains(i,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),he.submit||(fe.event.special.submit={setup:function(){if(fe.nodeName(this,"form"))return!1;fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):undefined;i&&!fe._data(i,"submit")&&(fe.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),fe._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(fe.nodeName(this,"form"))return!1;fe.event.remove(this,"._submit")}}),he.change||(fe.event.special.change={setup:function(){if(Qe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1;fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Qe.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return fe.event.remove(this,"._change"),!Qe.test(this.nodeName)}}),he.focusin||fe.each({focus:"focusin",blur:"focusout"},function(i,n){var r=function(e){fe.event.simulate(n,e.target,fe.event.fix(e))};fe.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=fe._data(e,n);t||e.addEventListener(i,r,!0),fe._data(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=fe._data(e,n)-1;t?fe._data(e,n,t):(e.removeEventListener(i,r,!0),fe._removeData(e,n))}}}),fe.fn.extend({on:function(e,t,i,n){return w(this,e,t,i,n)},one:function(e,t,i,n){return w(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,fe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=undefined),!1===i&&(i=f),this.each(function(){fe.event.remove(this,e,i,t)});for(r in e)this.off(r,t,e[r]);return this},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return fe.event.trigger(e,t,i,!0)}});var it=/ jQuery\d+="(?:null|\d+)"/g,nt=new RegExp("<(?:"+Ke+")[\\s/>]","i"),rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot=/<script|<style|<link/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct=g(ne).appendChild(ne.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,i){var n,r,o,s,a,l=fe.contains(e.ownerDocument,e);if(he.html5Clone||fe.isXMLDoc(e)||!nt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ct.innerHTML=e.outerHTML,ct.removeChild(o=ct.firstChild)),!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(n=v(o),a=v(e),s=0;null!=(r=a[s]);++s)n[s]&&T(r,n[s]);if(t)if(i)for(a=a||v(e),n=n||v(o),s=0;null!=(r=a[s]);s++)S(r,n[s]);else S(e,o);return 0<(n=v(o,"script")).length&&y(n,!l&&v(e,"script")),n=a=r=null,o},cleanData:function(e,t){for(var i,n,r,o,s=0,a=fe.expando,l=fe.cache,c=he.attributes,u=fe.event.special;null!=(i=e[s]);s++)if((t||Ae(i))&&(o=(r=i[a])&&l[r])){if(o.events)for(n in o.events)u[n]?fe.event.remove(i,n):fe.removeEvent(i,n,o.handle);l[r]&&(delete l[r],c||"undefined"==typeof i.removeAttribute?i[a]=undefined:i.removeAttribute(a),ie.push(r))}}}),fe.fn.extend({domManip:D,detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return Be(this,function(e){return e===undefined?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_(this,e).appendChild(e)})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Be(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(it,""):undefined;if("string"==typeof e&&!ot.test(e)&&(he.htmlSerialize||!nt.test(e))&&(he.leadingWhitespace||!Ye.test(e))&&!Xe[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(fe.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return D(this,arguments,function(e){var t=this.parentNode;fe.inArray(this,i)<0&&(
fe.cleanData(v(this)),t&&t.replaceChild(e,this))},i)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){fe.fn[e]=function(e){for(var t,i=0,n=[],r=fe(e),o=r.length-1;i<=o;i++)t=i===o?this:this.clone(!0),fe(r[i])[s](t),se.apply(n,t.get());return this.pushStack(n)}});var ut,ht={HTML:"block",BODY:"block"},dt=/^margin/,ft=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),pt=function(e,t,i,n){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=i.apply(e,n||[]),t)e.style[o]=s[o];return r},mt=ne.documentElement;!function(){function e(){var e,t,i=ne.documentElement;i.appendChild(c),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=l=!1,r=a=!0,k.getComputedStyle&&(t=k.getComputedStyle(u),n="1%"!==(t||{}).top,l="2px"===(t||{}).marginLeft,o="4px"===(t||{width:"4px"}).width,u.style.marginRight="50%",r="4px"===(t||{marginRight:"4px"}).marginRight,(e=u.appendChild(ne.createElement("div"))).style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",a=!parseFloat((k.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",(s=0===u.getClientRects().length)&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",(e=u.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",s=0===e[0].offsetHeight)),i.removeChild(c)}var n,r,o,s,a,l,c=ne.createElement("div"),u=ne.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",he.opacity="0.5"===u.style.opacity,he.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===u.style.backgroundClip,(c=ne.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",c.appendChild(u),he.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,fe.extend(he,{reliableHiddenOffsets:function(){return null==n&&e(),s},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),r},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),a},reliableMarginLeft:function(){return null==n&&e(),l}}))}();var gt,vt,yt=/^(top|right|bottom|left)$/;k.getComputedStyle?(gt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=k),t.getComputedStyle(e)},vt=function(e,t,i){var n,r,o,s,a=e.style;return""!==(s=(i=i||gt(e))?i.getPropertyValue(t)||i[t]:undefined)&&s!==undefined||fe.contains(e.ownerDocument,e)||(s=fe.style(e,t)),i&&!he.pixelMarginRight()&&ft.test(s)&&dt.test(t)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o),s===undefined?s:s+""}):mt.currentStyle&&(gt=function(e){return e.currentStyle},vt=function(e,t,i){var n,r,o,s,a=e.style;return null==(s=(i=i||gt(e))?i[t]:undefined)&&a&&a[t]&&(s=a[t]),ft.test(s)&&!yt.test(t)&&(n=a.left,(o=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=n,o&&(r.left=o)),s===undefined?s:s+""||"auto"});var bt=/alpha\([^)]*\)/i,wt=/opacity\s*=\s*([^)]*)/i,_t=/^(none|table(?!-c[ea]).+)/,xt=new RegExp("^("+He+")(.*)$","i"),kt={position:"absolute",visibility:"hidden",display:"block"},Ct={letterSpacing:"0",fontWeight:"400"},St=["Webkit","O","Moz","ms"],Tt=ne.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=vt(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=fe.camelCase(t),l=e.style;if(t=fe.cssProps[a]||(fe.cssProps[a]=A(a)||a),s=fe.cssHooks[t]||fe.cssHooks[a],i===undefined)return s&&"get"in s&&(r=s.get(e,!1,n))!==undefined?r:l[t];if("string"===(o=typeof i)&&(r=je.exec(i))&&r[1]&&(i=h(e,t,r),o="number"),null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(fe.cssNumber[a]?"":"px")),he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&(i=s.set(e,i,n))===undefined)))try{l[t]=i}catch(c){}}},css:function(e,t,i,n){var r,o,s,a=fe.camelCase(t);return t=fe.cssProps[a]||(fe.cssProps[a]=A(a)||a),(s=fe.cssHooks[t]||fe.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,i)),o===undefined&&(o=vt(e,t,n)),"normal"===o&&t in Ct&&(o=Ct[t]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),fe.each(["height","width"],function(e,r){fe.cssHooks[r]={get:function(e,t,i){if(t)return _t.test(fe.css(e,"display"))&&0===e.offsetWidth?pt(e,kt,function(){return z(e,r,i)}):z(e,r,i)},set:function(e,t,i){var n=i&&gt(e);return F(e,t,i?O(e,r,i,he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,n),n):0)}}}),he.opacity||(fe.cssHooks.opacity={get:function(e,t){return wt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";((i.zoom=1)<=t||""===t)&&""===fe.trim(o.replace(bt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=bt.test(o)?o.replace(bt,r):o+" "+r)}}),fe.cssHooks.marginRight=E(he.reliableMarginRight,function(e,t){if(t)return pt(e,{display:"inline-block"},vt,[e,"marginRight"])}),fe.cssHooks.marginLeft=E(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(vt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-pt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(r,o){fe.cssHooks[r+o]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[r+We[t]+o]=n[t]||n[t-2]||n[0];return i}},dt.test(r)||(fe.cssHooks[r+o].set=F)}),fe.fn.extend({css:function(e,t){return Be(this,function(e,t,i){var n,r,o={},s=0;if(fe.isArray(t)){for(n=gt(e),r=t.length;s<r;s++)o[t[s]]=fe.css(e,t[s],!1,n);return o}return i!==undefined?fe.style(e,t,i):fe.css(e,t)},e,t,1<arguments.length)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?fe(this).show():fe(this).hide()})}}),(fe.Tween=P).prototype={constructor:P,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(fe.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=P.prototype.init,fe.fx.step={};var Dt,Mt,Lt,Nt,Et,At,It,Ft=/^(?:toggle|show|hide)$/,Ot=/queueHooks$/;fe.Animation=fe.extend(q,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return h(i.elem,e,je.exec(t),i),i}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(Ne);for(var i,n=0,r=e.length;n<r;n++)i=e[n],q.tweeners[i]=q.tweeners[i]||[],q.tweeners[i].unshift(t)},prefilters:[R],prefilter:function(e,t){t?q.prefilters.unshift(e):q.prefilters.push(e)}}),fe.speed=function(e,t,i){var n=e&&"object"==typeof e?fe.extend({},e):{complete:i||!i&&t||fe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!fe.isFunction(t)&&t};return n.duration=fe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in fe.fx.speeds?fe.fx.speeds[n.duration]:fe.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){fe.isFunction(n.old)&&n.old.call(this),n.queue&&fe.dequeue(this,n.queue)},n},fe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var r=fe.isEmptyObject(t),o=fe.speed(e,i,n),s=function(){var e=q(this,fe.extend({},t),o);(r||fe._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,e,o){var s=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=undefined),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=fe.timers,n=fe._data(this);if(t)n[t]&&n[t].stop&&s(n[t]);else for(t in n)n[t]&&n[t].stop&&Ot.test(t)&&s(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(o),e=!1,i.splice(t,1));!e&&o||fe.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=fe._data(this),i=t[s+"queue"],n=t[s+"queueHooks"],r=fe.timers,o=i?i.length:0;for(t.finish=!0,fe.queue(this,s,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===s&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),fe.each(["toggle","show","hide"],function(e,n){var r=fe.fn[n];fe.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(j(n,!0),e,t,i)}}),fe.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){fe.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,i=0;for(Dt=fe.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||fe.fx.stop(),Dt=undefined},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){Mt||(Mt=k.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){k.clearInterval(Mt),Mt=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(n,e){return n=fe.fx&&fe.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=k.setTimeout(e,n);t.stop=function(){k.clearTimeout(i)}})},Nt=ne.createElement("input"),Et=ne.createElement("div"),At=ne.createElement("select"),It=At.appendChild(ne.createElement("option")),(Et=ne.createElement("div")).setAttribute("className","t"),Et.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Lt=Et.getElementsByTagName("a")[0],Nt.setAttribute("type","checkbox"),Et.appendChild(Nt),(Lt=Et.getElementsByTagName("a")[0]).style.cssText="top:1px",he.getSetAttribute="t"!==Et.className,he.style=/top/.test(Lt.getAttribute("style")),he.hrefNormalized="/a"===Lt.getAttribute("href"),he.checkOn=!!Nt.value,he.optSelected=It.selected,he.enctype=!!ne.createElement("form").enctype,At.disabled=!0,he.optDisabled=!It.disabled,(Nt=ne.createElement("input")).setAttribute("value",""),he.input=""===Nt.getAttribute("value"),Nt.value="t",Nt.setAttribute("type","radio"),he.radioValue="t"===Nt.value;var zt=/\r/g,Pt=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(i){var n,e,r,t=this[0];return arguments.length?(r=fe.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?i.call(this,e,fe(this).val()):i)?t="":"number"==typeof t?t+="":fe.isArray(t)&&(t=fe.map(t,function(e){return null==e?"":e+""})),(n=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,t,"value")!==undefined||(this.value=t))})):t?(n=fe.valHooks[t.type]||fe.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&(e=n.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(zt,""):null==e?"":e:void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(Pt," ")}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,s=o?null:[],a=o?r+1:n.length,l=r<0?a:o?r:0;l<a;l++)if(((i=n[l]).selected||l===r)&&(he.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!fe.nodeName(i.parentNode,"optgroup"))){if(t=fe(i).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var i,n,r=e.options,o=fe.makeArray(t),s=r.length;s--;)if(n=r[s],-1<fe.inArray(fe.valHooks.option.get(n),o))try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=-1<fe.inArray(fe(e).val(),t)}},he.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ht,jt,Wt=fe.expr.attrHandle,Rt=/^(?:checked|selected)$/i,Bt=he.getSetAttribute,qt=he.input;fe.fn.extend({attr:function(e,t){return Be(this,fe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?fe.prop(e,t,i):(1===o&&fe.isXMLDoc(e)||(t=t.toLowerCase(),r=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?jt:Ht)),i!==undefined?null===i?void fe.removeAttr(e,t):r&&"set"in r&&(n=r.set(e,i,t))!==undefined?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=fe.find.attr(e,t))?undefined:n)},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,r=0,o=t&&t.match(Ne);if(o&&1===e.nodeType)for(;i=o[r++];)n=fe.propFix[i]||i,fe.expr.match.bool.test(i)?qt&&Bt||!Rt.test(i)?e[n]=!1:e[fe.camelCase("default-"+i)]=e[n]=!1:fe.attr(e,i,""),e.removeAttribute(Bt?i:n)}}),jt={set:function(e,t,i){return!1===t?fe.removeAttr(e,i):qt&&Bt||!Rt.test(i)?e.setAttribute(!Bt&&fe.propFix[i]||i,i):e[fe.camelCase("default-"+i)]=e[i]=!0,i}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Wt[t]||fe.find.attr;qt&&Bt||!Rt.test(t)?Wt[t]=function(e,t,i){var n,r;return i||(r=Wt[t],Wt[t]=n,n=null!=o(e,t,i)?t.toLowerCase():null,Wt[t]=r),n}:Wt[t]=function(e,t,i){if(!i)return e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),qt&&Bt||(fe.attrHooks.value={set:function(e,t,i){if(!fe.nodeName(e,"input"))return Ht&&Ht.set(e,t,i);e.defaultValue=t}}),Bt||(Ht={set:function(e,t,i){var n=e.getAttributeNode(i);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i))return t}},Wt.id=Wt.name=Wt.coords=function(e,t,i){var n;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},fe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:Ht.set},fe.attrHooks.contenteditable={set:function(e,t,i){Ht.set(e,""!==t&&t,i)}},fe.each(["width","height"],function(e,i){fe.attrHooks[i]={set:function(e,t){if(""===t)return e.setAttribute(i,"auto"),t}}})),he.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Ut=/^(?:input|select|textarea|button|object)$/i,$t=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Be(this,fe.prop,e,t,1<arguments.length)},removeProp:function(t){return t=fe.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),fe.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),i!==undefined?r&&"set"in r&&(n=r.set(e,i,t))!==undefined?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):Ut.test(e.nodeName)||$t.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),he.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),he.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),he.enctype||(fe.propFix.enctype="encoding");var Yt=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(fe.isFunction(t))return this.each(function(e){fe(this).addClass(t.call(this,e,U(this)))});if("string"==typeof t&&t)for(e=t.match(Ne)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&(" "+r+" ").replace(Yt," ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=fe.trim(n))&&fe.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(fe.isFunction(t))return this.each(function(e){fe(this).removeClass(t.call(this,e,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ne)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&(" "+r+" ").replace(Yt," ")){for(s=0;o=e[s++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");r!==(a=fe.trim(n))&&fe.attr(i,"class",a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"===o?t?this.addClass(r):this.removeClass(r):fe.isFunction(r)?this.each(function(e){fe(this).toggleClass(r.call(this,e,U(this),t),t)}):this.each(function(){var e,t,i,n;if("string"===o)for(t=0,i=fe(this),n=r.match(Ne)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else r!==undefined&&"boolean"!==o||((e=U(this))&&fe._data(this,"__className__",e),fe.attr(this,"class",e||!1===r?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+U(i)+" ").replace(Yt," ").indexOf(t))return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){fe.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Kt=k.location,Xt=fe.now(),Gt=/\?/,Vt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(e){if(k.JSON&&k.JSON.parse)return k.JSON.parse(e+"");var r,o=null,t=fe.trim(e+"");return t&&!fe.trim(t.replace(Vt,function(e,t,i,n){return r&&t&&(o=0),0===o?e:(r=i||t,o+=!n-!i,"")}))?Function("return "+t)():fe.error("Invalid JSON: "+e)},fe.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{k.DOMParser?t=(new k.DOMParser).parseFromString(e,"text/xml"):((t=new k.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(i){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+e),t};var Qt=/#.*$/,Zt=/([?&])_=[^&]*/,Jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ei=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ti=/^(?:GET|HEAD)$/,ii=/^\/\//,ni=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ri={},oi={},si="*/".concat("*"),ai=Kt.href,li=ni.exec(ai.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ai,type:"GET",isLocal:ei.test(li[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":si,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,fe.ajaxSettings),t):K(fe.ajaxSettings,e)},ajaxPrefilter:$(ri),ajaxTransport:$(oi),ajax:function(e,t){function i(e,t,i,n){var r,o,s,a,l,c=t;2!==_&&(_=2,d&&k.clearTimeout(d),p=undefined,h=n||"",x.readyState=0<e?4:0,r=200<=e&&e<300||304===e,i&&(a=X(m,x,i)),a=G(m,a,x,r),r?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(fe.lastModified[u]=l),(l=x.getResponseHeader("etag"))&&(fe.etag[u]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=a.state,o=a.data,r=!(s=a.error))):(s=c,!e&&c||(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",r?y.resolveWith(g,[o,c,x]):y.rejectWith(g,[x,c,s]),x.statusCode(w),w=undefined,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[x,m,r?o:s]),b.fireWith(g,[x,c]),f&&(v.trigger("ajaxComplete",[x,m]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,u,h,d,f,p,o,m=fe.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?fe(g):fe.event,y=fe.Deferred(),b=fe.Callbacks("once memory"),w=m.statusCode||{},s={},a={},_=0,l="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!o)for(o={};t=Jt.exec(h);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?h:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return _||(e=a[i]=a[i]||e,s[e]=t),this},overrideMimeType:function(e){return _||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(_<2)for(t in e)w[t]=[w[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||l;return p&&p.abort(t),i(0,t),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,m.url=((e||m.url||ai)+"").replace(Qt,"").replace(ii,li[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=fe.trim(m.dataType||"*").toLowerCase().match(Ne)||[""],null==m.crossDomain&&(n=ni.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===li[1]&&n[2]===li[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(li[3]||("http:"===li[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fe.param(m.data,m.traditional)),Y(ri,m,t,x),2===_)return x;for(r in(f=fe.event&&m.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!ti.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(Gt.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Zt.test(u)?u.replace(Zt,"$1_="+Xt++):u+(Gt.test(u)?"&":"?")+"_="+Xt++)),m.ifModified&&(fe.lastModified[u]&&x.setRequestHeader("If-Modified-Since",fe.lastModified[u]),fe.etag[u]&&x.setRequestHeader("If-None-Match",fe.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+si+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===_))return x.abort();for(r in l="abort",{success:1,error:1,complete:1})x[r](m[r]);if(p=Y(oi,m,t,x)){if(x.readyState=1,f&&v.trigger("ajaxSend",[x,m]),2===_)return x;m.async&&0<m.timeout&&(d=k.setTimeout(function(){x.abort("timeout")},m.timeout));try{_=1,p.send(s,i)}catch(c){if(!(_<2))throw c;i(-1,c)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return fe.get(e,t,i,"json")},getScript:function(e,t){return fe.get(e,undefined,t,"script")}}),fe.each(["get","post"],function(e,r){fe[r]=function(e,t,i,n){return fe.isFunction(t)&&(n=n||i,i=t,t=undefined),fe.ajax(fe.extend({url:e,type:r,dataType:n,data:t,success:i},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},fe.fn.extend({wrapAll:function(t){if(fe.isFunction(t))return this.each(function(e){fe(this).wrapAll(t.call(this,e))});if(this[0]){var e=fe(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(i){return fe.isFunction(i)?this.each(function(e){fe(this).wrapInner(i.call(this,e))}):this.each(function(){var e=fe(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=fe.isFunction(t);return this.each(function(e){fe(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var ci=/%20/g,ui=/\[\]$/,hi=/\r?\n/g,di=/^(?:submit|button|image|reset|file)$/i,fi=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var i,n=[],r=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value)});else for(i in e)Z(i,e[i],t,r);return n.join("&").replace(ci,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&fi.test(this.nodeName)&&!di.test(e)&&(this.checked||!qe.test(e))}).map(function(e,t){var i=fe(this).val();return null==i?null:fe.isArray(i)?fe.map(i,function(e){return{name:t.name,value:e.replace(hi,"\r\n")}}):{name:t.name,value:i.replace(hi,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=k.ActiveXObject!==undefined?function(){return this.isLocal?ee():8<ne.documentMode?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee()}:J;var pi=0,mi={},gi=fe.ajaxSettings.xhr();k.attachEvent&&k.attachEvent("onunload",function(){for(var e in mi)mi[e](undefined,!0)}),he.cors=!!gi&&"withCredentials"in gi,(gi=he.ajax=!!gi)&&fe.ajaxTransport(function(c){var u;if(!c.crossDomain||he.cors)return{send:function(e,s){var t,a=c.xhr(),l=++pi;if(a.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(t in c.xhrFields)a[t]=c.xhrFields[t];for(t in c.mimeType&&a.overrideMimeType&&a.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)e[t]!==undefined&&a.setRequestHeader(t,e[t]+"");a.send(c.hasContent&&c.data||null),u=function(e,t){var i,n,r;if(u&&(t||4===a.readyState))if(delete mi[l],u=undefined,a.onreadystatechange=fe.noop,t)4!==a.readyState&&a.abort();else{r={},i=a.status,"string"==typeof a.responseText&&(r.text=a.responseText);try{n=a.statusText}catch(o){n=""}i||!c.isLocal||c.crossDomain?1223===i&&(i=204):i=r.text?200:404}r&&s(i,n,r,a.getAllResponseHeaders())},c.async?4===a.readyState?k.setTimeout(u):a.onreadystatechange=mi[l]=u:u()},abort:function(){u&&u(undefined,!0)}}}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(t){if(t.crossDomain){var n,r=ne.head||fe("head")[0]||ne.documentElement;return{send:function(e,i){(n=ne.createElement("script")).async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(undefined,!0)}}}});var vi=[],yi=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=vi.pop()||fe.expando+"_"+Xt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(e,t,i){var n,r,o,s=!1!==e.jsonp&&(yi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&yi.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=fe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(yi,"$1"+n):!1!==e.jsonp&&(e.url+=(Gt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||fe.error(n+" was not called"),o[0]},e.dataTypes[0]="json",r=k[n],k[n]=function(){o=arguments},i.always(function(){r===undefined?fe(k).removeProp(n):k[n]=r,e[n]&&(e.jsonpCallback=t.jsonpCallback,vi.push(n)),o&&fe.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),fe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ne;var n=xe.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=m([e],t,r),r&&r.length&&fe(r).remove(),fe.merge([],n.childNodes))};var bi=fe.fn.load;fe.fn.load=function(e,t,i){if("string"!=typeof e&&bi)return bi.apply(this,arguments);var n,r,o,s=this,a=e.indexOf(" ");return-1<a&&(n=fe.trim(e.slice(a,e.length)),e=e.slice(0,a)),fe.isFunction(t)?(i=t,t=undefined):t&&"object"==typeof t&&(r="POST"),0<s.length&&fe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?fe("<div>").append(fe.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(t){return fe.grep(fe.timers,function(e){return t===e.elem}).length},fe.offset={setOffset:function(e,t,i){var n,r,o,s,a,l,c=fe.css(e,"position"),u=fe(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=fe.css(e,"top"),l=fe.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<fe.inArray("auto",[o,l])?(s=(n=u.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),fe.isFunction(t)&&(t=t.call(e,i,fe.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):u.css(h)}},fe.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){fe.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,fe.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=te(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===fe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(i=e.offset()),i.top+=fe.css(e[0],"borderTopWidth",!0),i.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-fe.css(n,"marginTop",!0),left:t.left-i.left-fe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||mt})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o=/Y/.test(r);fe.fn[t]=function(e){return Be(this,function(e,t,i){var n=te(e);if(i===undefined)return n?r in n?n[r]:n.document.documentElement[t]:e[t];n?n.scrollTo(o?fe(n).scrollLeft():i,o?i:fe(n).scrollTop()):e[t]=i},t,e,arguments.length,null)}}),fe.each(["top","left"],function(e,i){fe.cssHooks[i]=E(he.pixelPosition,function(e,t){if(t)return t=vt(e,i),ft.test(t)?fe(e
).position()[i]+"px":t})}),fe.each({Height:"height",Width:"width"},function(o,s){fe.each({padding:"inner"+o,content:s,"":"outer"+o},function(n,e){fe.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),r=n||(!0===e||!0===t?"margin":"border");return Be(this,function(e,t,i){var n;return fe.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+o],n["scroll"+o],e.body["offset"+o],n["offset"+o],n["client"+o])):i===undefined?fe.css(e,t,r):fe.style(e,t,i,r)},s,i?e:undefined,i,null)}})}),fe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var wi=k.jQuery,_i=k.$;return fe.noConflict=function(e){return k.$===fe&&(k.$=_i),e&&k.jQuery===fe&&(k.jQuery=wi),fe},e||(k.jQuery=k.$=fe),fe}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var e=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=c.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(e,t,i){var n=u.Event(t);return e.trigger(n,i),!1!==n.result},confirm:function(e){return confirm(e)},ajax:function(e){return u.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==l&&!1!==e.data("remote")},handleRemote:function(n){var e,t,i,r,o,s;if(c.fire(n,"ajax:before")){if(r=n.data("with-credentials")||null,o=n.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,n.is("form")){e=n.data("ujs:submit-button-formmethod")||n.attr("method"),t=n.data("ujs:submit-button-formaction")||n.attr("action"),i=u(n[0]).serializeArray();var a=n.data("ujs:submit-button");a&&(i.push(a),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(c.inputChangeSelector)?(e=n.data("method"),t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):n.is(c.buttonClickSelector)?(e=n.data("method")||"get",t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):(e=n.data("method"),t=c.href(n),i=n.data("params")||null);return s={type:e||"GET",data:i,dataType:o,beforeSend:function(e,t){if(t.dataType===l&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!c.fire(n,"ajax:beforeSend",[e,t]))return!1;n.trigger("ajax:send",e)},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:c.isCrossDomain(t)},r&&(s.xhrFields={withCredentials:r}),t&&(s.url=t),c.ajax(s)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(e){var t=c.href(e),i=e.data("method"),n=e.attr("target"),r=c.csrfToken(),o=c.csrfParam(),s=u('<form method="post" action="'+t+'"></form>'),a='<input name="_method" value="'+i+'" type="hidden" />';o===l||r===l||c.isCrossDomain(t)||(a+='<input name="'+o+'" value="'+r+'" type="hidden" />'),n&&s.attr("target",n),s.hide().append(a).appendTo("body"),s.submit()},formElements:function(e,t){return e.is("form")?u(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){c.formElements(e,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(e){var t,i;t=e.is("button")?"html":"val",(i=e.data("disable-with"))!==l&&(e.data("ujs:enable-with",e[t]()),e[t](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){c.formElements(e,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==l&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),n=!1;if(!i)return!0;if(c.fire(e,"confirm")){try{n=c.confirm(i)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=c.fire(e,"confirm:complete",[n])}return n&&t},blankInputs:function(e,t,i){var n,r,o,s=u(),a=t||"input,textarea",l=e.find(a),c={};return l.each(function(){(n=u(this)).is("input[type=radio]")?(o=n.attr("name"),c[o]||(0===e.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=e.find('input[type=radio][name="'+o+'"]'),s=s.add(r)),c[o]=o)):(n.is("input[type=checkbox],input[type=radio]")?n.is(":checked"):!!n.val())===i&&(s=s.add(n))}),!!s.length&&s},nonBlankInputs:function(e,t){return c.blankInputs(e,t,!0)},stopEverything:function(e){return u(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==l&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return c.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==l&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},c.fire(e,"rails:attachBindings")&&(u.ajaxPrefilter(function(e,t,i){e.crossDomain||c.CSRFProtection(i)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableFormElement(e)}),u(u.rails.linkDisableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableElement(e)})}),e.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),e.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),e.on("click.rails",c.linkClickSelector,function(e){var t=u(this),i=t.data("method"),n=t.data("params"),r=e.metaKey||e.ctrlKey;if(!c.allowAction(t))return c.stopEverything(e);if(!r&&t.is(c.linkDisableSelector)&&c.disableElement(t),c.isRemote(t)){if(r&&(!i||"GET"===i)&&!n)return!0;var o=c.handleRemote(t);return!1===o?c.enableElement(t):o.fail(function(){c.enableElement(t)}),!1}return i?(c.handleMethod(t),!1):void 0}),e.on("click.rails",c.buttonClickSelector,function(e){var t=u(this);if(!c.allowAction(t)||!c.isRemote(t))return c.stopEverything(e);t.is(c.buttonDisableSelector)&&c.disableFormElement(t);var i=c.handleRemote(t);return!1===i?c.enableFormElement(t):i.fail(function(){c.enableFormElement(t)}),!1}),e.on("change.rails",c.inputChangeSelector,function(e){var t=u(this);return c.allowAction(t)&&c.isRemote(t)?(c.handleRemote(t),!1):c.stopEverything(e)}),e.on("submit.rails",c.formSubmitSelector,function(e){var t,i,n=u(this),r=c.isRemote(n);if(!c.allowAction(n))return c.stopEverything(e);if(n.attr("novalidate")===l)if(n.data("ujs:formnovalidate-button")===l){if((t=c.blankInputs(n,c.requiredInputSelector,!1))&&c.fire(n,"ajax:aborted:required",[t]))return c.stopEverything(e)}else n.data("ujs:formnovalidate-button",l);if(r){if(i=c.nonBlankInputs(n,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(n)},13);var o=c.fire(n,"ajax:aborted:file",[i]);return o||setTimeout(function(){c.enableFormElements(n)},13),o}return c.handleRemote(n),!1}setTimeout(function(){c.disableFormElements(n)},13)}),e.on("click.rails",c.formInputClickSelector,function(e){var t=u(this);if(!c.allowAction(t))return c.stopEverything(e);var i=t.attr("name"),n=i?{name:i,value:t.val()}:null,r=t.closest("form");0===r.length&&(r=u("#"+t.attr("form"))),r.data("ujs:submit-button",n),r.data("ujs:formnovalidate-button",t.attr("formnovalidate")),r.data("ujs:submit-button-formaction",t.attr("formaction")),r.data("ujs:submit-button-formmethod",t.attr("formmethod"))}),e.on("ajax:send.rails",c.formSubmitSelector,function(e){this===e.target&&c.disableFormElements(u(this))}),e.on("ajax:complete.rails",c.formSubmitSelector,function(e){this===e.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(u){var o,i=0,a=Array.prototype.slice;return u.cleanData=(o=u.cleanData,function(e){var t,i,n;for(n=0;null!=(i=e[n]);n++)try{(t=u._data(i,"events"))&&t.remove&&u(i).triggerHandler("remove")}catch(r){}o(e)}),u.widget=function(e,i,t){var n,r,o,s={},a=e.split(".")[0],l=a+"-"+(e=e.split(".")[1]);return t||(t=i,i=u.Widget),u.isArray(t)&&(t=u.extend.apply(null,[{}].concat(t))),u.expr[":"][l.toLowerCase()]=function(e){return!!u.data(e,l)},u[a]=u[a]||{},n=u[a][e],r=u[a][e]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},u.extend(r,n,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(o=new i).options=u.widget.extend({},o.options),u.each(t,function(t,o){u.isFunction(o)?s[t]=function(){function n(){return i.prototype[t].apply(this,arguments)}function r(e){return i.prototype[t].apply(this,e)}return function(){var e,t=this._super,i=this._superApply;return this._super=n,this._superApply=r,e=o.apply(this,arguments),this._super=t,this._superApply=i,e}}():s[t]=o}),r.prototype=u.widget.extend(o,{widgetEventPrefix:n&&o.widgetEventPrefix||e},s,{constructor:r,namespace:a,widgetName:e,widgetFullName:l}),n?(u.each(n._childConstructors,function(e,t){var i=t.prototype;u.widget(i.namespace+"."+i.widgetName,r,t._proto)}),delete n._childConstructors):i._childConstructors.push(r),u.widget.bridge(e,r),r},u.widget.extend=function(e){for(var t,i,n=a.call(arguments,1),r=0,o=n.length;r<o;r++)for(t in n[r])i=n[r][t],n[r].hasOwnProperty(t)&&i!==undefined&&(u.isPlainObject(i)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],i):u.widget.extend({},i):e[t]=i);return e},u.widget.bridge=function(o,t){var s=t.prototype.widgetFullName||o;u.fn[o]=function(i){var e="string"==typeof i,n=a.call(arguments,1),r=this;return e?this.length||"instance"!==i?this.each(function(){var e,t=u.data(this,s);return"instance"===i?(r=t,!1):t?u.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&e!==undefined?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+i+"' for "+o+" widget instance"):u.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):r=undefined:(n.length&&(i=u.widget.extend.apply(null,[i].concat(n))),this.each(function(){var e=u.data(this,s);e?(e.option(i||{}),e._init&&e._init()):u.data(this,s,new t(i,this))})),r}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=u(),this.hoverable=u(),this.focusable=u(),this.classesElementLookup={},t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){var i=this;this._destroy(),u.each(this.classesElementLookup,function(e,t){i._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var i,n,r,o=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(i=e.split(".")).shift(),i.length){for(n=o[e]=u.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)n[i[r]]=n[i[r]]||{},n=n[i[r]];if(e=i.pop(),1===arguments.length)return n[e]===undefined?null:n[e];n[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,i,n;for(t in e)n=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&n&&n.length&&(i=u(n.get()),this._removeClass(n,t),i.addClass(this._classes({element:i,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function e(e,t){var i,n;for(n=0;n<e.length;n++)i=s.classesElementLookup[e[n]]||u(),i=r.add?u(u.unique(i.get().concat(r.element.get()))):u(i.not(r.element).get()),s.classesElementLookup[e[n]]=i,o.push(e[n]),t&&r.classes[e[n]]&&o.push(r.classes[e[n]])}var o=[],s=this;return r=u.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&e(r.keys.match(/\S+/g)||[],!0),r.extra&&e(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var n=this;u.each(n.classesElementLookup,function(e,t){-1!==u.inArray(i.target,t)&&(n.classesElementLookup[e]=u(t.not(i.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof e||null===e,o={extra:r?t:i,keys:r?e:t,element:r?this.element:e,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(s,a,e){var l,c=this;"boolean"!=typeof s&&(e=a,a=s,s=!1),e?(a=l=u(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,l=this.widget()),u.each(e,function(e,t){function i(){if(s||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||u.guid++);var n=e.match(/^([\w:-]*)\s*(.*)$/),r=n[1]+c.eventNamespace,o=n[2];o?l.on(r,o,i):a.on(r,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=u(this.bindings.not(e).get()),this.focusable=u(this.focusable.not(e).get()),this.hoverable=u(this.hoverable.not(e).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(u(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(u(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,i){var n,r,o=this.options[e];if(i=i||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(n in r)n in t||(t[n]=r[n]);return this.element.trigger(t,i),!(u.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(o,s){u.Widget.prototype["_"+o]=function(t,e,i){var n;"string"==typeof e&&(e={effect:e});var r=e?!0===e||"number"==typeof e?s:e.effect||s:o;"number"==typeof(e=e||{})&&(e={duration:e}),n=!u.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&u.effects&&u.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,i):t.queue(function(e){u(this)[o](),i&&i.call(t[0]),e()})}}),u.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(r){var o=!1;return r(document).on("mouseup",function(){o=!1}),r.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===r.data(e.target,t.widgetName+".preventClickEvent"))return r.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&r(e.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===r.data(e.target,this.widgetName+".preventClickEvent")&&r.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(r.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&r.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(n){return n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(e){return!!n.data(e,t)}}):function(e,t,i){return!!n.data(e,i[3])}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(o){return o.fn.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=o(this);return(!i||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:o(this[0].ownerDocument||document)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],e):e(jQuery)}(function(f){return f.widget("ui.sortable",f.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),f.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var i=null,n=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),f(e.target).parents().each(function(){if(f.data(this,r.widgetName+"-item")===r)return i=f(this),!1}),f.data(e.target,r.widgetName+"-item")===r&&(i=f(e.target)),!!i&&(!(this.options.handle&&!t&&(f(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var n,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=f("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!o.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,n,r,o=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&f.ui.ddmanager&&!o.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(n=(i=this.items[t]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===n||f.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&f.contains(this.element[0],n))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),f.ui.ddmanager&&f.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,e),this.options.revert){var i=this,n=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,f(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new f.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},f(e).each(function(){var e=(f(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(f(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||a<n+c&&n+c<l,d="y"===this.options.axis||o<t+u&&t+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!r)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){function t(){s.push(this)}var i,n,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(
i=l.length-1;0<=i;i--)for(n=(r=f(l[i],this.document[0])).length-1;0<=n;n--)(o=f.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([f.isFunction(o.options.items)?o.options.items.call(o.element):f(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;0<=i;i--)a[i][0].each(t);return f(s)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=f.grep(this.items,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,n,r,o,s,a,l,c=this.items,u=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):f(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(t=h.length-1;0<=t;t--)for(i=(n=f(h[t],this.document[0])).length-1;0<=i;i--)(r=f.data(n[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([f.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):f(r.options.items,r.element),r]),this.containers.push(r));for(t=u.length-1;0<=t;t--)for(o=u[t][1],i=0,l=(s=u[t][0]).length;i<l;i++)(a=f(s[i])).data(this.widgetName+"-item",o),c.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,i,n,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(i=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?f(this.options.toleranceElement,i.item):i.item,e||(i.width=n.outerWidth(),i.height=n.outerHeight()),r=n.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(i){var n,r=(i=i||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var e=i.currentItem[0].nodeName.toLowerCase(),t=f("<"+e+">",i.document[0]);return i._addClass(t,"ui-sortable-placeholder",n||i.currentItem[0].className)._removeClass(t,"ui-sortable-helper"),"tbody"===e?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),f("<tr>",i.document[0]).appendTo(t)):"tr"===e?i._createTrPlaceholder(i.currentItem,t):"img"===e&&t.attr("src",i.currentItem.attr("src")),n||t.css("visibility","hidden"),t},update:function(e,t){n&&!r.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=f(r.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),r.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(e,t){var i=this;e.children().each(function(){f("<td>&#160;</td>",i.document[0]).attr("colspan",f(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){var t,i,n,r,o,s,a,l,c,u,h=null,d=null;for(t=this.containers.length-1;0<=t;t--)if(!f.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(h&&f.contains(this.containers[t].element[0],h.element[0]))continue;h=this.containers[t],d=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(n=1e4,r=null,o=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",s=c?"width":"height",u=c?"pageX":"pageY",i=this.items.length-1;0<=i;i--)f.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[o],l=!1,e[u]-a>this.items[i][s]/2&&(l=!0),Math.abs(e[u]-a)<n&&(n=Math.abs(e[u]-a),r=this.items[i],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var t=this.options,i=f.isFunction(t.helper)?f(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||f("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!t.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!t.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),f.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&f.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=f(n.containment)[0],t=f(n.containment).offset(),i="hidden"!==f(e).css("overflow"),this.containment=[t.left+(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())*i}},_generatePosition:function(e){var t,i,n=this.options,r=e.pageX,o=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(t=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-n.grid[1]:t+n.grid[1]:t,i=this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(t,i,n){return function(e){n._trigger(t,e,i._uiHash(i))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===f.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||f([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}})}),function(){var e,n=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function i(e,t){this.form_field=e,this.options=null!=t?t:{},this.label_click_handler=n(this.label_click_handler,this),i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return i.prototype.set_default_values=function(){var t,i;return this.click_test_action=(t=this,function(e){return t.test_active_click(e)}),this.activate_action=(i=this,function(e){return i.activate_field(e)}),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},i.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+this.escape_html(e.group_label)+"</b>"+e.html:e.html},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout((e=this,function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var e},i.prototype.input_blur=function(){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((e=this,function(){return e.blur_test()}),100);var e},i.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},i.prototype.results_option_build=function(e){var t,i,n,r,o,s,a;for(t="",r=a=0,o=(s=this.results_data).length;r<o&&((n="")!==(n=(i=s[r]).group?this.result_add_group(i):this.result_add_option(i))&&(a++,t+=n),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(a>=this.max_shown_results));r++);return t},i.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),e.style&&(i.style.cssText=e.style),i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.highlighted_html||e.html,e.title&&(i.title=e.title),this.outerHTML(i)):""},i.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),i.innerHTML=e.highlighted_html||this.escape_html(e.label),e.title&&(i.title=e.title),this.outerHTML(i)):""},i.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},i.prototype.reset_single_select_options=function(){var e,t,i,n,r;for(r=[],e=0,t=(i=this.results_data).length;e<t;e++)(n=i[e]).selected?r.push(n.selected=!1):r.push(void 0);return r},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(e){var t,i,n,r,o,s,a,l,c,u,h,d,f,p,m;for(this.no_results_clear(),u=0,t=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(t),n=0,r=(l=this.results_data).length;n<r;n++)(o=l[n]).search_match=!1,d=h=null,o.highlighted_html="",this.include_option_in_results(o)&&(o.group&&(o.group_match=!1,o.active_options=0),null!=o.group_array_index&&this.results_data[o.group_array_index]&&(0===(h=this.results_data[o.group_array_index]).active_options&&h.search_match&&(u+=1),h.active_options+=1),m=o.group?o.label:o.text,o.group&&!this.group_search||(d=this.search_string_match(m,c),o.search_match=null!=d,o.search_match&&!o.group&&(u+=1),o.search_match?(a.length&&(f=d.index,s=m.slice(0,f),i=m.slice(f,f+a.length),p=m.slice(f+a.length),o.highlighted_html=this.escape_html(s)+"<em>"+this.escape_html(i)+"</em>"+this.escape_html(p)),null!=h&&(h.group_match=!0)):null!=o.group_array_index&&this.results_data[o.group_array_index].search_match&&(o.search_match=!0)));return this.result_clear_highlight(),u<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),(null!=e?e.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},i.prototype.get_search_regex=function(e){var t,i;return i=this.search_contains?e:"(^|\\s|\\b)"+e+"[^\\s]*",this.enable_split_word_search||this.search_contains||(i="^"+i),t=this.case_sensitive_search?"":"i",new RegExp(i,t)},i.prototype.search_string_match=function(e,t){var i;return i=t.exec(e),!this.search_contains&&(null!=i?i[1]:void 0)&&(i.index+=1),i},i.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},i.prototype.keydown_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.keyup_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),i){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},i.prototype.clipboard_event_checker=function(){var e;if(!this.is_disabled)return setTimeout((e=this,function(){return e.results_search()}),50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},i.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},i.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},i.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},i.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},i.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(e)+"</span>\n</li>"},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",i}(),window.AbstractChosen=e}.call(this),function(){var s;(s=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,r,o,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),s=[],i=0,n=(o=e.childNodes).length;i<n;i++)r=o[i],s.push(this.add_option(r,t,e.disabled));return s},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e}()).select_to_array=function(e){var t,i,n,r,o;for(r=new s,i=0,n=(o=e.childNodes).length;i<n;i++)t=o[i],r.add_node(t);return r.parsed},window.SelectParser=s}.call(this),function(){var a,n,i=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;(a=jQuery).fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var e,t;t=(e=a(this)).data("chosen"),"destroy"!==i?t instanceof n||e.data("chosen",new n(this,i)):t instanceof n&&t.destroy()}):this}}),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},t.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={"class":e.join(" "),title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",t),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},t.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},t.prototype.register_observers=function(){var t,i,n,r,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,_,x,k,C;return this.container.on("touchstart.chosen",(t=this,function(e){t.container_mousedown(e)})),this.container.on("touchend.chosen",(i=this,function(e){i.container_mouseup(e)})),this.container.on("mousedown.chosen",(n=this,function(e){n.container_mousedown(e)})),this.container.on("mouseup.chosen",(r=this,function(e){r.container_mouseup(e)})),this.container.on("mouseenter.chosen",(o=this,function(e){o.mouse_enter(e)})),this.container.on("mouseleave.chosen",(s=this,function(e){s.mouse_leave(e)})),this.search_results.on("mouseup.chosen",(a=this,function(e){a.search_results_mouseup(e)})),this.search_results.on("mouseover.chosen",(l=this,function(e){l.search_results_mouseover(e)})),this.search_results.on("mouseout.chosen",(c=this,function(e){c.search_results_mouseout(e)})),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",(u=this,function(e){u.search_results_mousewheel(e)})),this.search_results.on("touchstart.chosen",(h=this,function(e){h.search_results_touchstart(e)})),this.search_results.on("touchmove.chosen",(d=this,function(e){d.search_results_touchmove(e)})),this.search_results.on("touchend.chosen",(f=this,function(e){f.search_results_touchend(e)})),this.form_field_jq.on("chosen:updated.chosen",(p=this,function(e){p.results_update_field(e)})),this.form_field_jq.on("chosen:activate.chosen",(m=this,function(e){m.activate_field(e)})),this.form_field_jq.on("chosen:open.chosen",(g=this,function(e){g.container_mousedown(e)})),this.form_field_jq.on("chosen:close.chosen",(v=this,function(e){v.close_field(e)})),this.search_field.on("blur.chosen",(y=this,function(e){y.input_blur(e)})),this.search_field.on("keyup.chosen",(b=this,function(e){b.keyup_checker(e)})),this.search_field.on("keydown.chosen",(w=this,function(e){w.keydown_checker(e)})),this.search_field.on("focus.chosen",(_=this,function(e){_.input_focus(e)})),this.search_field.on("cut.chosen",(x=this,function(e){x.clipboard_event_checker(e)})),this.search_field.on("paste.chosen",(k=this,function(e){k.clipboard_event_checker(e)})),this.is_multiple?this.search_choices.on("click.chosen",(C=this,function(e){C.choices_click(e)})):this.container.on("click.chosen",function(e){e.preventDefault()})},t.prototype.destroy=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},t.prototype.container_mousedown=function(e){var t;if(!this.is_disabled)return!e||"mousedown"!==(t=e.type)&&"touchstart"!==t||this.results_showing||e.preventDefault(),null!=e&&a(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||a(e.target)[0]!==this.selected_item[0]&&!a(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},t.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},t.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},t.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},t.prototype.close_field=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),
this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},t.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(e){var t;return(t=a(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(e){var t,i,n,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(n=parseInt(this.search_results.css("maxHeight"),10))+(r=this.search_results.scrollTop())<=(t=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-n?t-n:0);if(i<r)return this.search_results.scrollTop(i)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},t.prototype.update_results_content=function(e){return this.search_results.html(e)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},t.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(e){var t;if((t=a(e.target).hasClass("active-result")?a(e.target):a(e.target).parents(".active-result").first()).length)return this.result_highlight=t,this.result_select(e),this.search_field.focus()},t.prototype.search_results_mouseover=function(e){var t;if(t=a(e.target).hasClass("active-result")?a(e.target):a(e.target).parents(".active-result").first())return this.result_do_highlight(t)},t.prototype.search_results_mouseout=function(e){if(a(e.target).hasClass("active-result")||a(e.target).parents(".active-result").first())return this.result_clear_highlight()},t.prototype.choice_build=function(e){var t,i,n;return t=a("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((i=a("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",(n=this,function(e){return n.choice_destroy_link_click(e)})),t.append(i)),this.search_container.before(t)},t.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(a(e.target))},t.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},t.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(i=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)?e.metaKey||e.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},t.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},t.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},t.prototype.get_search_field_value=function(){return this.search_field.val()},t.prototype.get_search_text=function(){return a.trim(this.get_search_field_value())},t.prototype.escape_html=function(e){return a("<div/>").text(e).html()},t.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},t.prototype.no_results=function(e){var t;return t=this.get_no_results_html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.search_field_scale=function(){var e,t,i,n,r,o,s;if(this.is_multiple){for(r={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},t=0,i=(o=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;t<i;t++)r[n=o[t]]=this.search_field.css(n);return(e=a("<div />").css(r)).text(this.get_search_field_value()),a("body").append(e),s=e.width()+25,e.remove(),this.container.is(":visible")&&(s=Math.min(this.container.outerWidth()-10,s)),this.search_field.width(s)}},t.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},t}(AbstractChosen)}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],e):e(jQuery)}(function(k){function l(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},k.extend(this._defaults,this.regional[""]),this.regional.en=k.extend(!0,{},this.regional[""]),this.regional["en-US"]=k.extend(!0,{},this.regional.en),this.dpDiv=i(k("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){k(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&k(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&k(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",t,s)}function s(){k.datepicker._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])||(k(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),k(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&k(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&k(this).addClass("ui-datepicker-next-hover"))}function h(e,t){for(var i in k.extend(e,t),t)null==t[i]&&(e[i]=t[i]);return e}var a;return k.extend(k.ui,{datepicker:{version:"1.12.1"}}),k.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return h(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var i,n,r;n="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(k(e),n)).settings=k.extend({},t||{}),"input"===i?this._connectDatepicker(e,r):n&&this._inlineDatepicker(e,r)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?i(k("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var i=k(e);t.append=k([]),t.trigger=k([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(t),k.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i,n,r,o=this._get(t,"appendText"),s=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=k("<span class='"+this._appendClass+"'>"+o+"</span>"),e[s?"before":"after"](t.append)),e.off("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(i=this._get(t,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(t,"buttonText"),r=this._get(t,"buttonImage"),t.trigger=k(this._get(t,"buttonImageOnly")?k("<img/>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):k("<button type='button'></button>").addClass(this._triggerClass).html(r?k("<img/>").attr({src:r,alt:n,title:n}):n)),e[s?"before":"after"](t.trigger),t.trigger.on("click",function(){return k.datepicker._datepickerShowing&&k.datepicker._lastInput===e[0]?k.datepicker._hideDatepicker():(k.datepicker._datepickerShowing&&k.datepicker._lastInput!==e[0]&&k.datepicker._hideDatepicker(),k.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,r,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(r=n=i=0;r<e.length;r++)e[r].length>i&&(i=e[r].length,n=r);return n},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(e,t){var i=k(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv),k.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,r){var o,s,a,l,c,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=k("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),k("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},k.data(this._dialogInput[0],"datepicker",u)),h(u.settings,n||{}),t=t&&t.constructor===Date?this._formatDate(u,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(s=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+l,a/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),k.blockUI&&k.blockUI(this.dpDiv),k.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var t,i=k(e),n=k.data(e,"datepicker");i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),k.removeData(e,"datepicker"),"input"===t?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||i.removeClass(this.markerClassName).empty(),a===n&&(a=null))},_enableDatepicker:function(t){var e,i,n=k(t),r=k.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=k.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,i,n=k(t),r=k.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=k.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return k.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n,r,o,s,a=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?k.extend({},k.datepicker._defaults):a?"all"===t?k.extend({},a.settings):this._get(a,t):null;n=t||{},"string"==typeof t&&((n={})[t]=i),a&&(this._curInst===a&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(a,"min"),s=this._getMinMaxDate(a,"max"),h(a.settings,n),null!==o&&n.dateFormat!==undefined&&n.minDate===undefined&&(a.settings.minDate=this._formatDate(a,o)),null!==s&&n.dateFormat!==undefined&&n.maxDate===undefined&&(a.settings.maxDate=this._formatDate(a,s)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(k(e),a),this._autoSize(a),this._setDate(a,r),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t,i,n,r=k.datepicker._getInst(e.target),o=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,k.datepicker._datepickerShowing)switch(e.keyCode){case 9:k.datepicker._hideDatepicker(),o=!1;break;case 13:return(n=k("td."+k.datepicker._dayOverClass+":not(."+k.datepicker._currentClass+")",r.dpDiv))[0]&&k.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,n[0]),(t=k.datepicker._get(r,"onSelect"))?(i=k.datepicker._formatDate(r),t.apply(r.input?r.input[0]:null,[i,r])):k.datepicker._hideDatepicker(),!1;case 27:k.datepicker._hideDatepicker();break;case 33:k.datepicker._adjustDate(e.target,e.ctrlKey?-k.datepicker._get(r,"stepBigMonths"):-k.datepicker._get(r,"stepMonths"),"M");break;case 34:k.datepicker._adjustDate(e.target,e.ctrlKey?+k.datepicker._get(r,"stepBigMonths"):+k.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&k.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&k.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&k.datepicker._adjustDate(e.target,s?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&k.datepicker._adjustDate(e.target,e.ctrlKey?-k.datepicker._get(r,"stepBigMonths"):-k.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&k.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&k.datepicker._adjustDate(e.target,s?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&k.datepicker._adjustDate(e.target,e.ctrlKey?+k.datepicker._get(r,"stepBigMonths"):+k.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&k.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?k.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,i,n=k.datepicker._getInst(e.target);if(k.datepicker._get(n,"constrainInput"))return t=k.datepicker._possibleChars(k.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!t||-1<t.indexOf(i)},_doKeyUp:function(e){var t=k.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{k.datepicker.parseDate(k.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,k.datepicker._getFormatConfig(t))&&(k.datepicker._setDateFromField(t),k.datepicker._updateAlternate(t),k.datepicker._updateDatepicker(t))}catch(i){}return!0},_showDatepicker:function(e){var t,i,n,r,o,s,a;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=k("input",e.parentNode)[0]),k.datepicker._isDisabledDatepicker(e)||k.datepicker._lastInput===e)||(t=k.datepicker._getInst(e),k.datepicker._curInst&&k.datepicker._curInst!==t&&(k.datepicker._curInst.dpDiv.stop(!0,!0),t&&k.datepicker._datepickerShowing&&k.datepicker._hideDatepicker(k.datepicker._curInst.input[0])),!1!==(n=(i=k.datepicker._get(t,"beforeShow"))?i.apply(e,[e,t]):{})&&(h(t.settings,n),t.lastVal=null,k.datepicker._lastInput=e,k.datepicker._setDateFromField(t),k.datepicker._inDialog&&(e.value=""),k.datepicker._pos||(k.datepicker._pos=k.datepicker._findPos(e),k.datepicker._pos[1]+=e.offsetHeight),r=!1,k(e).parents().each(function(){return!(r|="fixed"===k(this).css("position"))}),o={left:k.datepicker._pos[0],top:k.datepicker._pos[1]},k.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),k.datepicker._updateDatepicker(t),o=k.datepicker._checkOffset(t,o,r),t.dpDiv.css({position:k.datepicker._inDialog&&k.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),t.inline||(s=k.datepicker._get(t,"showAnim"),a=k.datepicker._get(t,"duration"),t.dpDiv.css("z-index",l(k(e))+1),k.datepicker._datepickerShowing=!0,k.effects&&k.effects.effect[s]?t.dpDiv.show(s,k.datepicker._get(t,"showOptions"),a):t.dpDiv[s||"show"](s?a:null),k.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),k.datepicker._curInst=t)))},_updateDatepicker:function(e){this.maxRows=4,(a=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,i=this._getNumberOfMonths(e),n=i[1],r=17,o=e.dpDiv.find("."+this._dayOverClass+" a");0<o.length&&s.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",r*n+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===k.datepicker._curInst&&k.datepicker._datepickerShowing&&k.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:k(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:k(document).scrollTop());return t.left-=this._get(e,"isRTL")?n-o:0,t.left-=i&&t.left===e.input.offset().left?k(document).scrollLeft():0,t.top-=i&&t.top===e.input.offset().top+s?k(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>a&&n<a?Math.abs(t.left+n-a):0),t.top-=Math.min(t.top,t.top+r>l&&r<l?Math.abs(r+s):0),t},_findPos:function(e){for(var t,i=this._getInst(e),n=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||k.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(t=k(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,i,n,r,o=this._curInst;!o||e&&o!==k.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(o,"showAnim"),i=this._get(o,"duration"),n=function(){k.datepicker._tidyDialog(o)},k.effects&&(k.effects.effect[t]||k.effects[t])?o.dpDiv.hide(t,k.datepicker._get(o,"showOptions"),i,n):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?i:null,n),t||n(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),k.blockUI&&(k.unblockUI(),k("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(k.datepicker._curInst){var t=k(e.target),i=k.datepicker._getInst(t[0]);(t[0].id===k.datepicker._mainDivId||0!==t.parents("#"+k.datepicker._mainDivId).length||t.hasClass(k.datepicker.markerClassName)||t.closest("."+k.datepicker._triggerClass).length||!k.datepicker._datepickerShowing||k.datepicker._inDialog&&k.blockUI)&&(!t.hasClass(k.datepicker.markerClassName)||k.datepicker._curInst===i)||k.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=k(e),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,t+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var t,i=k(e),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(t=new Date,n.selectedDay=t.getDate(),n.drawMonth=n.selectedMonth=t.getMonth(),n.drawYear=n.selectedYear=t.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(e,t,i){var n=k(e),r=this._getInst(n[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(e,t,i,n){var r,o=k(e);k(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=k("a",n).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var t=k(e);this._selectDate(t,"")},_selectDate:function(e,t){var i,n=k(e),r=this._getInst(n[0]);t=null!=t?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r),(i=this._get(r,"onSelect"))?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var t,i,n,r=this._get(e,"altField");r&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),n=this.formatDate(t,i,this._getFormatConfig(e)),k(r).val(n))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,o,e){if(null==i||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;var n,t,r,s,a=0,l=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,h=(e?e.dayNames:null)||this._defaults.dayNames,d=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,f=(e?e.monthNames:null)||this._defaults.monthNames,p=-1,m=-1,g=-1,v=-1,y=!1,b=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},w=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),r=o.substring(a).match(n);if(!r)throw"Missing number at position "+a;return a+=r[0].length,parseInt(r[0],10)},_=function(e,t,i){var n=-1,r=k.map(b(e)?i:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(k.each(r,function(e,t){var i=t[1];if(o.substr(a,i.length).toLowerCase()===i.toLowerCase())return n=t[0],a+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+a},x=function(){if(o.charAt(a)!==i.charAt(n))throw"Unexpected literal at position "+a;a++};for(n=0;n<i.length;n++)if(y)"'"!==i.charAt(n)||b("'")?x():y=!1;else switch(i.charAt(n)){case"d":g=w("d");break;case"D":_("D",u,h);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=_("M",d,f);break;case"y":p=w("y");break;case"@":p=(s=new Date(w("@"))).getFullYear(),m=s.getMonth()+1,g=s.getDate();break;case"!":p=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,g=s.getDate();break;case"'":b("'")?x():y=!0;break;default:x()}if(a<o.length&&(r=o.substr(a),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=c?0:-100)),-1<v)for(m=1,g=v;;){if(g<=(t=this._getDaysInMonth(p,m-1)))break;m++,g-=t}if((s=this._daylightSavingAdjust(new Date(p,m-1,g))).getFullYear()!==p||s.getMonth()+1!==m||s.getDate()!==g)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,e,t){if(!e)return"";var n,r=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,o=(t?t.dayNames:null)||this._defaults.dayNames,s=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,a=(t?t.monthNames:null)||this._defaults.monthNames,l=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},h="",d=!1;if(e)for(n=0;n<i.length;n++)if(d)"'"!==i.charAt(n)||l("'")?h+=i.charAt(n):d=!1;else switch(
i.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=i.charAt(n)}return h},_possibleChars:function(i){var n,e="",t=!1,r=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t};for(n=0;n<i.length;n++)if(t)"'"!==i.charAt(n)||r("'")?e+=i.charAt(n):t=!1;else switch(i.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":r("'")?e+="'":t=!0;break;default:e+=i.charAt(n)}return e},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(i,n,s)||r}catch(a){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(l,e,t){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=null==e||""===e?t:"string"==typeof e?function(e){try{return k.datepicker.parseDate(k.datepicker._get(l,"dateFormat"),e,k.datepicker._getFormatConfig(l))}catch(a){}for(var t=(e.toLowerCase().match(/^c/)?k.datepicker._getDate(l):null)||new Date,i=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(e);s;){switch(s[2]||"d"){case"d":case"D":r+=parseInt(s[1],10);break;case"w":case"W":r+=7*parseInt(s[1],10);break;case"m":case"M":n+=parseInt(s[1],10),r=Math.min(r,k.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(s[1],10),r=Math.min(r,k.datepicker._getDaysInMonth(i,n))}s=o.exec(e)}return new Date(i,n,r)}(e):"number"==typeof e?isNaN(e)?t:i(e):new Date(e.getTime());return(n=n&&"Invalid Date"===n.toString()?t:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){k.datepicker._adjustDate(i,-t,"M")},next:function(){k.datepicker._adjustDate(i,+t,"M")},hide:function(){k.datepicker._hideDatepicker()},today:function(){k.datepicker._gotoToday(i)},selectDay:function(){return k.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return k.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return k.datepicker._selectMonthYear(i,this,"Y"),!1}};k(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,r,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,_,x,k,C,S,T,D,M,L,N,E,A,I,F,O,z,P,H,j,W=new Date,R=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),B=this._get(e,"isRTL"),q=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),$=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),G=1!==Y[0]||1!==Y[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-K,ee=e.drawYear;if(J<0&&(J+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-Y[0]*Y[1]+1,Z.getDate())),t=Q&&t<Q?Q:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)--J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,i=this._get(e,"prevText"),i=$?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,J-X,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,J+X,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?V:R,s=$?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",x=0;x<Y[0];x++){for(k="",this.maxRows=4,C=0;C<Y[1];C++){if(S=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),T=" ui-corner-all",D="",G){if(D+="<div class='ui-datepicker-group",1<Y[1])switch(C){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case Y[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?B?o:n:"")+(/all|right/.test(T)&&0===x?B?n:o:"")+this._generateMonthYearHeader(e,J,ee,Q,Z,0<x||0<C,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;_<7;_++)M+="<th scope='col'"+(5<=(_+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[L=(_+u)%7]+"'>"+f[L]+"</span></th>";for(D+=M+"</tr></thead><tbody>",N=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,N)),E=(this._getFirstDayOfMonth(ee,J)-u+7)%7,A=Math.ceil((E+N)/7),I=G&&this.maxRows>A?this.maxRows:A,this.maxRows=I,F=this._daylightSavingAdjust(new Date(ee,J,1-E)),O=0;O<I;O++){for(D+="<tr>",z=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",_=0;_<7;_++)P=g?g.apply(e.input?e.input[0]:null,[F]):[!0,""],j=(H=F.getMonth()!==J)&&!y||!P[0]||Q&&F<Q||Z&&Z<F,z+="<td class='"+(5<=(_+u+6)%7?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(F.getTime()===S.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===F.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+P[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!P[2]?"":" title='"+P[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===R.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);D+=z+"</tr>"}11<++J&&(J=0,ee++),k+=D+="</tbody></table>"+(G?"</div>"+(0<Y[0]&&C===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=k}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,r,o,s,a){var l,c,u,h,d,f,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=r.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(h[0]),m=Math.max(p,f(h[1]||"")),p=n?Math.max(p,n.getFullYear()):p,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)e.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.selectedYear+("Y"===i?t:0),r=e.selectedMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&t<i?i:t;return n&&n<r?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(t<0?t:r[0]*r[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),k.fn.datepicker=function(e,t){if(!this.length)return this;k.datepicker.initialized||(k(document).on("mousedown",k.datepicker._checkExternalClick),k.datepicker.initialized=!0),0===k("#"+k.datepicker._mainDivId).length&&k("body").append(k.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof t?k.datepicker["_"+e+"Datepicker"].apply(k.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?k.datepicker["_"+e+"Datepicker"].apply(k.datepicker,[this].concat(i)):k.datepicker._attachDatepicker(this,e)}):k.datepicker["_"+e+"Datepicker"].apply(k.datepicker,[this[0]].concat(i))},k.datepicker=new e,k.datepicker.initialized=!1,k.datepicker.uuid=(new Date).getTime(),k.datepicker.version="1.12.1",k.datepicker}),function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(w){function l(e){var t=e[0];return 0<t.offsetWidth&&0<t.offsetHeight}function s(e){if(e.minTime&&(e.minTime=L(e.minTime)),e.maxTime&&(e.maxTime=L(e.maxTime)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=L(e.durationTime)),"now"==e.scrollDefault)e.scrollDefault=function(){return e.roundingFunction(L(new Date),e)};else if(e.scrollDefault&&"function"!=typeof e.scrollDefault){var t=e.scrollDefault;e.scrollDefault=function(){return e.roundingFunction(L(t),e)}}else e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)});if("string"===w.type(e.timeFormat)&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),!1===e.showOnFocus&&-1!=e.showOn.indexOf("focus")&&e.showOn.splice(e.showOn.indexOf("focus"),1),0<e.disableTimeRanges.length){for(var i in e.disableTimeRanges)e.disableTimeRanges[i]=[L(e.disableTimeRanges[i][0]),L(e.disableTimeRanges[i][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(i=e.disableTimeRanges.length-1;0<i;i--)e.disableTimeRanges[i][0]<=e.disableTimeRanges[i-1][1]&&(e.disableTimeRanges[i-1]=[Math.min(e.disableTimeRanges[i][0],e.disableTimeRanges[i-1][0]),Math.max(e.disableTimeRanges[i][1],e.disableTimeRanges[i-1][1])],e.disableTimeRanges.splice(i,1))}return e}function c(e){var t=e.data("timepicker-settings"),i=e.data("timepicker-list");if(i&&i.length&&(i.remove(),e.data("timepicker-list",!1)),t.useSelect)var n=i=w("<select />",{"class":"ui-timepicker-select"});else i=w("<ul />",{"class":"ui-timepicker-list"}),(n=w("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(i);if(t.noneOption)if(!0===t.noneOption&&(t.noneOption=t.useSelect?"Time...":"None"),w.isArray(t.noneOption)){for(var r in t.noneOption)if(parseInt(r,10)==r){var o=_(t.noneOption[r],t.useSelect);i.append(o)}}else{o=_(t.noneOption,t.useSelect);i.append(o)}if(t.className&&n.addClass(t.className),(null!==t.minTime||null!==t.durationTime)&&t.showDuration){"function"==typeof t.step||t.step;n.addClass("ui-timepicker-with-duration"),n.addClass("ui-timepicker-step-"+t.step)}var s=t.minTime;"function"==typeof t.durationTime?s=L(t.durationTime()):null!==t.durationTime&&(s=t.durationTime);var a=null!==t.minTime?t.minTime:0,l=null!==t.maxTime?t.maxTime:a+E-1;l<a&&(l+=E),l===E-1&&"string"===w.type(t.timeFormat)&&t.show2400&&(l=E);var c=t.disableTimeRanges,u=0,h=c.length,d=t.step;"function"!=typeof d&&(d=function(){return t.step});r=a;for(var f=0;r<=l;r+=60*d(++f)){var p,m=r,g=M(m,t);if(t.useSelect)(p=w("<option />",{value:g})).text(g);else(p=w("<li />")).addClass(m%E<E/2?"ui-timepicker-am":"ui-timepicker-pm"),p.data("time",N(m,t)),p.text(g);if((null!==t.minTime||null!==t.durationTime)&&t.showDuration){var v=D(r-s,t.step);if(t.useSelect)p.text(p.text()+" ("+v+")");else{var y=w("<span />",{"class":"ui-timepicker-duration"});y.text(" ("+v+")"),p.append(y)}}u<h&&(m>=c[u][1]&&(u+=1),c[u]&&m>=c[u][0]&&m<c[u][1]&&(t.useSelect?p.prop("disabled",!0):p.addClass("ui-timepicker-disabled"))),i.append(p)}if(n.data("timepicker-input",e),e.data("timepicker-list",n),t.useSelect)e.val()&&i.val(x(L(e.val()),t)),i.on("focus",function(){w(this).data("timepicker-input").trigger("showTimepicker")}),i.on("blur",function(){w(this).data("timepicker-input").trigger("hideTimepicker")}),i.on("change",function(){S(e,w(this).val(),"select")}),S(e,i.val(),"initial"),e.hide().after(i);else{var b=t.appendTo;"string"==typeof b?b=w(b):"function"==typeof b&&(b=b(e)),b.append(n),C(e,i),i.on("mousedown click","li",function(){e.off("focus.timepicker"),e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack"),e.on("focus.timepicker",A.show)}),k(e)||e[0].focus(),i.find("li").removeClass("ui-timepicker-selected"),w(this).addClass("ui-timepicker-selected"),T(e)&&(e.trigger("hideTimepicker"),i.on("mouseup.timepicker click.timepicker","li",function(){i.off("mouseup.timepicker click.timepicker"),n.hide()}))})}}function _(e,t){var i,n,r;return"object"==typeof e?(i=e.label,n=e.className,r=e.value):"string"==typeof e?i=e:w.error("Invalid noneOption value"),t?w("<option />",{value:r,"class":n,text:i}):w("<li />",{"class":n,text:i}).data("time",String(r))}function x(e,t){if(null!==(e=t.roundingFunction(e,t)))return M(e,t)}function u(e){if(e.target!=window){var t=w(e.target);t.closest(".ui-timepicker-input").length||t.closest(".ui-timepicker-wrapper").length||(A.hide(),w(document).unbind(".ui-timepicker"),w(window).unbind(".ui-timepicker"))}}function k(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function h(e,t,n){if(!n&&0!==n)return!1;var i=e.data("timepicker-settings"),r=!1;n=i.roundingFunction(n,i);return t.find("li").each(function(e,t){var i=w(t);if("number"==typeof i.data("time"))return i.data("time")==n?(r=i,!1):void 0}),r}function C(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=L(d(e),e.data("timepicker-settings"));if(null!==i){var n=h(e,t,i);if(n){var r=n.offset().top-t.offset().top;(r+n.outerHeight()>t.outerHeight()||r<0)&&t.scrollTop(t.scrollTop()+n.position().top-n.outerHeight()),n.addClass("ui-timepicker-selected")}}}function a(e,t){if(""!==this.value&&"timepicker"!=t){var i=w(this);if(!i.is(":focus")||e&&"change"==e.type){var n=i.data("timepicker-settings"),r=L(this.value,n);if(null!==r){var o=!1;if(null!==n.minTime&&null!==n.maxTime&&(r<n.minTime||r>n.maxTime)&&(o=!0),w.each(n.disableTimeRanges,function(){if(r>=this[0]&&r<this[1])return!(o=!0)}),n.forceRoundTime){var s=n.roundingFunction(r,n);s!=r&&(r=s,t=null)}var a=M(r,n);o?(S(i,a,"error")||e&&"change"==e.type)&&i.trigger("timeRangeError"):S(i,a,t)}else i.trigger("timeFormatError")}}}function d(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function S(e,t,i){if(e.is("input")){e.val(t);var n=e.data("timepicker-settings");n.useSelect&&"select"!=i&&"initial"!=i&&e.data("timepicker-list").val(x(L(t),n))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(i)&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function f(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function p(e){var t=w(this),i=t.data("timepicker-list");if(!i||!l(i)){if(40!=e.keyCode)return!0;A.show.call(t.get(0)),i=t.data("timepicker-list"),k(t)||t.focus()}switch(e.keyCode){case 13:return T(t)&&(a.call(t.get(0),{type:"change"}),A.hide.apply(this)),e.preventDefault(),!1;case 38:var n=i.find(".ui-timepicker-selected");return n.length?n.is(":first-child")||(n.removeClass("ui-timepicker-selected"),n.prev().addClass("ui-timepicker-selected"),n.prev().position().top<n.outerHeight()&&i.scrollTop(i.scrollTop()-n.outerHeight())):(i.find("li").each(function(e,t){if(0<w(t).position().top)return n=w(t),!1}),n.addClass("ui-timepicker-selected")),!1;case 40:return 0===(n=i.find(".ui-timepicker-selected")).length?(i.find("li").each(function(e,t){if(0<w(t).position().top)return n=w(t),!1}),n.addClass("ui-timepicker-selected")):n.is(":last-child")||(n.removeClass("ui-timepicker-selected"),n.next().addClass("ui-timepicker-selected"),n.next().position().top+2*n.outerHeight()>i.outerHeight()&&i.scrollTop(i.scrollTop()+n.outerHeight())),!1;case 27:i.find("li").removeClass("ui-timepicker-selected"),A.hide();break;case 9:A.hide();break;default:return!0}}function m(e){var t=w(this),i=t.data("timepicker-list"),n=t.data("timepicker-settings");if(!i||!l(i)||n.disableTextInput)return!0;switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:n.typeaheadHighlight?C(t,i):i.hide()}}function T(e){var t=e.data("timepicker-settings"),i=null,n=e.data("timepicker-list").find(".ui-timepicker-selected");return!n.hasClass("ui-timepicker-disabled")&&(n.length&&(i=n.data("time")),null!==i&&("string"!=typeof i&&(i=M(i,t)),S(e,i,"select")),!0)}function D(e,t){e=Math.abs(e);var i,n,r=Math.round(e/60),o=[];return r<60?o=[r,g.mins]:(i=Math.floor(r/60),n=r%60,30==t&&30==n&&(i+=g.decimal+5),o.push(i),o.push(1==i?g.hr:g.hrs),30!=t&&n&&(o.push(n),o.push(g.mins))),o.join(" ")}function M(e,t){if("number"!=typeof e)return null;var i=parseInt(e%60),n=parseInt(e/60%60),r=parseInt(e/3600%24),o=new Date(1970,0,2,r,n,i,0);if(isNaN(o.getTime()))return null;if("function"===w.type(t.timeFormat))return t.timeFormat(o);for(var s,a,l="",c=0;c<t.timeFormat.length;c++)switch(a=t.timeFormat.charAt(c)){case"a":l+=11<o.getHours()?g.pm:g.am;break;case"A":l+=11<o.getHours()?g.PM:g.AM;break;case"g":l+=0===(s=o.getHours()%12)?"12":s;break;case"G":s=o.getHours(),e===E&&(s=t.show2400?24:0),l+=s;break;case"h":0!==(s=o.getHours()%12)&&s<10&&(s="0"+s),l+=0===s?"12":s;break;case"H":s=o.getHours(),e===E&&(s=t.show2400?24:0),l+=9<s?s:"0"+s;break;case"i":l+=9<(n=o.getMinutes())?n:"0"+n;break;case"s":l+=9<(i=o.getSeconds())?i:"0"+i;break;case"\\":c++,l+=t.timeFormat.charAt(c);break;default:l+=a}return l}function L(e,t){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;"a"!=(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=e.slice(-1)||(e+="m");var i="("+g.am.replace(".","")+"|"+g.pm.replace(".","")+"|"+g.AM.replace(".","")+"|"+g.PM.replace(".","")+")?",n=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),r=e.match(n);if(!r)return null;var o=parseInt(1*r[2],10);if(24<o){if(t&&!1===t.wrapHours)return null;o%=24}var s=r[1]||r[5],a=o;if(o<=12&&s){var l=s==g.pm||s==g.PM;a=12==o?l?12:0:o+(l?12:0)}var c=3600*a+60*(1*r[3]||0)+(1*r[4]||0);if(o<12&&!s&&t&&t._twelveHourTime&&t.scrollDefault){var u=c-t.scrollDefault();u<0&&E/-2<=u&&(c=(c+E/2)%E)}return c}function N(e,t){return e==E&&t.show2400?e:e%E}var E=86400,g={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},v={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var i=e%(60*t.step);return(i-=(t.minTime||0)%(60*t.step))>=30*t.step?e+=60*t.step-i:e-=i,N(e,t)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},A={init:function(o){return this.each(function(){var e=w(this),t=[];for(var i in v)e.data(i)&&(t[i]=e.data(i));var n=w.extend({},v,o,t);if(n.lang&&(g=w.extend(g,n.lang)),n=s(n),e.data("timepicker-settings",n),e.addClass("ui-timepicker-input"),n.useSelect)c(e);else{if(e.prop("autocomplete","off"),n.showOn)for(var r in n.showOn)e.on(n.showOn[r]+".timepicker",A.show);e.on("change.timepicker",a),e.on("keydown.timepicker",p),e.on("keyup.timepicker",m),n.disableTextInput&&e.on("keydown.timepicker",f),a.call(e.get(0),null,"initial")}})},show:function(e){var t=w(this),i=t.data("timepicker-settings");if(e&&e.preventDefault(),i.useSelect)t.data("timepicker-list").focus();else{k(t)&&t.blur();var n=t.data("timepicker-list");if(!t.prop("readonly")&&(n&&0!==n.length&&"function"!=typeof i.durationTime||(c(t),n=t.data("timepicker-list")),!l(n))){t.data("ui-timepicker-value",t.val()),C(t,n),A.hide(),n.show();var r={};i.orientation.match(/r/)?r.left=t.offset().left+t.outerWidth()-n.outerWidth()+parseInt(n.css("marginLeft").replace("px",""),10):r.left=t.offset().left+parseInt(n.css("marginLeft").replace("px",""),10),"t"==(i.orientation.match(/t/)?"t":i.orientation.match(/b/)?"b":t.offset().top+t.outerHeight(!0)+n.outerHeight()>w(window).height()+w(window).scrollTop()?"t":"b")?(n.addClass("ui-timepicker-positioned-top"),r.top=t.offset().top-n.outerHeight()+parseInt(n.css("marginTop").replace("px",""),10)):(n.removeClass("ui-timepicker-positioned-top"),r.top=t.offset().top+t.outerHeight()+parseInt(n.css("marginTop").replace("px",""),10)),n.offset(r);var o=n.find(".ui-timepicker-selected");if(!o.length){var s=L(d(t));null!==s?o=h(t,n,s):i.scrollDefault&&(o=h(t,n,i.scrollDefault()))}if(o&&o.length){var a=n.scrollTop()+o.position().top-o.outerHeight();n.scrollTop(a)}else n.scrollTop(0);return i.stopScrollPropagation&&w(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var t=w(this).scrollTop();w(this).scrollTop(t+e.originalEvent.deltaY)}),w(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",u),w(window).on("resize.ui-timepicker",u),i.closeOnWindowScroll&&w(document).on("scroll.ui-timepicker",u),t.trigger("showTimepicker"),this}}},hide:function(){var e=w(this),t=e.data("timepicker-settings");return t&&t.useSelect&&e.blur(),w(".ui-timepicker-wrapper").each(function(){var e=w(this);if(l(e)){var t=e.data("timepicker-input"),i=t.data("timepicker-settings");i&&i.selectOnBlur&&T(t),e.hide(),t.trigger("hideTimepicker")}}),this},option:function(n,r){return"string"==typeof n&&void 0===r?w(this).data("timepicker-settings")[n]:this.each(function(){var e=w(this),t=e.data("timepicker-settings"),i=e.data("timepicker-list");"object"==typeof n?t=w.extend(t,n):"string"==typeof n&&(t[n]=r),t=s(t),e.data("timepicker-settings",t),a.call(e.get(0),{type:"change"},"initial"),i&&(i.remove(),e.data("timepicker-list",!1)),t.useSelect&&c(e)})},getSecondsFromMidnight:function(){return L(d(this))},getTime:function(e){var t=d(this);if(!t)return null;var i=L(t);if(null===i)return null;e||(e=new Date);var n=new Date(e);return n.setHours(i/3600),n.setMinutes(i%3600/60),n.setSeconds(i%60),n.setMilliseconds(0),n},isVisible:function(){var e=this.data("timepicker-list");return!(!e||!l(e))},setTime:function(e){var t=this,i=t.data("timepicker-settings");if(i.forceRoundTime)var n=x(L(e),i);else n=M(L(e),i);return e&&null===n&&i.noneOption&&(n=e),S(t,n),t.data("timepicker-list")&&C(t,t.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var t=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),t.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};w.fn.timepicker=function(e){return this.length?A[e]?this.hasClass("ui-timepicker-input")?A[e].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof e&&e?void w.error("Method "+e+" does not exist on jQuery.timepicker"):A.init.apply(this,arguments):this}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(_){"use strict";function i(t,e){var i,n,r,o,s,a=_('<div class="minicolors" />'),l=_.minicolors.defaults;if(!t.data("minicolors-initialized")){if(e=_.extend(!0,{},l,e),a.addClass("minicolors-theme-"+e.theme).toggleClass("minicolors-with-opacity",e.opacity),e.position!==undefined&&_.each(e.position.split(" "),function(){a.addClass("minicolors-position-"+this)}),i="rgb"===e.format?e.opacity?"25":"20":e.keywords?"11":"7",t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",e).prop("size",i).wrap(a).after('<div class="minicolors-panel minicolors-slider-'+e.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),e.inline||(t.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-input-swatch").on("click",function(e){e.preventDefault(),t.focus()})),(o=t.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),e.swatches&&0!==e.swatches.length)for(o.addClass("minicolors-with-swatches"),n=_('<ul class="minicolors-swatches"></ul>').appendTo(o),s=0;s<e.swatches.length;++s)r=L(r=e.swatches[s])?T(r,!0):d(k(r,!0)),_('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(n).data("swatch-color",e.swatches[s]).find(".minicolors-swatch-color").css({backgroundColor:u(r),opacity:r.a}),e.swatches[s]=r;e.inline&&t.parent().addClass("minicolors-inline"),c(t,!1),t.data("minicolors-initialized",!0)}}function n(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function r(e){var t=e.parent(),i=t.find(".minicolors-panel"),n=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(o(),t.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(e.get(0))}))}function o(){_(".minicolors-focus").each(function(){var e=_(this),t=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),n=t.data("minicolors-settings");i.fadeOut(n.hideSpeed,function(){n.hide&&n.hide.call(t.get(0)),e.removeClass("minicolors-focus")})})}function s(e,t,i){var n,r,o,s,a=e.parents(".minicolors").find(".minicolors-input"),l=a.data("minicolors-settings"),c=e.find("[class$=-picker]"),u=e.offset().left,h=e.offset().top,d=Math.round(t.pageX-u),f=Math.round(t.pageY-h),p=i?l.animationSpeed:0;t.originalEvent.changedTouches&&(d=t.originalEvent.changedTouches[0].pageX-u,f=t.originalEvent.changedTouches[0].pageY-h),d<0&&(d=0),f<0&&(f=0),d>e.width()&&(d=e.width()),f>e.height()&&(f=e.height()),e.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(n=75-d,r=75-f,o=Math.sqrt(n*n+r*r),(s=Math.atan2(r,n))<0&&(s+=2*Math.PI),75<o&&(d=(o=75)-75*Math.cos(s),f=75-75*Math.sin(s)),d=Math.round(d),f=Math.round(f)),e.is(".minicolors-grid")?c.stop(!0).animate({top:f+"px",left:d+"px"},p,l.animationEasing,function(){m(a,e)}):c.stop(!0).animate({top:f+"px"},p,l.animationEasing,function(){m(a,e)})}function m(e,t){function i(e,t){var i,n;return e.length&&t?(i=e.offset().left,n=e.offset().top,{x:i-t.offset().left+e.outerWidth()/2,y:n-t.offset().top+e.outerHeight()/2}):null}var n,r,o,s,a,l,c,u=e.val(),h=e.attr("data-opacity"),d=e.parent(),f=e.data("minicolors-settings"),p=d.find(".minicolors-input-swatch"),m=d.find(".minicolors-grid"),g=d.find(
".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=m.find("[class$=-picker]"),b=g.find("[class$=-picker]"),w=v.find("[class$=-picker]"),_=i(y,m),x=i(b,g),k=i(w,v);if(t.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(f.control){case"wheel":s=m.width()/2-_.x,a=m.height()/2-_.y,l=Math.sqrt(s*s+a*a),(c=Math.atan2(a,s))<0&&(c+=2*Math.PI),75<l&&(l=75,_.x=69-75*Math.cos(c),_.y=69-75*Math.sin(c)),r=M(l/.75,0,100),u=A({h:n=M(180*c/Math.PI,0,360),s:r,b:o=M(100-Math.floor(x.y*(100/g.height())),0,100)}),g.css("backgroundColor",A({h:n,s:r,b:100}));break;case"saturation":u=A({h:n=M(parseInt(_.x*(360/m.width()),10),0,360),s:r=M(100-Math.floor(x.y*(100/g.height())),0,100),b:o=M(100-Math.floor(_.y*(100/m.height())),0,100)}),g.css("backgroundColor",A({h:n,s:100,b:o})),d.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":u=A({h:n=M(parseInt(_.x*(360/m.width()),10),0,360),s:r=M(100-Math.floor(_.y*(100/m.height())),0,100),b:o=M(100-Math.floor(x.y*(100/g.height())),0,100)}),g.css("backgroundColor",A({h:n,s:r,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:u=A({h:n=M(360-parseInt(x.y*(360/g.height()),10),0,360),s:r=M(Math.floor(_.x*(100/m.width())),0,100),b:o=M(100-Math.floor(_.y*(100/m.height())),0,100)}),m.css("backgroundColor",A({h:n,s:100,b:100}))}C(e,u,h=f.opacity?parseFloat(1-k.y/v.height()).toFixed(2):1)}else p.find("span").css({backgroundColor:u,opacity:h}),S(e,u,h)}function C(e,t,i){var n,r=e.parent(),o=e.data("minicolors-settings"),s=r.find(".minicolors-input-swatch");o.opacity&&e.attr("data-opacity",i),"rgb"===o.format?(n=L(t)?T(t,!0):d(k(t,!0)),i=""===e.attr("data-opacity")?1:M(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),!isNaN(i)&&o.opacity||(i=1),t=e.minicolors("rgbObject").a<=1&&n&&o.opacity?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(i)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"):(L(t)&&(t=E(t)),t=x(t,o.letterCase)),e.val(t),s.find("span").css({backgroundColor:t,opacity:i}),S(e,t,i)}function c(e,t){var i,n,r,o,s,a,l,c,u,h,d=e.parent(),f=e.data("minicolors-settings"),p=d.find(".minicolors-input-swatch"),m=d.find(".minicolors-grid"),g=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=m.find("[class$=-picker]"),b=g.find("[class$=-picker]"),w=v.find("[class$=-picker]");switch(L(e.val())?(i=E(e.val()),(s=M(parseFloat(N(e.val())).toFixed(2),0,1))&&e.attr("data-opacity",s)):i=x(k(e.val(),!0),f.letterCase),i||(i=x(D(f.defaultValue,!0),f.letterCase)),n=I(i),o=f.keywords?_.map(f.keywords.split(","),function(e){return _.trim(e.toLowerCase())}):[],a=""!==e.val()&&-1<_.inArray(e.val().toLowerCase(),o)?x(e.val()):L(e.val())?T(e.val()):i,t||e.val(a),f.opacity&&(r=""===e.attr("data-opacity")?1:M(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),e.attr("data-opacity",r),p.find("span").css("opacity",r),c=M(v.height()-v.height()*r,0,v.height()),w.css("top",c+"px")),"transparent"===e.val().toLowerCase()&&p.find("span").css("opacity",0),p.find("span").css("backgroundColor",i),f.control){case"wheel":u=M(Math.ceil(.75*n.s),0,m.height()/2),h=n.h*Math.PI/180,l=M(75-Math.cos(h)*u,0,m.width()),c=M(75-Math.sin(h)*u,0,m.height()),y.css({top:c+"px",left:l+"px"}),c=150-n.b/(100/m.height()),""===i&&(c=0),b.css("top",c+"px"),g.css("backgroundColor",A({h:n.h,s:n.s,b:100}));break;case"saturation":l=M(5*n.h/12,0,150),c=M(m.height()-Math.ceil(n.b/(100/m.height())),0,m.height()),y.css({top:c+"px",left:l+"px"}),c=M(g.height()-n.s*(g.height()/100),0,g.height()),b.css("top",c+"px"),g.css("backgroundColor",A({h:n.h,s:100,b:n.b})),d.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":l=M(5*n.h/12,0,150),c=M(m.height()-Math.ceil(n.s/(100/m.height())),0,m.height()),y.css({top:c+"px",left:l+"px"}),c=M(g.height()-n.b*(g.height()/100),0,g.height()),b.css("top",c+"px"),g.css("backgroundColor",A({h:n.h,s:n.s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:l=M(Math.ceil(n.s/(100/m.width())),0,m.width()),c=M(m.height()-Math.ceil(n.b/(100/m.height())),0,m.height()),y.css({top:c+"px",left:l+"px"}),c=M(g.height()-n.h/(360/g.height()),0,g.height()),b.css("top",c+"px"),m.css("backgroundColor",A({h:n.h,s:100,b:100}))}e.data("minicolors-initialized")&&S(e,a,r)}function S(e,t,i){var n,r,o,s=e.data("minicolors-settings"),a=e.data("minicolors-lastChange");if(!a||a.value!==t||a.opacity!==i){if(e.data("minicolors-lastChange",{value:t,opacity:i}),s.swatches&&0!==s.swatches.length){for(n=L(t)?T(t,!0):d(t),r=-1,o=0;o<s.swatches.length;++o)if(n.r===s.swatches[o].r&&n.g===s.swatches[o].g&&n.b===s.swatches[o].b&&n.a===s.swatches[o].a){r=o;break}e.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==r&&e.parent().find(".minicolors-swatches .minicolors-swatch").eq(o).addClass("selected")}s.change&&(s.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){s.change.call(e.get(0),t,i)},s.changeDelay))):s.change.call(e.get(0),t,i)),e.trigger("change").trigger("input")}}function a(e){var t,i=_(e).attr("data-opacity");L(_(e).val())?t=T(_(e).val(),!0):t=d(k(_(e).val(),!0));return t?(i!==undefined&&_.extend(t,{a:parseFloat(i)}),t):null}function l(e,t){var i,n=_(e).attr("data-opacity");L(_(e).val())?i=T(_(e).val(),!0):i=d(k(_(e).val(),!0));return i?(n===undefined&&(n=1),t?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):null}function x(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function k(e,t){return(e=e.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==e.length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e):""}function T(e,t){var i=e.replace(/[^\d,.]/g,"").split(",");return i[0]=M(parseInt(i[0],10),0,255),i[1]=M(parseInt(i[1],10),0,255),i[2]=M(parseInt(i[2],10),0,255),i[3]&&(i[3]=M(parseFloat(i[3],10),0,1)),t?i[3]?{r:i[0],g:i[1],b:i[2],a:i[3]}:{r:i[0],g:i[1],b:i[2]}:"undefined"!=typeof i[3]&&i[3]<=1?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")":"rgb("+i[0]+", "+i[1]+", "+i[2]+")"}function D(e,t){return L(e)?T(e):k(e,t)}function M(e,t,i){return e<t&&(e=t),i<e&&(e=i),e}function L(e){var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!t||4!==t.length)}function N(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===e.length?e[4]:"1"}function t(e){var t={},i=Math.round(e.h),n=Math.round(255*e.s/100),r=Math.round(255*e.b/100);if(0===n)t.r=t.g=t.b=r;else{var o=r,s=(255-n)*r/255,a=i%60*(o-s)/60;360===i&&(i=0),i<60?(t.r=o,t.b=s,t.g=s+a):i<120?(t.g=o,t.b=s,t.r=o-a):i<180?(t.g=o,t.r=s,t.b=s+a):i<240?(t.b=o,t.r=s,t.g=o-a):i<300?(t.b=o,t.g=s,t.r=s+a):i<360?(t.r=o,t.g=s,t.b=o-a):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function E(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function u(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return _.each(i,function(e,t){1===t.length&&(i[e]="0"+t)}),"#"+i.join("")}function A(e){return u(t(e))}function I(e){var t=h(d(e));return 0===t.s&&(t.h=360),t}function h(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),r=n-i;return t.b=n,t.s=0!==n?255*r/n:0,0!==t.s?e.r===n?t.h=(e.g-e.b)/r:e.g===n?t.h=2+(e.b-e.r)/r:t.h=4+(e.r-e.g)/r:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function d(e){return{r:(e=parseInt(-1<e.indexOf("#")?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}}_.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},_.extend(_.fn,{minicolors:function(e,t){switch(e){case"destroy":return _(this).each(function(){n(_(this))}),_(this);case"hide":return o(),_(this);case"opacity":return t===undefined?_(this).attr("data-opacity"):(_(this).each(function(){c(_(this).attr("data-opacity",t))}),_(this));case"rgbObject":return a(_(this),"rgbaObject"===e);case"rgbString":case"rgbaString":return l(_(this),"rgbaString"===e);case"settings":return t===undefined?_(this).data("minicolors-settings"):(_(this).each(function(){var e=_(this).data("minicolors-settings")||{};n(_(this)),_(this).minicolors(_.extend(!0,e,t))}),_(this));case"show":return r(_(this).eq(0)),_(this);case"value":return t===undefined?_(this).val():(_(this).each(function(){"object"==typeof t&&"null"!==t?(t.opacity&&_(this).attr("data-opacity",M(t.opacity,0,1)),t.color&&_(this).val(t.color)):_(this).val(t),c(_(this))}),_(this));default:return"create"!==e&&(t=e),_(this).each(function(){i(_(this),t)}),_(this)}}}),_([document]).on("mousedown.minicolors touchstart.minicolors",function(e){_(e.target).parents().add(e.target).hasClass("minicolors")||o()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var t=_(this);e.preventDefault(),_(e.delegateTarget).data("minicolors-target",t),s(t,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var t=_(e.delegateTarget).data("minicolors-target");t&&s(t,e)}).on("mouseup.minicolors touchend.minicolors",function(){_(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(e){e.preventDefault();var t=_(this),i=t.parents(".minicolors").find(".minicolors-input"),n=t.data("swatch-color");C(i,n,N(n)),c(i)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(e){var t=_(this).parent().find(".minicolors-input");e.preventDefault(),r(t)}).on("focus.minicolors",".minicolors-input",function(){var e=_(this);e.data("minicolors-initialized")&&r(e)}).on("blur.minicolors",".minicolors-input",function(){var e,t,i,n,r,o=_(this),s=o.data("minicolors-settings");o.data("minicolors-initialized")&&(e=s.keywords?_.map(s.keywords.split(","),function(e){return _.trim(e.toLowerCase())}):[],r=""!==o.val()&&-1<_.inArray(o.val().toLowerCase(),e)?o.val():null===(i=L(o.val())?T(o.val(),!0):(t=k(o.val(),!0))?d(t):null)?s.defaultValue:"rgb"===s.format?s.opacity?T("rgba("+i.r+","+i.g+","+i.b+","+o.attr("data-opacity")+")"):T("rgb("+i.r+","+i.g+","+i.b+")"):u(i),n=s.opacity?o.attr("data-opacity"):1,"transparent"===r.toLowerCase()&&(n=0),o.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",n),o.val(r),""===o.val()&&o.val(D(s.defaultValue,!0)),o.val(x(o.val(),s.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var t=_(this);if(t.data("minicolors-initialized"))switch(e.keyCode){case 9:o();break;case 13:case 27:o(),t.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=_(this);e.data("minicolors-initialized")&&c(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=_(this);e.data("minicolors-initialized")&&setTimeout(function(){c(e,!0)},1)})}),function(u){"use strict";u.ajaxPrefilter(function(e){if(e.iframe)return e.originalURL=e.url,"iframe"}),u.ajaxTransport("iframe",function(e,t,l){function c(){o.each(function(e,t){var i=u(t);i.data("clone").replaceWith(i)}),i.remove(),n.one("load",function(){n.remove()}),n.attr("src","about:blank")}var i=null,n=null,r="iframe-"+u.now(),o=u(e.files).filter(":file:enabled"),s=null;if(e.dataTypes.shift(),e.data=t.data,o.length)return i=u("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:e.originalURL,target:r}),"string"==typeof e.data&&0<e.data.length&&u.error("data must not be serialized"),u.each(e.data||{},function(e,t){u.isPlainObject(t)&&(e=t.name,t=t.value),u("<input type='hidden' />").attr({name:e,value:t}).appendTo(i)}),u("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(i),s=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q=0.01":""):e.accepts["*"],u("<input type='hidden' name='X-HTTP-Accept'>").attr("value",s).appendTo(i),o.after(function(){var e=u(this),t=e.clone().prop("disabled",!0);return e.data("clone",t),t}).next(),o.appendTo(i),{send:function(e,a){(n=u("<iframe src='about:blank' name='"+r+"' id='"+r+"' style='display:none'></iframe>")).one("load",function(){n.one("load",function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=e.documentElement?e.documentElement:e.body,i=t.getElementsByTagName("textarea")[0],n=i&&i.getAttribute("data-type")||null,r=i&&i.getAttribute("data-status")||200,o=i&&i.getAttribute("data-statusText")||"OK",s={text:n?i.value:t?t.textContent||t.innerText:null};c(),l.responseText||(l.responseText=s.text),a(r,o,s,n?"Content-Type: "+n:null)}),i[0].submit()}),u("body").append(i,n)},abort:function(){null!==n&&(n.unbind("load").attr("src","about:blank"),c())}}})}(jQuery),function(l){var c;l.remotipart=c={setup:function(i){var r=i.data("ujs:submit-button"),o=l('meta[name="csrf-param"]').attr("content"),s=l('meta[name="csrf-token"]').attr("content"),a=i.find('input[name="'+o+'"]').length;i.one("ajax:beforeSend.remotipart",function(e,t,n){return delete n.beforeSend,n.iframe=!0,n.files=l(l.rails.fileInputSelector,i),n.data=i.serializeArray(),r&&n.data.push(r),n.files.each(function(e,t){for(var i=n.data.length-1;0<=i;i--)n.data[i].name==t.name&&n.data.splice(i,1)}),n.processData=!1,n.dataType===undefined&&(n.dataType="script *"),n.data.push({name:"remotipart_submitted",value:!0}),s&&o&&!a&&n.data.push({name:o,value:s}),l.rails.fire(i,"ajax:remotipartSubmit",[t,n])&&(l.rails.ajax(n).always(function(e){l.rails.fire(i,"ajax:remotipartComplete",[e])}),setTimeout(function(){l.rails.disableFormElements(i)},20)),c.teardown(i),!1}).data("remotipartSubmitted",!0)},teardown:function(e){e.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},l(document).on("ajax:aborted:file","form",function(){var e=l(this);return c.setup(e),l.rails.handleRemote(e),!1})}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).fitty=t()}(this,function(){"use strict";return function(i){function n(e,t){var n=Object.assign({},S,t),i=e.map(function(e){var t,i=Object.assign({},n,{element:e,active:!0});return(t=i).originalStyle={whiteSpace:t.element.style.whiteSpace,display:t.element.style.display,fontSize:t.element.style.fontSize},C(t),t.newbie=!0,t.dirty=!0,l.push(t),{element:e,fit:w(i,a),unfreeze:x(i),freeze:k(i),unsubscribe:_(i)}});return u(),i}function e(e,t){var i=1<arguments.length&&void 0!==t?arguments[1]:{};return"string"==typeof e?n(r(document.querySelectorAll(e)),i):n([e],i)[0]}if(i){var r=function(e){return[].slice.call(e)},t=0,o=1,s=2,a=3,l=[],c=null,u="requestAnimationFrame"in i?function(){i.cancelAnimationFrame(c),c=i.requestAnimationFrame(function(){return d(l.filter(function(e){return e.dirty&&e.active}))})}:function(){},h=function(t){return function(){l.forEach(function(e){return e.dirty=t}),u()}},d=function(e){e.filter(function(e){return!e.styleComputed}).forEach(function(e){e.styleComputed=g(e)}),e.filter(v).forEach(y);var t=e.filter(m);t.forEach(p),t.forEach(function(e){y(e),f(e)}),t.forEach(b)},f=function(e){return e.dirty=t},p=function(e){e.availableWidth=e.element.parentNode.clientWidth,e.currentWidth=e.element.scrollWidth,e.previousFontSize=e.currentFontSize,e.currentFontSize=Math.min(Math.max(e.minSize,e.availableWidth/e.currentWidth*e.previousFontSize),e.maxSize),e.whiteSpace=e.multiLine&&e.currentFontSize===e.minSize?"normal":"nowrap"},m=function(e){return e.dirty!==s||e.dirty===s&&e.element.parentNode.clientWidth!==e.availableWidth},g=function(e){var t=i.getComputedStyle(e.element,null);return e.currentFontSize=parseFloat(t.getPropertyValue("font-size")),e.display=t.getPropertyValue("display"),e.whiteSpace=t.getPropertyValue("white-space"),!0},v=function(e){var t=!1;return!e.preStyleTestCompleted&&(/inline-/.test(e.display)||(t=!0,e.display="inline-block"),"nowrap"!==e.whiteSpace&&(t=!0,e.whiteSpace="nowrap"),e.preStyleTestCompleted=!0,t)},y=function(e){e.element.style.whiteSpace=e.whiteSpace,e.element.style.display=e.display,e.element.style.fontSize=e.currentFontSize+"px"},b=function(e){e.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:e.previousFontSize,newValue:e.currentFontSize,scaleFactor:e.currentFontSize/e.previousFontSize}}))},w=function(e,t){return function(){e.dirty=t,e.active&&u()}},_=function(t){return function(){l=l.filter(function(e){return e.element!==t.element}),t.observeMutations&&t.observer.disconnect(),t.element.style.whiteSpace=t.originalStyle.whiteSpace,t.element.style.display=t.originalStyle.display,t.element.style.fontSize=t.originalStyle.fontSize}},x=function(e){return function(){e.active||(e.active=!0,u())}},k=function(e){return function(){return e.active=!1}},C=function(e){e.observeMutations&&(e.observer=new MutationObserver(w(e,o)),e.observer.observe(e.element,e.observeMutations))},S={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in i&&{subtree:!0,childList:!0,characterData:!0}},T=null,D=function(){i.clearTimeout(T),T=i.setTimeout(h(s),e.observeWindowDelay)},M=["resize","orientationchange"];return Object.defineProperty(e,"observeWindow",{set:function(e){var t="".concat(e?"add":"remove","EventListener");M.forEach(function(e){i[t](e,D)})}}),e.observeWindow=!0,e.observeWindowDelay=100,e.fitAll=h(a),e}}("undefined"==typeof window?null:window)}),function(d){function i(e){function t(){e?n.removeData(e):c&&delete f[c]}function i(){o.id=setTimeout(function(){o.fn()},u)}var n,r=this,o={},s=e?d.fn:d,a=arguments,l=4,c=a[1],u=a[2],h=a[3];if("string"!=typeof c&&(l--,c=e=0,u=a[1],h=a[2]),e?(n=r.eq(0)).data(e,o=n.data(e)||{}):c&&(o=f[c]||(f[c]={})),o.id&&clearTimeout(o.id),delete o.id,h)o.fn=function(e){"string"==typeof h&&(h=s[h]),!0!==h.apply(r,p.call(a,l))||e?t():i()},i();else{if(o.fn)return u===undefined?t():o.fn(!1===u),!0;t()}}var f={},n="doTimeout",p=Array.prototype.slice;d[n]=function(){return i.apply(window,[0].concat(p.call(arguments)))},d.fn[n]=function(){var e=p.call(arguments),t=i.apply(this,[n+e[0]].concat(e));return"number"==typeof e[0]||"number"==typeof e[1]?this:t}}(jQuery);var Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function i(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function h(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var i=arguments.length,n=new Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var o=!0,s=!1,a=undefined;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.apply(this,n)}}catch(u){s=!0,a=u}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw a}}}return this}},{key:"off",value:function r(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var n=0;n<i.length;n++){if(i[n]===t){i.splice(n,1);break}}return this}}]),e}(),Dropzone=function(){function z(e,t){var i,n,r;if(_classCallCheck(this,z),(i=_possibleConstructorReturn(this,_getPrototypeOf(z).call(this))).element=e,i.version=z.version,i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,""),i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");z.instances.push(_assertThisInitialized(i)),i.element.dropzone=_assertThisInitialized(i);var o=null!=(r=z.optionsForElement(i.element))?r:{};if(i.options=z.extend({},i.defaultOptions,o,null!=t?t:{}),i.options.forceFallback||!z.isBrowserSupported())return _possibleConstructorReturn(i,i.options.fallback.call(_assertThisInitialized(i)));if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(_assertThisInitialized(i),e.name,e)}),i.options.method=i.options.method.toUpperCase(),(n=i.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=z.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=z.getElements(i.options.clickable,"clickable")),i.init(),i}return _inherits(z,Emitter),_createClass(z,null,[{key:"initClass",value:function P(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function e(){},params:function n(e,t,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function i(e,t){return t()},chunksUploaded:function r(e,t){t()},fallback:function c(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var t=!0,i=!1,n=undefined;try{for(var r,o=this.element.getElementsByTagName("div")[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;if(/(^| )dz-message($| )/.test(s.className)){(e=s).className="dz-message";break}}}catch(l){i=!0,n=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}e||(e=z.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var a=e.getElementsByTagName("span")[0];return a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function a(e,t,i,n){var r={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height;null==t&&null==i?(t=r.srcWidth,i=r.srcHeight):null==t?t=i*o:null==i&&(i=t/o);var s=(t=Math.min(t,r.srcWidth))/(i=Math.min(i,r.srcHeight));if(r.srcWidth>t||r.srcHeight>i)if("crop"===n)s<o?(r.srcHeight=e.height,r.srcWidth=r.srcHeight*s):(r.srcWidth=e.width,r.srcHeight=r.srcWidth/s);else{if("contain"!==n)throw new Error("Unknown resizeMethod '".concat(n,"'"));s<o?i=t/o:t=i*o}return r.srcX=(e.width-r.srcWidth)/2,r.srcY=(e.height-r.srcHeight)/2,r.trgWidth=t,r.trgHeight=i,r},transformFile:function o(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function t(){return this.element.classList.remove("dz-drag-hover")},dragstart:function s(){},dragend:function l(){return this.element.classList.remove("dz-drag-hover")},dragenter:function u(){return this.element.classList.add("dz-drag-hover")},dragover:function h(){return this.element.classList.add("dz-drag-hover")},dragleave:function d(){return this.element.classList.remove("dz-drag-hover")},paste:function f(){},reset:function p(){return this.element.classList.remove("dz-started")},addedfile:function w(t){var i=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=z.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var e=!0,n=!1,r=undefined;try{for(var o,s=t.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var a=o.value;a.textContent=t.name}}catch(b){n=!0,r=b}finally{try{e||null==s["return"]||s["return"]()}finally{if(n)throw r}}var l=!0,c=!1,u=undefined;try{for(var h,d=t.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(l=(h=d.next()).done);l=!0)(a=h.value).innerHTML=this.filesize(t.size)}catch(b){c=!0,u=b}finally{try{l||null==d["return"]||d["return"]()}finally{if(c)throw u}}this.options.addRemoveLinks&&(t._removeLink=z.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),t.previewElement.appendChild(t._removeLink));var f=function f(e){return e.preventDefault(),e.stopPropagation(),t.status===z.UPLOADING?z.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(t)}):i.options.dictRemoveFileConfirmation?z.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(t)}):i.removeFile(t)},p=!0,m=!1,g=undefined;try{for(var v,y=t.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){v.value.addEventListener("click",f)}}catch(b){m=!0,g=b}finally{try{p||null==y["return"]||y["return"]()}finally{if(m)throw g}}}},removedfile:function m(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function g(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var i=!0,n=!1,r=undefined;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;a.alt=e.name,a.src=t}}catch(l){n=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw r}}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function v(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var i=!0,n=!1,r=undefined;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){o.value.textContent=t}}catch(a){n=!0,r=a}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw r}}}},errormultiple:function y(){},processing:function b(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function _(){},uploadprogress:function x(e,t){if(e.previewElement){var i=!0,n=!1,r=undefined;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;"PROGRESS"===a.nodeName?a.value=t:a.style.width="".concat(t,"%")}}catch(l){n=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw r}}}},totaluploadprogress:function k(){},sending:function C(){},sendingmultiple:function S(){},success:function T(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function D(){},canceled:function M(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function L(){},complete:function N(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function E(){},maxfilesexceeded:function A(){},maxfilesreached:function I(){},queuecomplete:function F(){},addedfiles:function O(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function c(e){for(
var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var r=0,o=i;r<o.length;r++){var s=o[r];for(var a in s){var l=s[a];e[a]=l}}return e}}]),_createClass(z,[{key:"getAcceptedFiles",value:function e(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function t(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function i(t){return this.files.filter(function(e){return e.status===t}).map(function(e){return e})}},{key:"getQueuedFiles",value:function n(){return this.getFilesWithStatus(z.QUEUED)}},{key:"getUploadingFiles",value:function r(){return this.getFilesWithStatus(z.UPLOADING)}},{key:"getAddedFiles",value:function o(){return this.getFilesWithStatus(z.ADDED)}},{key:"getActiveFiles",value:function s(){return this.files.filter(function(e){return e.status===z.UPLOADING||e.status===z.QUEUED}).map(function(e){return e})}},{key:"init",value:function v(){var l=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(z.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){var c=function c(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null===l.options.maxFiles||1<l.options.maxFiles)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!==l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!==l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",z.getElement(l.options.hiddenInputContainer,"hiddenInputContainer").appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e=l.hiddenFileInput.files;if(e.length){var t=!0,i=!1,n=undefined;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;l.addFile(s)}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}}return l.emit("addedfiles",e),c()})};c()}this.URL=null!==window.URL?window.URL:window.webkitURL;var e=!0,t=!1,i=undefined;try{for(var n,r=this.events[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;this.on(o,this.options[o])}}catch(u){t=!0,i=u}finally{try{e||null==r["return"]||r["return"]()}finally{if(t)throw i}}this.on("uploadprogress",function(){return l.updateTotalUploadProgress()}),this.on("removedfile",function(){return l.updateTotalUploadProgress()}),this.on("canceled",function(e){return l.emit("complete",e)}),this.on("complete",function(){if(0===l.getAddedFiles().length&&0===l.getUploadingFiles().length&&0===l.getQueuedFiles().length)return setTimeout(function(){return l.emit("queuecomplete")},0)});var s=function s(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1},a=function a(e){if(s(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function h(e){return l.emit("dragstart",e)},dragenter:function d(e){return a(e),l.emit("dragenter",e)},dragover:function f(e){var t;try{t=e.dataTransfer.effectAllowed}catch(i){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",a(e),l.emit("dragover",e)},dragleave:function p(e){return l.emit("dragleave",e)},drop:function m(e){return a(e),l.drop(e)},dragend:function g(e){return l.emit("dragend",e)}}}],this.clickableElements.forEach(function(t){return l.listeners.push({element:t,events:{click:function i(e){return(t!==l.element||e.target===l.element||z.elementInside(e.target,l.element.querySelector(".dz-message")))&&l.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function a(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:undefined)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,z.instances.splice(z.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function u(){var e,t=0,i=0;if(this.getActiveFiles().length){var n=!0,r=!1,o=undefined;try{for(var s,a=this.getActiveFiles()[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;t+=l.upload.bytesSent,i+=l.upload.total}}catch(c){r=!0,o=c}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw o}}e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}},{key:"_getParamName",value:function l(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function h(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function d(){var e,t;if(e=this.getExistingFallback())return e;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>".concat(this.options.dictFallbackText,"</p>")),i+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':undefined,' /><input type="submit" value="Upload!"></div>');var n=z.createElement(i);return"FORM"!==this.element.tagName?(t=z.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(n):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:n}},{key:"getExistingFallback",value:function f(){for(var l=function l(e){var t=!0,i=!1,n=undefined;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;if(/(^| )fallback($| )/.test(s.className))return s}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}},e=0,t=["div","form"];e<t.length;e++){var i,n=t[e];if(i=l(this.element.getElementsByTagName(n)))return i}}},{key:"setupEventListeners",value:function p(){return this.listeners.map(function(n){return function(){var e=[];for(var t in n.events){var i=n.events[t];e.push(n.element.addEventListener(t,i,!1))}return e}()})}},{key:"removeEventListeners",value:function m(){return this.listeners.map(function(n){return function(){var e=[];for(var t in n.events){var i=n.events[t];e.push(n.element.removeEventListener(t,i,!1))}return e}()})}},{key:"disable",value:function g(){var t=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function y(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function b(e){var t=0,i="b";if(0<e){for(var n=["tb","gb","mb","kb","b"],r=0;r<n.length;r++){var o=n[r];if(Math.pow(this.options.filesizeBase,4-r)/10<=e){t=e/Math.pow(this.options.filesizeBase,4-r),i=o;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[i])}},{key:"_updateMaxFilesReachedClass",value:function w(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function _(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i];if(t.length){var n=e.dataTransfer.items;n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function x(e){if(null!=__guard__(null!=e?e.clipboardData:undefined,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function k(e){var t=!0,i=!1,n=undefined;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;this.addFile(s)}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}}},{key:"_addFilesFromItems",value:function C(c){var u=this;return function(){var e=[],t=!0,i=!1,n=undefined;try{for(var r,o=c[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s,a=r.value;null!=a.webkitGetAsEntry&&(s=a.webkitGetAsEntry())?s.isFile?e.push(u.addFile(a.getAsFile())):s.isDirectory?e.push(u._addFilesFromDirectory(s,s.name)):e.push(undefined):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?e.push(u.addFile(a.getAsFile())):e.push(undefined)}}catch(l){i=!0,n=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}return e}()}},{key:"_addFilesFromDirectory",value:function S(e,l){var c=this,t=e.createReader(),i=function i(t){return __guardMethod__(console,"log",function(e){return e.log(t)})},u=function u(){return t.readEntries(function(e){if(0<e.length){var t=!0,i=!1,n=undefined;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;s.isFile?s.file(function(e){if(!c.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(l,"/").concat(e.name),c.addFile(e)}):s.isDirectory&&c._addFilesFromDirectory(s,"".concat(l,"/").concat(s.name))}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}u()}return null},i)};return u()}},{key:"accept",value:function T(e,t){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):z.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function D(t){var i=this;t.upload={uuid:z.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=z.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function M(e){var t=!0,i=!1,n=undefined;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;this.enqueueFile(s)}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}return null}},{key:"enqueueFile",value:function L(e){var t=this;if(e.status!==z.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=z.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}},{key:"_enqueueThumbnail",value:function N(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function E(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var i=this._thumbnailQueue.shift();return this.createThumbnail(i,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return t.emit("thumbnail",i,e),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function A(e){if(e.status===z.UPLOADING&&this.cancelUpload(e),this.files=without(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function I(e){null==e&&(e=!1);var t=!0,i=!1,n=undefined;try{for(var r,o=this.files.slice()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;(s.status!==z.UPLOADING||e)&&this.removeFile(s)}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}return null}},{key:"resizeImage",value:function F(r,e,t,i,o){var s=this;return this.createThumbnail(r,e,t,i,!0,function(e,t){if(null==t)return o(r);var i=s.options.resizeMimeType;null==i&&(i=r.type);var n=t.toDataURL(i,s.options.resizeQuality);return"image/jpeg"!==i&&"image/jpg"!==i||(n=ExifRestore.restore(r.dataURL,n)),o(z.dataURItoBlob(n))})}},{key:"createThumbnail",value:function O(e,t,i,n,r,o){var s=this,a=new FileReader;a.onload=function(){e.dataURL=a.result,"image/svg+xml"!==e.type?s.createThumbnailFromUrl(e,t,i,n,r,o):null!=o&&o(a.result)},a.readAsDataURL(e)}},{key:"displayExistingFile",value:function H(t,e,i,n,r){var o=this,s=!(4<arguments.length&&r!==undefined)||r;if(this.emit("addedfile",t),this.emit("complete",t),s){var a=function a(e){o.emit("thumbnail",t,e),i&&i()};t.dataURL=e,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,a,n)}else this.emit("thumbnail",t,e),i&&i()}},{key:"createThumbnailFromUrl",value:function j(o,s,a,l,e,c,t){var u=this,h=document.createElement("img");return t&&(h.crossOrigin=t),h.onload=function(){var t=function t(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&e&&(t=function t(e){return EXIF.getData(h,function(){return e(EXIF.getTag(this,"Orientation"))})}),t(function(e){o.width=h.width,o.height=h.height;var t=u.options.resize.call(u,o,s,a,l),i=document.createElement("canvas"),n=i.getContext("2d");switch(i.width=t.trgWidth,i.height=t.trgHeight,4<e&&(i.width=t.trgHeight,i.height=t.trgWidth),e){case 2:n.translate(i.width,0),n.scale(-1,1);break;case 3:n.translate(i.width,i.height),n.rotate(Math.PI);break;case 4:n.translate(0,i.height),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-i.width);break;case 7:n.rotate(.5*Math.PI),n.translate(i.height,-i.width),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-i.height,0)}drawImageIOSFix(n,h,null!=t.srcX?t.srcX:0,null!=t.srcY?t.srcY:0,t.srcWidth,t.srcHeight,null!=t.trgX?t.trgX:0,null!=t.trgY?t.trgY:0,t.trgWidth,t.trgHeight);var r=i.toDataURL("image/png");if(null!=c)return c(r,i)})},null!=c&&(h.onerror=c),h.src=o.dataURL}},{key:"processQueue",value:function W(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,i=t;if(!(e<=t)){var n=this.getQueuedFiles();if(0<n.length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-t));for(;i<e;){if(!n.length)return;this.processFile(n.shift()),i++}}}}},{key:"processFile",value:function R(e){return this.processFiles([e])}},{key:"processFiles",value:function B(e){var t=!0,i=!1,n=undefined;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;s.processing=!0,s.status=z.UPLOADING,this.emit("processing",s)}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function q(t){return this.files.filter(function(e){return e.xhr===t}).map(function(e){return e})}},{key:"cancelUpload",value:function U(e){if(e.status===z.UPLOADING){var t=this._getFilesWithXhr(e.xhr),i=!0,n=!1,r=undefined;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){o.value.status=z.CANCELED}}catch(f){n=!0,r=f}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw r}}"undefined"!=typeof e.xhr&&e.xhr.abort();var a=!0,l=!1,c=undefined;try{for(var u,h=t[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var d=u.value;this.emit("canceled",d)}}catch(f){l=!0,c=f}finally{try{a||null==h["return"]||h["return"]()}finally{if(l)throw c}}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else e.status!==z.ADDED&&e.status!==z.QUEUED||(e.status=z.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function $(e){if("function"!=typeof e)return e;for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.apply(this,i)}},{key:"uploadFile",value:function Y(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function K(l){var c=this;this._transformFiles(l,function(e){if(c.options.chunking){var t=e[0];l[0].upload.chunked=c.options.chunking&&(c.options.forceChunking||t.size>c.options.chunkSize),l[0].upload.totalChunkCount=Math.ceil(t.size/c.options.chunkSize)}if(l[0].upload.chunked){var r=l[0],o=e[0];r.upload.chunks=[];var s=function s(){for(var e=0;r.upload.chunks[e]!==undefined;)e++;if(!(e>=r.upload.totalChunkCount)){0;var t=e*c.options.chunkSize,i=Math.min(t+c.options.chunkSize,r.size),n={name:c._getParamName(0),data:o.webkitSlice?o.webkitSlice(t,i):o.slice(t,i),filename:r.upload.filename,chunkIndex:e};r.upload.chunks[e]={file:r,index:e,dataBlock:n,status:z.UPLOADING,progress:0,retries:0},c._uploadData(l,[n])}};if(r.upload.finishedChunkUpload=function(e){var t=!0;e.status=z.SUCCESS,e.dataBlock=null,e.xhr=null;for(var i=0;i<r.upload.totalChunkCount;i++){if(r.upload.chunks[i]===undefined)return s();r.upload.chunks[i].status!==z.SUCCESS&&(t=!1)}t&&c.options.chunksUploaded(r,function(){c._finished(l,"",null)})},c.options.parallelChunkUploads)for(var i=0;i<r.upload.totalChunkCount;i++)s();else s()}else{for(var n=[],a=0;a<l.length;a++)n[a]={name:c._getParamName(a),data:e[a],filename:l[a].upload.filename};c._uploadData(l,n)}})}},{key:"_getChunk",value:function X(e,t){for(var i=0;i<e.upload.totalChunkCount;i++)if(e.upload.chunks[i]!==undefined&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}},{key:"_uploadData",value:function G(t,e){var i=this,n=new XMLHttpRequest,r=!0,o=!1,s=undefined;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){a.value.xhr=n}}catch(T){o=!0,s=T}finally{try{r||null==l["return"]||l["return"]()}finally{if(o)throw s}}t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=n);var c=this.resolveOption(this.options.method,t),u=this.resolveOption(this.options.url,t);n.open(c,u,!0),n.timeout=this.resolveOption(this.options.timeout,t),n.withCredentials=!!this.options.withCredentials,n.onload=function(e){i._finishedUploading(t,n,e)},n.ontimeout=function(){i._handleUploadError(t,n,"Request timedout after ".concat(i.options.timeout," seconds"))},n.onerror=function(){i._handleUploadError(t,n)},(null!=n.upload?n.upload:n).onprogress=function(e){return i._updateFilesUploadProgress(t,n,e)};var h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&z.extend(h,this.options.headers),h){var f=h[d];f&&n.setRequestHeader(d,f)}var p=new FormData;if(this.options.params){var m=this.options.params;for(var g in"function"==typeof m&&(m=m.call(this,t,n,t[0].upload.chunked?this._getChunk(t[0],n):null)),m){var v=m[g];p.append(g,v)}}var y=!0,b=!1,w=undefined;try{for(var _,x=t[Symbol.iterator]();!(y=(_=x.next()).done);y=!0){var k=_.value;this.emit("sending",k,n,p)}}catch(T){b=!0,w=T}finally{try{y||null==x["return"]||x["return"]()}finally{if(b)throw w}}this.options.uploadMultiple&&this.emit("sendingmultiple",t,n,p),this._addFormElementData(p);for(var C=0;C<e.length;C++){var S=e[C];p.append(S.name,S.data,S.filename)}this.submitRequest(n,p,t)}},{key:"_transformFiles",value:function V(i,n){for(var e=this,r=[],o=0,s=function s(t){e.options.transformFile.call(e,i[t],function(e){r[t]=e,++o===i.length&&n(r)})},t=0;t<i.length;t++)s(t)}},{key:"_addFormElementData",value:function Q(e){if("FORM"===this.element.tagName){var t=!0,i=!1,n=undefined;try{for(var r,o=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value,a=s.getAttribute("name"),l=s.getAttribute("type");if(l&&(l=l.toLowerCase()),null!=a)if("SELECT"===s.tagName&&s.hasAttribute("multiple")){var c=!0,u=!1,h=undefined;try{for(var d,f=s.options[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;p.selected&&e.append(a,p.value)}}catch(m){u=!0,h=m}finally{try{c||null==f["return"]||f["return"]()}finally{if(u)throw h}}}else(!l||"checkbox"!==l&&"radio"!==l||s.checked)&&e.append(a,s.value)}}catch(m){i=!0,n=m}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}}}},{key:"_updateFilesUploadProgress",value:function Z(e,t,i){var n;if(void 0!==i){if(n=100*i.loaded/i.total,e[0].upload.chunked){var r=e[0],o=this._getChunk(r,t);o.progress=n,o.total=i.total,o.bytesSent=i.loaded;r.upload.progress=0,r.upload.total=0;for(var s=r.upload.bytesSent=0;s<r.upload.totalChunkCount;s++)r.upload.chunks[s]!==undefined&&r.upload.chunks[s].progress!==undefined&&(r.upload.progress+=r.upload.chunks[s].progress,r.upload.total+=r.upload.chunks[s].total,r.upload.bytesSent+=r.upload.chunks[s].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else{var a=!0,l=!1,c=undefined;try{for(var u,h=e[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var d=u.value;d.upload.progress=n,d.upload.total=i.total,d.upload.bytesSent=i.loaded}}catch(A){l=!0,c=A}finally{try{a||null==h["return"]||h["return"]()}finally{if(l)throw c}}}var f=!0,p=!1,m=undefined;try{for(var g,v=e[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var y=g.value;this.emit("uploadprogress",y,y.upload.progress,y.upload.bytesSent)}}catch(A){p=!0,m=A}finally{try{f||null==v["return"]||v["return"]()}finally{if(p)throw m}}}else{var b=!0,w=!0,_=!(n=100),x=undefined;try{for(var k,C=e[Symbol.iterator]();!(w=(k=C.next()).done);w=!0){var S=k.value;100===S.upload.progress&&S.upload.bytesSent===S.upload.total||(b=!1),S.upload.progress=n,S.upload.bytesSent=S.upload.total}}catch(A){_=!0,x=A}finally{try{w||null==C["return"]||C["return"]()}finally{if(_)throw x}}if(b)return;var T=!0,D=!1,M=undefined;try{for(var L,N=e[Symbol.iterator]();!(T=(L=N.next()).done);T=!0){var E=L.value;this.emit("uploadprogress",E,n,E.upload.bytesSent)}}catch(A){D=!0,M=A}finally{try{T||null==N["return"]||N["return"]()}finally{if(D)throw M}}}}},{key:"_finishedUploading",value:function J(e,t,i){var n;if(e[0].status!==z.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(n=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{n=JSON.parse(n)}catch(r){i=r,n="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,n,i):this._handleUploadError(e,t,n)}}},{key:"_handleUploadError",value:function ee(e,t,i){if(e[0].status!==z.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var n=this._getChunk(e[0],t);if(n.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[n.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function te(e,t){e.send(t)}},{key:"_finished",value:function ie(e,t,i){var n=!0,r=!1,o=undefined;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;l.status=z.SUCCESS,this.emit("success",l,t,i),this.emit("complete",l)}}catch(c){r=!0,o=c}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw o}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function ne(e,t,i){var n=!0,r=!1,o=undefined;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;l.status=z.ERROR,this.emit("error",l,t,i),this.emit("complete",l)}}catch(c){r=!0,o=c}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw o}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function re(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),z}();Dropzone.initClass(),Dropzone.version="5.7.1",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:undefined},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:undefined))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var c;if(document.querySelectorAll)c=document.querySelectorAll(".dropzone");else{c=[];var e=function e(l){return function(){var e=[],t=!0,i=!1,n=undefined;try{for(var r,o=l[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;/(^| )dropzone($| )/.test(s.className)?e.push(c.push(s)):e.push(undefined)}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}return e}()};e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){var e=[],t=!0,i=!1,n=undefined;try{for(var r,o=c[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;!1!==Dropzone.optionsForElement(s)?e.push(new Dropzone(s)):e.push(undefined)}}catch(a){i=!0,n=a}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}return e}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=!0,i=!1,n=undefined;try{for(var r,o=Dropzone.blacklistedBrowsers[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.test(navigator.userAgent)&&(e=!1)}}catch(s){i=!0,n=s}finally{try{t||null==o["return"]||o["return"]()}finally{if(i)throw n}}}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),o=0,s=t.length,a=0<=s;a?o<=s:s<=o;a?o++:o--)r[o]=t.charCodeAt(o);return new Blob([n],{type:i})};var without=function without(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function camelize(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return i},Dropzone.getElements=function(e,t){var i,n;if(e instanceof Array){n=[];try{var r=!0,o=!1,s=undefined;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)i=a.value,n.push(this.getElement(i,t))}catch(p){o=!0,s=p}finally{try{r||null==l["return"]||l["return"]()}finally{if(o)throw s}}}catch(m){n=null}}else if("string"==typeof e){var c=!0,u=!(n=[]),h=undefined;try{for(var d,f=document.querySelectorAll(e)[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)i=d.value,n.push(i)}catch(p){u=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{if(u)throw h}}}else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return n},Dropzone.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var i=e.type,n=i.replace(/\/.*$/,""),r=!0,o=!1,s=undefined;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;if("."===(c=c.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(c.toLowerCase(),e.name.length-c.length))return!0}else if(/\/\*$/.test(c)){if(n===c.replace(/\/.*$/,""))return!0}else if(i===c)return!0}}catch(u){o=!0,s=u}finally{try{r||null==l["return"]||l["return"]()}finally{if(o)throw s}}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function detectVerticalSquash(e){e.naturalWidth;var t=e.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=t;var n=i.getContext("2d");n.drawImage(e,0,0);for(var r=n.getImageData(1,0,1,t).data,o=0,s=t,a=t;o<a;){0===r[4*(a-1)+3]?s=a:o=a,a=s+o>>1}var l=a/t;return 0===l?1:l},drawImageIOSFix=function drawImageIOSFix(e,t,i,n,r,o,s,a,l,c){var u=detectVerticalSquash(t);return e.drawImage(t,i,n,r,o,s,a,l,c/u)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function t(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function u(e){for(var t="",i=undefined,n=undefined,r="",o=undefined,s=undefined,a=undefined,l="",c=0;o=(i=e[c++])>>2,s=(3&i)<<4|(n=e[c++])>>4,a=(15&n)<<2|(r=e[c++])>>6,l=63&r,isNaN(n)?a=l=64:isNaN(r)&&(l=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),i=n=r="",o=s=a=l="",c<e.length;);return t}},{key:"restore",value:function o(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var i=this.decode64(e.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),r=this.exifManipulation(t,n);return"data:image/jpeg;base64,".concat(this.encode64(r))}},{key:"exifManipulation",value:function r(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i);return new Uint8Array(n)}},{key:"getExifArray",value:function n(e){for(var t=undefined,i=0;i<e.length;){if(255===(t=e[i])[0]&225===t[1])return t;i++}return[]}},{key:"insertExif",value:function l(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),r=n.indexOf(255,3),o=n.slice(0,r),s=n.slice(r),a=o;return a=(a=a.concat(t)).concat(s)}},{key:"slice2Segments",value:function s(e){for(var t=0,i=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var n=t+(256*e[t+2]+e[t+3])+2,r=e.slice(t,n);i.push(r),t=n}if(t>e.length)break}return i}},{key:"decode64",value:function c(e){var t=undefined,i=undefined,n="",r=(undefined,undefined),o=undefined,s="",a=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(r=this.KEY_STR.indexOf(e.charAt(a++)))>>4,i=(15&r)<<4|(o=this.KEY_STR.indexOf(e.charAt(a++)))>>2,n=(3&o)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),l.push(t),64!==o&&l.push(i),64!==s&&l.push(n),t=i=n="",r=o=s="",a<e.length;);return l}}]),e}();ExifRestore.initClass();var contentLoaded=function contentLoaded(t,i){var n=!1,e=!0,r=t.document,o=r.documentElement,s=r.addEventListener?"addEventListener":"attachEvent",a=r.addEventListener?"removeEventListener":"detachEvent",l=r.addEventListener?"":"on",c=function c(e){if("readystatechange"!==e.type||"complete"===r.readyState)return("load"===e.type?t:r)[a](l+e.type,c,!1),!n&&(n=!0)?i.call(t,e.type||e):void 0},u=function u(){try{
o.doScroll("left")}catch(e){return void setTimeout(u,50)}return c("poll")};if("complete"!==r.readyState){if(r.createEventObject&&o.doScroll){try{e=!t.frameElement}catch(h){}e&&u()}return r[s](l+"DOMContentLoaded",c,!1),r[s](l+"readystatechange",c,!1),t[s](l+"load",c,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function c(e,t){if(!(this instanceof c))return new c(e,t);this.options=t=t?Pr(t):{},Pr(es,t,!1),d(t);var i=t.value;"string"==typeof i&&(i=new Cs(i,t.mode,null,t.lineSeparator)),this.doc=i;var n=new c.inputStyles[t.inputStyle](this),r=this.display=new l(e,i,n);h(r.wrapper.CodeMirror=this),u(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!Lo&&r.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Nr,keySeq:null,specialChars:null};var o=this;for(var s in bo&&wo<11&&setTimeout(function(){o.display.input.reset(!0)},20),Bt(this),Gr(),wt(this),this.curOp.forceUpdate=!0,Vn(this,i),t.autofocus&&!Lo||o.hasFocus()?setTimeout(Hr(gi,this),20):vi(this),ts)ts.hasOwnProperty(s)&&ts[s](this,t[s],is);_(this),t.finishInit&&t.finishInit(this);for(var a=0;a<ss.length;++a)ss[a](this);xt(this),_o&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(r.lineDiv).textRendering&&(r.lineDiv.style.textRendering="auto")}function l(e,t,i){var n=this;this.input=i,n.scrollbarFiller=Br("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Br("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Br("div",null,"CodeMirror-code"),n.selectionDiv=Br("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Br("div",null,"CodeMirror-cursors"),n.measure=Br("div",null,"CodeMirror-measure"),n.lineMeasure=Br("div",null,"CodeMirror-measure"),n.lineSpace=Br("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Br("div",[Br("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Br("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Br("div",null,null,"position: absolute; height: "+Os+"px; width: 1px;"),n.gutters=Br("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Br("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Br("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),bo&&wo<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),_o||go&&Lo||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function i(e){e.doc.mode=c.getMode(e.options,e.doc.modeOption),t(e)}function t(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,je(e,100),e.state.modeGen++,e.curOp&&Ot(e)}function e(e){e.options.lineWrapping?(ea(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Js(e.display.wrapper,"CodeMirror-wrap"),o(e)),n(e),Ot(e),at(e),setTimeout(function(){y(e)},100)}function f(n){var r=yt(n.display),o=n.options.lineWrapping,s=o&&Math.max(5,n.display.scroller.clientWidth/bt(n.display)-3);return function(e){if(xn(n.doc,e))return 0;var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;i++)e.widgets[i].height&&(t+=e.widgets[i].height);return o?t+(Math.ceil(e.text.length/s)||1)*r:t+r}}function n(e){var t=e.doc,i=f(e);t.iter(function(e){var t=i(e);t!=e.height&&er(e,t)})}function u(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),at(e)}function r(e){h(e),Ot(e),setTimeout(function(){w(e)},20)}function h(e){var t=e.display.gutters,i=e.options.gutters;qr(t);for(var n=0;n<i.length;++n){var r=i[n],o=t.appendChild(Br("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",a(e)}function a(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function p(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=mn(n);){n=(r=t.find(0,!0)).from.line,i+=r.from.ch-r.to.ch}for(n=e;t=gn(n);){var r=t.find(0,!0);i-=n.text.length-r.from.ch,i+=(n=r.to.line).text.length-r.to.ch}return i}function o(e){var i=e.display,t=e.doc;i.maxLine=Qn(t,t.first),i.maxLineLength=p(i.maxLine),i.maxLineChanged=!0,t.iter(function(e){var t=p(e);t>i.maxLineLength&&(i.maxLineLength=t,i.maxLine=e)})}function d(e){var t=Ir(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function s(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+Ue(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Ye(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function m(e,t,i){this.cm=i;var n=this.vert=Br("div",[Br("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Br("div",[Br("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(r),Ns(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Ns(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&wo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&Js(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new c.scrollbarModel[i.options.scrollbarStyle](function(e){i.display.wrapper.insertBefore(e,i.display.scrollbarFiller),Ns(e,"mousedown",function(){i.state.focused&&setTimeout(function(){i.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){"horizontal"==t?ri(i,e):ni(i,e)},i),i.display.scrollbars.addClass&&ea(i.display.wrapper,i.display.scrollbars.addClass)}function y(e,t){t||(t=s(e));var i=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var r=0;r<4&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&E(e),b(e,s(e)),i=e.display.barWidth,n=e.display.barHeight}function b(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function k(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-qe(e));var r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,o=ir(t,n),s=ir(t,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?s=ir(t,nr(Qn(t,o=a))+e.wrapper.clientHeight):Math.min(l,t.lastLine())>=s&&(o=ir(t,nr(Qn(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function w(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=C(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&i[s].gutter&&(i[s].gutter.style.left=o);var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function _(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=x(e.options,t.first+t.size-1),n=e.display;if(i.length==n.lineNumChars)return!1;var r=n.measure.appendChild(Br("div",[Br("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",a(e),!0}function x(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function C(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,i){var n=e.display;this.viewport=t,this.visible=k(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ke(e),this.force=i,this.dims=I(e),this.events=[]}function T(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ye(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ye(e)+"px",t.scrollbarsClipped=!0)}function D(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return Pt(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Rt(e))return!1;_(e)&&(Pt(e),t.dims=I(e));var r=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(r,i.viewTo)),Po&&(o=wn(e.doc,o),s=_n(e.doc,s));var a=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;Wt(e,o,s),i.viewOffset=nr(Qn(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var l=Rt(e);if(!a&&0==l&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=$r();return 4<l&&(i.lineDiv.style.display="none"),F(e,i.updateLineNumbers,t.dims),4<l&&(i.lineDiv.style.display=""),i.renderedView=i.view,c&&$r()!=c&&c.offsetHeight&&c.focus(),qr(i.cursorDiv),qr(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,je(e,400)),!(i.updateLineNumbers=null)}function M(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Ke(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+Ue(e.display)-Xe(e),i.top)}),t.visible=k(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&D(e,t);n=!1){E(e);var r=s(e);Fe(e),y(e,r),N(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function L(e,t){var i=new S(e,t);if(D(e,i)){E(e),M(e,i);var n=s(e);Fe(e),y(e,n),N(e,n),i.finish()}}function N(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ye(e)+"px"}function E(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r,o=t.view[n];if(!o.hidden){if(bo&&wo<8){var s=o.node.offsetTop+o.node.offsetHeight;r=s-i,i=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(r<2&&(r=yt(t)),(.001<l||l<-.001)&&(er(o.line,r),A(o.line),o.rest))for(var c=0;c<o.rest.length;c++)A(o.rest[c])}}}function A(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function I(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,n[e.options.gutters[s]]=o.clientWidth;return{fixedPos:C(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function F(i,e,t){function n(e){var t=e.nextSibling;return _o&&No&&i.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var r=i.display,o=i.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;a!=h.node;)a=n(a);var d=o&&null!=e&&e<=c&&h.lineNumber;h.changes&&(-1<Ir(h.changes,"gutter")&&(d=!1),O(i,h,c,t)),d&&(qr(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(x(i.options,c)))),a=h.node.nextSibling}else{var f=q(i,h,c,t);s.insertBefore(f,a)}c+=h.size}for(;a;)a=n(a)}function O(e,t,i,n){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?j(e,t):"gutter"==o?R(e,t,i,n):"class"==o?W(t):"widget"==o&&B(e,t,n)}t.changes=null}function z(e){return e.node==e.text&&(e.node=Br("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bo&&wo<8&&(e.node.style.zIndex=2)),e.node}function P(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var i=z(e);e.background=i.insertBefore(Br("div",null,t),i.firstChild)}}function H(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Hn(e,t)}function j(e,t){var i=t.text.className,n=H(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,W(t)):i&&(t.text.className=i)}function W(e){P(e),e.line.wrapClass?z(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function R(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=z(t);t.gutterBackground=Br("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){r=z(t);var s=t.gutter=Br("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),r.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Br("div",x(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(Br("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function B(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild;n;n=r){var r=n.nextSibling;"CodeMirror-linewidget"==n.className&&t.node.removeChild(n)}U(e,t,i)}function q(e,t,i,n){var r=H(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),W(t),R(e,t,i,n),U(e,t,n),t.node}function U(e,t,i){if($(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)$(e,t.rest[n],t,i,!1)}function $(e,t,i,n,r){if(t.widgets)for(var o=z(i),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=Br("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Y(l,c,i,n),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),Cr(l,"redraw")}}function Y(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function K(e){return Ho(e.line,e.ch)}function X(e,t){return jo(e,t)<0?t:e}function G(e,t){return jo(e,t)<0?e:t}function V(e){e.state.focused||(e.display.input.focus(),gi(e))}function Q(e,t,i,n,r){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=o.splitLines(t),l=null;if(s&&1<n.ranges.length)if(Wo&&Wo.text.join("\n")==t){if(n.ranges.length%Wo.text.length==0){l=[];for(var c=0;c<Wo.text.length;c++)l.push(o.splitLines(Wo.text[c]))}}else a.length==n.ranges.length&&(l=Fr(a,function(e){return[e]}));for(c=n.ranges.length-1;0<=c;c--){var u=n.ranges[c],h=u.from(),d=u.to();u.empty()&&(i&&0<i?h=Ho(h.line,h.ch-i):e.state.overwrite&&!s?d=Ho(d.line,Math.min(Qn(o,d.line).text.length,d.ch+Ar(a).length)):Wo&&Wo.lineWise&&Wo.text.join("\n")==t&&(h=d=Ho(h.line,0)));var f=e.curOp.updateInput,p={from:h,to:d,text:l?l[c%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};Si(e.doc,p),Cr(e,"inputRead",e,p)}t&&!s&&J(e,t),Pi(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){var i=e.clipboardData&&e.clipboardData.getData("text/plain");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Lt(t,function(){Q(t,i,0,null,"paste")}),!0}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;0<=n;n--){var r=i.ranges[n];if(!(100<r.head.ch||n&&i.ranges[n-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(-1<t.indexOf(o.electricChars.charAt(a))){s=ji(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qn(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=ji(e,r.head.line,"smart"));s&&Cr(e,"electricInput",e,r.head.line)}}}function ee(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,o={anchor:Ho(r,0),head:Ho(r+1,0)};i.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:i}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ie(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Nr,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ne(){var e=Br("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Br("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _o?e.style.width="1000px":e.setAttribute("wrap","off"),Mo&&(e.style.border="1px solid black"),te(e),t}function re(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Nr,this.gracePeriod=!1}function oe(e,t){var i=Je(e,t.line);if(!i||i.hidden)return null;var n=Qn(e.doc,t.line),r=Ve(i,n,t.line),o=rr(n),s="left";o&&(s=co(o,t.ch)%2?"right":"left");var a=it(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function se(e,t){return t&&(e.bad=!0),e}function ae(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return se(e.clipPos(Ho(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==n)return le(o,t,i)}}function le(c,e,t){function i(e,t,i){for(var n=-1;n<(h?h.length:0);n++)for(var r=n<0?u.map:h[n],o=0;o<r.length;o+=3){var s=r[o+2];if(s==e||s==t){var a=tr(n<0?c.line:c.rest[n]),l=r[o]+i;return(i<0||s!=e)&&(l=r[o+(i?1:0)]),Ho(a,l)}}}var n=c.text.firstChild,r=!1;if(!e||!Xs(n,e))return se(Ho(tr(c.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[t],t=0,!e)){var o=c.rest?Ar(c.rest):c.line;return se(Ho(tr(o),o.text.length),r)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,t&&(t=s.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var u=c.measure,h=u.maps,l=i(s,a,t);if(l)return se(l,r);for(var d=a.nextSibling,f=s?s.nodeValue.length-t:0;d;d=d.nextSibling){if(l=i(d,d.firstChild,0))return se(Ho(l.line,l.ch-f),r);f+=d.textContent.length}var p=a.previousSibling;for(f=t;p;p=p.previousSibling){if(l=i(p,p.firstChild,-1))return se(Ho(l.line,l.ch+f),r);f+=d.textContent.length}}function ce(a,e,t,l,c){function u(t){return function(e){return e.id==t}}function h(e){if(1==e.nodeType){var t=e.getAttribute("cm-text");if(null!=t)return""==t&&(t=e.textContent.replace(/\u200b/g,"")),void(d+=t);var i,n=e.getAttribute("cm-marker");if(n){var r=a.findMarks(Ho(l,0),Ho(c+1,0),u(+n));return void(r.length&&(i=r[0].find())&&(d+=Zn(a.doc,i.from,i.to).join(p)))}if("false"==e.getAttribute("contenteditable"))return;for(var o=0;o<e.childNodes.length;o++)h(e.childNodes[o]);/^(pre|div|p)$/i.test(e.nodeName)&&(f=!0)}else if(3==e.nodeType){var s=e.nodeValue;if(!s)return;f&&(d+=p,f=!1),d+=s}}for(var d="",f=!1,p=a.doc.lineSeparator();h(e),e!=t;)e=e.nextSibling;return d}function ue(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function de(e,t){var i=e[t];e.sort(function(e,t){return jo(e.from(),t.from())}),t=Ir(e,i);for(var n=1;n<e.length;n++){var r=e[n],o=e[n-1];if(0<=jo(o.to(),r.from())){var s=G(o.from(),r.from()),a=X(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new he(l?a:s,l?s:a))}}return new ue(e,t)}function fe(e,t){return new ue([new he(e,t||e)],0)}function pe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function me(e,t){if(t.line<e.first)return Ho(e.first,0);var i=e.first+e.size-1;return t.line>i?Ho(i,Qn(e,i).text.length):ge(t,Qn(e,t.line).text.length)}function ge(e,t){var i=e.ch;return null==i||t<i?Ho(e.line,t):i<0?Ho(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=me(e,t[n]);return i}function be(e,t,i,n){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(n){var o=jo(i,r)<0;o!=jo(n,r)<0?(r=i,i=n):o!=jo(i,n)<0&&(i=n)}return new he(r,i)}return new he(n||i,i)}function we(e,t,i,n){Te(e,new ue([be(e,e.sel.primary(),t,i)],0),n)}function _e(e,t,i){for(var n=[],r=0;r<e.sel.ranges.length;r++)n[r]=be(e,e.sel.ranges[r],t[r],null);Te(e,de(n,e.sel.primIndex),i)}function xe(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,Te(e,de(r,e.sel.primIndex),n)}function ke(e,t,i,n){Te(e,fe(t,i),n)}function Ce(i,e,t){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new he(me(i,e[t].anchor),me(i,e[t].head))},origin:t&&t.origin};return Is(i,"beforeSelectionChange",i,n),i.cm&&Is(i.cm,"beforeSelectionChange",i.cm,n),n.ranges!=e.ranges?de(n.ranges,n.ranges.length-1):e}function Se(e,t,i){var n=e.history.done,r=Ar(n);r&&r.ranges?De(e,n[n.length-1]=t,i):Te(e,t,i)}function Te(e,t,i){De(e,t,i),hr(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function De(e,t,i){(Mr(e,"beforeSelectionChange")||e.cm&&Mr(e.cm,"beforeSelectionChange"))&&(t=Ce(e,t,i)),Me(e,Ne(e,t,i&&i.bias||(jo(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||Pi(e.cm)}function Me(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Dr(e.cm)),Cr(e,"cursorActivity",e))}function Le(e){Me(e,Ne(e,e.sel,null,!1),Ps)}function Ne(e,t,i,n){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Ae(e,s.anchor,a&&a.anchor,i,n),c=Ae(e,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new he(l,c))}return r?de(r,t.primIndex):t}function Ee(e,t,i,n,r){var o=Qn(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(Is(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c,u=l.find(n<0?1:-1);if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Ie(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=jo(u,i))&&(n<0?c<0:0<c))return Ee(e,u,t,n,r)}var h=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(h=Ie(e,h,n,h.line==t.line?o:null)),h?Ee(e,h,t,n,r):null}}return t}function Ae(e,t,i,n,r){var o=n||1,s=Ee(e,t,i,o,r)||!r&&Ee(e,t,i,o,!0)||Ee(e,t,i,-o,r)||!r&&Ee(e,t,i,-o,!0);return s||(e.cantEdit=!0,Ho(e.first,0))}function Ie(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?me(e,Ho(t.line-1)):null:0<i&&t.ch==(n||Qn(e,t.line)).text.length?t.line<e.first+e.size-1?Ho(t.line+1,0):null:new Ho(t.line,t.ch+i)}function Fe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Oe(e,t){for(var i=e.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(!1!==t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&ze(e,a.head,r),l||Pe(e,a,o)}}return n}function ze(e,t,i){var n=ft(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=i.appendChild(Br("div","\xa0","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=i.appendChild(Br("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Pe(r,e,t){function p(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),s.appendChild(Br("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?g-e:i)+"px; height: "+(n-t)+"px"))}function i(i,l,c){function u(e,t){return dt(r,Ho(i,e),"div",n,t)}var h,d,n=Qn(o,i),f=n.text.length;return eo(rr(n),l||0,null==c?f:c,function(e,t,i){var n,r,o,s=u(e,"left");if(e==t)r=o=(n=s).left;else{if(n=u(t-1,"right"),"rtl"==i){var a=s;s=n,n=a}r=s.left,o=n.right}null==l&&0==e&&(r=m),3<n.top-s.top&&(p(r,s.top,null,s.bottom),r=m,s.bottom<n.top&&p(r,s.bottom,null,n.top)),null==c&&t==f&&(o=g),(!h||s.top<h.top||s.top==h.top&&s.left<h.left)&&(h=s),(!d||n.bottom>d.bottom||n.bottom==d.bottom&&n.right>d.right)&&(d=n),r<m+1&&(r=m),p(r,n.top,o-r,n.bottom)}),{start:h,end:d}}var n=r.display,o=r.doc,s=document.createDocumentFragment(),a=$e(r.display),m=a.left,g=Math.max(n.sizerWidth,Ke(r)-n.sizer.offsetLeft)-a.right,l=e.from(),c=e.to();if(l.line==c.line)i(l.line,l.ch,c.ch);else{var u=Qn(o,l.line),h=Qn(o,c.line),d=yn(u)==yn(h),f=i(l.line,l.ch,d?u.text.length+1:null).end,v=i(c.line,d?0:null,c.ch).start;d&&(f.top<v.top-2?(p(f.right,f.top,null,f.bottom),p(m,v.top,v.left,v.bottom)):p(f.right,f.top,v.left-f.right,f.bottom)),f.bottom<v.top&&p(m,f.bottom,null,v.top)}t.appendChild(s)}function He(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function je(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Hr(We,e))}function We(l){var c=l.doc;if(c.frontier<c.first&&(c.frontier=c.first),!(c.frontier>=l.display.viewTo)){var u=+new Date+l.options.workTime,h=ls(c.mode,Be(l,c.frontier)),d=[];c.iter(c.frontier,Math.min(c.first+c.size,l.display.viewTo+500),function(e){if(c.frontier>=l.display.viewFrom){var t=e.styles,i=e.text.length>l.options.maxHighlightLength,n=Fn(l,e,i?ls(c.mode,h):h,!0);e.styles=n.styles;var r=e.styleClasses,o=n.classes;o?e.styleClasses=o:r&&(e.styleClasses=null);for(var s=!t||t.length!=e.styles.length||r!=o&&(!r||!o||r.bgClass!=o.bgClass||r.textClass!=o.textClass),a=0;!s&&a<t.length;++a)s=t[a]!=e.styles[a];s&&d.push(c.frontier),e.stateAfter=i?h:ls(c.mode,h)}else e.text.length<=l.options.maxHighlightLength&&zn(l,e.text,h),e.stateAfter=c.frontier%5==0?ls(c.mode,h):null;if(++c.frontier,+new Date>u)return je(l,l.options.workDelay),!0}),d.length&&Lt(l,function(){for(var e=0;e<d.length;e++)zt(l,d[e],"text")})}}function Re(e,t,i){for(var n,r,o=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;s<a;--a){if(a<=o.first)return o.first;var l=Qn(o,a-1);if(l.stateAfter&&(!i||a<=o.frontier))return a;var c=Ws(l.text,null,e.options.tabSize);(null==r||c<n)&&(r=a-1,n=c)}return r}function Be(i,n,e){var r=i.doc,o=i.display;if(!r.mode.startState)return!0;var s=Re(i,n,e),a=s>r.first&&Qn(r,s-1).stateAfter;return a=a?ls(r.mode,a):cs(r.mode),r.iter(s,n,function(e){zn(i,e.text,a);var t=s==n-1||s%5==0||s>=o.viewFrom&&s<o.viewTo;e.stateAfter=t?ls(r.mode,a):null,++s}),e&&(r.frontier=s),a}function qe(e){return e.lineSpace.offsetTop}function Ue(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function $e(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Ur(e.measure,Br("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Ye(e){return Os-e.display.nativeBarWidth}function Ke(e){return e.display.scroller.clientWidth-Ye(e)-e.display.barWidth}function Xe(e){return e.display.scroller.clientHeight-Ye(e)-e.display.barHeight}function Ge(e,t,i){var n=e.options.lineWrapping,r=n&&Ke(e);if(!t.measure.heights||n&&t.measure.width!=r){var o=t.measure.heights=[];if(n){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];2<Math.abs(l.bottom-c.bottom)&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}function Ve(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(n=0;n<e.rest.length;n++)if(tr(e.rest[n])>i)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function Qe(e,t){var i=tr(t=yn(t)),n=e.display.externalMeasured=new It(e.doc,t,i);n.lineN=i;var r=n.built=Hn(e,n);return n.text=r.pre,Ur(e.display.lineMeasure,r.pre),n}function Ze(e,t,i,n){return tt(e,et(e,t),i,n)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ht(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function et(e,t){var i=tr(t),n=Je(e,i);n&&!n.text?n=null:n&&n.changes&&(O(e,n,i,I(e)),e.curOp.forceUpdate=!0),n||(n=Qe(e,t));var r=Ve(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function tt(e,t,i,n,r){t.before&&(i=-1);var o,s=i+(n||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ge(e,t.view,t.rect),t.hasHeights=!0),(o=nt(e,t,i,n)).bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function it(e,t,i){for(var n,r,o,s,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(t<l?(r=0,o=1,s="left"):t<c?o=(r=t-l)+1:(a==e.length-3||t==c&&e[a+3]>t)&&(r=(o=c-l)-1,c<=t&&(s="right")),null!=r){if(n=e[a+2],l==c&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)n=e[2+(a-=3)],s="left";if("right"==i&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)n=e[(a+=3)+2],s="right";break}}return{node:n,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function nt(e,
t,i,n){var r,o=it(t.map,i,n),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&Rr(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Rr(t.line.text.charAt(o.coverStart+l));)++l;if(bo&&wo<9&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(bo&&e.options.lineWrapping){r=(h=Us(s,a,l).getClientRects()).length?h["right"==n?h.length-1:0]:Uo}else r=Us(s,a,l).getBoundingClientRect()||Uo;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}bo&&wo<11&&(r=rt(e.display.measure,r))}else{var h;0<a&&(c=n="right"),r=e.options.lineWrapping&&1<(h=s.getClientRects()).length?h["right"==n?h.length-1:0]:s.getBoundingClientRect()}if(bo&&wo<9&&!a&&(!r||!r.left&&!r.right)){var d=s.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+bt(e.display),top:d.top,bottom:d.bottom}:Uo}var f=r.top-t.rect.top,p=r.bottom-t.rect.top,m=(f+p)/2,g=t.view.measure.heights;for(u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,y=g[u],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=p),b}function rt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Jr(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function ot(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function st(e){e.display.externalMeasure=null,qr(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ot(e.display.view[t])}function at(e){st(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,i,n){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=Sn(t.widgets[r]);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var s=nr(t);if("local"==n?s+=qe(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:ct());var l=a.left+("window"==n?0:lt());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function ht(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=lt(),r-=ct();else if("local"==i||!i){var o=e.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function dt(e,t,i,n,r){return n||(n=Qn(e.doc,t.line)),ut(e,n,Ze(e,n,t.ch,r),i)}function ft(n,e,r,o,s,a){function l(e,t){var i=tt(n,s,e,t?"right":"left",a);return t?i.left=i.right:i.right=i.left,ut(n,o,i,r)}function t(e,t){var i=c[t],n=i.level%2;return e==to(i)&&t&&i.level<c[t-1].level?(e=io(i=c[--t])-(i.level%2?0:1),n=!0):e==io(i)&&t<c.length-1&&i.level<c[t+1].level&&(e=to(i=c[++t])-i.level%2,n=!1),n&&e==i.to&&e>i.from?l(e-1):l(e,n)}o=o||Qn(n.doc,e.line),s||(s=et(n,o));var c=rr(o),i=e.ch;if(!c)return l(i);var u=t(i,co(c,i));return null!=Zs&&(u.other=t(i,Zs)),u}function pt(e,t){var i=0;t=me(e.doc,t);e.options.lineWrapping||(i=bt(e.display)*t.ch);var n=Qn(e.doc,t.line),r=nr(n)+qe(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function mt(e,t,i,n){var r=Ho(e,t);return r.xRel=n,i&&(r.outside=!0),r}function gt(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return mt(n.first,0,!0,-1);var r=ir(n,i),o=n.first+n.size-1;if(o<r)return mt(n.first+n.size-1,Qn(n,o).text.length,!0,1);t<0&&(t=0);for(var s=Qn(n,r);;){var a=vt(e,s,r,t,i),l=gn(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&0<a.xRel))return a;r=tr(s=c.to.line)}}function vt(i,n,r,e,t){function o(e){var t=ft(i,Ho(r,e),"line",n,c);return a=!0,s>t.bottom?t.left-l:s<t.top?t.left+l:(a=!1,t.left)}var s=t-nr(n),a=!1,l=2*i.display.wrapper.clientWidth,c=et(i,n),u=rr(n),h=n.text.length,d=no(n),f=ro(n),p=o(d),m=a,g=o(f),v=a;if(g<e)return mt(r,f,v,1);for(;;){if(u?f==d||f==ho(n,d,1):f-d<=1){var y=e<p||e-p<=g-e?d:f,b=y==d?m:v,w=e-(y==d?p:g);if(v&&!u&&!/\s/.test(n.text.charAt(y))&&0<w&&y<n.text.length&&1<c.view.measure.heights.length){var _=tt(i,c,y,"right");s<=_.bottom&&s>=_.top&&Math.abs(e-_.right)<w&&(b=!1,y++,w=e-_.right)}for(;Rr(n.text.charAt(y));)++y;return mt(r,y,b,w<-1?-1:1<w?1:0)}var x=Math.ceil(h/2),k=d+x;if(u){k=d;for(var C=0;C<x;++C)k=ho(n,k,1)}var S=o(k);e<S?(f=k,g=S,(v=a)&&(g+=1e3),h=x):(d=k,p=S,m=a,h-=x)}}function yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ro){Ro=Br("pre");for(var t=0;t<49;++t)Ro.appendChild(document.createTextNode("x")),Ro.appendChild(Br("br"));Ro.appendChild(document.createTextNode("x"))}Ur(e.measure,Ro);var i=Ro.offsetHeight/50;return 3<i&&(e.cachedTextHeight=i),qr(e.measure),i||1}function bt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Br("span","xxxxxxxxxx"),i=Br("pre",[t]);Ur(e.measure,i);var n=t.getBoundingClientRect(),r=(n.right-n.left)/10;return 2<r&&(e.cachedCharWidth=r),r||10}function wt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yo},$o?$o.ops.push(e.curOp):e.curOp.ownsGroup=$o={ops:[e.curOp],delayedCallbacks:[]}}function _t(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}function xt(e){var t=e.curOp.ownsGroup;if(t)try{_t(t)}finally{$o=null;for(var i=0;i<t.ops.length;i++)t.ops[i].cm.curOp=null;kt(t)}}function kt(e){for(var t=e.ops,i=0;i<t.length;i++)Ct(t[i]);for(i=0;i<t.length;i++)St(t[i]);for(i=0;i<t.length;i++)Tt(t[i]);for(i=0;i<t.length;i++)Dt(t[i]);for(i=0;i<t.length;i++)Mt(t[i])}function Ct(e){var t=e.cm,i=t.display;T(t),e.updateMaxLine&&o(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function St(e){e.updatedDisplay=e.mustUpdate&&D(e.cm,e.update)}function Tt(e){var t=e.cm,i=t.display;e.updatedDisplay&&E(t),e.barMeasure=s(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ze(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Ye(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Ke(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection(e.focus))}function Dt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ri(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==$r()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&N(t,e.barMeasure),e.selectionChanged&&He(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&V(e.cm)}function Mt(e){var t=e.cm,i=t.display,n=t.doc;if(e.updatedDisplay&&M(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==e.scrollTop||i.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,e.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||i.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,e.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,w(t)),e.scrollToPos){var r=Ii(t,me(n,e.scrollToPos.from),me(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Ai(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Is(o[a],"hide");if(s)for(a=0;a<s.length;++a)s[a].lines.length&&Is(s[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Is(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Lt(e,t){if(e.curOp)return t();wt(e);try{return t()}finally{xt(e)}}function Nt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wt(e);try{return t.apply(e,arguments)}finally{xt(e)}}}function Et(e){return function(){if(this.curOp)return e.apply(this,arguments);wt(this);try{return e.apply(this,arguments)}finally{xt(this)}}}function At(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);wt(e);try{return t.apply(this,arguments)}finally{xt(e)}}}function It(e,t,i){this.line=t,this.rest=bn(t),this.size=this.rest?tr(Ar(this.rest))-i+1:1,this.node=this.text=null,this.hidden=xn(e,t)}function Ft(e,t,i){for(var n,r=[],o=t;o<i;o=n){var s=new It(e.doc,Qn(e.doc,o),o);n=o+s.size,r.push(s)}return r}function Ot(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var r=e.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Po&&wn(e.doc,t)<r.viewTo&&Pt(e);else if(i<=r.viewFrom)Po&&_n(e.doc,i+n)>r.viewFrom?Pt(e):(r.viewFrom+=n,r.viewTo+=n);else if(t<=r.viewFrom&&i>=r.viewTo)Pt(e);else if(t<=r.viewFrom){(o=jt(e,i,i+n,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):Pt(e)}else if(i>=r.viewTo){var o;(o=jt(e,t,t,-1))?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):Pt(e)}else{var s=jt(e,t,t,-1),a=jt(e,i,i+n,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Ft(e,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=n):Pt(e)}var l=r.externalMeasured;l&&(i<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(r.externalMeasured=null))}function zt(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Ht(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Ir(s,i)&&s.push(i)}}}function Pt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ht(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function jt(e,t,i,n){var r,o=Ht(e,t),s=e.display.view;if(!Po||i==e.doc.first+e.doc.size)return{index:o,lineN:i};for(var a=0,l=e.display.viewFrom;a<o;a++)l+=s[a].size;if(l!=t){if(0<n){if(o==s.length-1)return null;r=l+s[o].size-t,o++}else r=l-t;t+=r,i+=r}for(;wn(e.doc,i)!=i;){if(o==(n<0?0:s.length-1))return null;i+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function Wt(e,t,i){var n=e.display;0==n.view.length||t>=n.viewTo||i<=n.viewFrom?(n.view=Ft(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=Ft(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Ht(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(Ft(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ht(e,i)))),n.viewTo=i}function Rt(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function Bt(r){function o(){a.activeTouch&&(n=setTimeout(function(){a.activeTouch=null},1e3),(l=a.activeTouch).end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function s(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return 400<i*i+n*n}var a=r.display;Ns(a.scroller,"mousedown",Nt(r,Kt)),Ns(a.scroller,"dblclick",bo&&wo<11?Nt(r,function(e){if(!Tr(r,e)){var t=Yt(r,e);if(t&&!Zt(r,e)&&!$t(r.display,e)){Ds(e);var i=r.findWordAt(t);we(r.doc,i.anchor,i.head)}}}):function(e){Tr(r,e)||Ds(e)}),Oo||Ns(a.scroller,"contextmenu",function(e){yi(r,e)});var n,l={end:0};Ns(a.scroller,"touchstart",function(e){if(!Tr(r,e)&&!i(e)){clearTimeout(n);var t=+new Date;a.activeTouch={start:t,moved:!1,prev:t-l.end<=300?l:null},1==e.touches.length&&(a.activeTouch.left=e.touches[0].pageX,a.activeTouch.top=e.touches[0].pageY)}}),Ns(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),Ns(a.scroller,"touchend",function(e){var t=a.activeTouch;if(t&&!$t(a,e)&&null!=t.left&&!t.moved&&new Date-t.start<300){var i,n=r.coordsChar(a.activeTouch,"page");i=!t.prev||s(t,t.prev)?new he(n,n):!t.prev.prev||s(t,t.prev.prev)?r.findWordAt(n):new he(Ho(n.line,0),me(r.doc,Ho(n.line+1,0))),r.setSelection(i.anchor,i.head),r.focus(),Ds(e)}o()}),Ns(a.scroller,"touchcancel",o),Ns(a.scroller,"scroll",function(){a.scroller.clientHeight&&(ni(r,a.scroller.scrollTop),ri(r,a.scroller.scrollLeft,!0),Is(r,"scroll",r))}),Ns(a.scroller,"mousewheel",function(e){oi(r,e)}),Ns(a.scroller,"DOMMouseScroll",function(e){oi(r,e)}),Ns(a.wrapper,"scroll",function(){a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(e){Tr(r,e)||Ls(e)},over:function(e){Tr(r,e)||(ti(r,e),Ls(e))},start:function(e){ei(r,e)},drop:Nt(r,Jt),leave:function(e){Tr(r,e)||ii(r)}};var e=a.input.getField();Ns(e,"keyup",function(e){fi.call(r,e)}),Ns(e,"keydown",Nt(r,hi)),Ns(e,"keypress",Nt(r,pi)),Ns(e,"focus",Hr(gi,r)),Ns(e,"blur",Hr(vi,r))}function qt(e,t,i){if(!t!=!(i&&i!=c.Init)){var n=e.display.dragFunctions,r=t?Ns:As;r(e.display.scroller,"dragstart",n.start),r(e.display.scroller,"dragenter",n.enter),r(e.display.scroller,"dragover",n.over),r(e.display.scroller,"dragleave",n.leave),r(e.display.scroller,"drop",n.drop)}}function Ut(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function $t(e,t){for(var i=_r(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Yt(e,t,i,n){var r=e.display;if(!i&&"true"==_r(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=gt(e,o,s);if(n&&1==c.xRel&&(l=Qn(e.doc,c.line).text).length==c.ch){var u=Ws(l,l.length,e.options.tabSize)-l.length;c=Ho(c.line,Math.max(0,Math.round((o-$e(e.display).left)/bt(e.display))-u))}return c}function Kt(e){var t=this,i=t.display;if(!(Tr(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.shift=e.shiftKey,$t(i,e))_o||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100));else if(!Zt(t,e)){var n=Yt(t,e);switch(window.focus(),xr(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?Xt(t,e,n):_r(e)==i.scroller&&Ds(e);break;case 2:_o&&(t.state.lastMiddleDown=+new Date),n&&we(t.doc,n),setTimeout(function(){i.input.focus()},20),Ds(e);break;case 3:Oo?yi(t,e):mi(t)}}}function Xt(e,t,i){bo?setTimeout(Hr(V,e),0):e.curOp.focus=$r();var n,r=+new Date;qo&&qo.time>r-400&&0==jo(qo.pos,i)?n="triple":Bo&&Bo.time>r-400&&0==jo(Bo.pos,i)?(n="double",qo={time:r,pos:i}):(n="single",Bo={time:r,pos:i});var o,s=e.doc.sel,a=No?t.metaKey:t.ctrlKey;e.options.dragDrop&&ia&&!e.isReadOnly()&&"single"==n&&-1<(o=s.contains(i))&&(jo((o=s.ranges[o]).from(),i)<0||0<i.xRel)&&(0<jo(o.to(),i)||i.xRel<0)?Gt(e,t,i,a):Vt(e,t,i,n,a)}function Gt(t,i,n,r){var o=t.display,s=+new Date,a=Nt(t,function(e){_o&&(o.scroller.draggable=!1),t.state.draggingText=!1,As(document,"mouseup",a),As(o.scroller,"drop",a),Math.abs(i.clientX-e.clientX)+Math.abs(i.clientY-e.clientY)<10&&(Ds(e),!r&&+new Date-200<s&&we(t.doc,n),_o||bo&&9==wo?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});_o&&(o.scroller.draggable=!0),(t.state.draggingText=a).copy=No?i.altKey:i.ctrlKey,o.scroller.dragDrop&&o.scroller.dragDrop(),Ns(document,"mouseup",a),Ns(o.scroller,"drop",a)}function Vt(m,e,g,v,t){function o(e){if(0!=jo(x,e))if(x=e,"rect"==v){for(var t=[],i=m.options.tabSize,n=Ws(Qn(y,g.line).text,g.ch,i),r=Ws(Qn(y,e.line).text,e.ch,i),o=Math.min(n,r),s=Math.max(n,r),a=Math.min(g.line,e.line),l=Math.min(m.lastLine(),Math.max(g.line,e.line));a<=l;a++){var c=Qn(y,a).text,u=Rs(c,o,i);o==s?t.push(new he(Ho(a,u),Ho(a,u))):c.length>u&&t.push(new he(Ho(a,u),Ho(a,Rs(c,s,i))))}t.length||t.push(new he(g,g)),Te(y,de(_.ranges.slice(0,w).concat(t),w),{origin:"*mouse",scroll:!1}),m.scrollIntoView(e)}else{var h=b,d=h.anchor,f=e;if("single"!=v){if("double"==v)var p=m.findWordAt(e);else p=new he(Ho(e.line,0),me(y,Ho(e.line+1,0)));0<jo(p.anchor,d)?(f=p.head,d=G(h.from(),p.anchor)):(f=p.anchor,d=X(h.to(),p.head))}(t=_.ranges.slice(0))[w]=new he(me(y,d),f),Te(y,de(t,w),Hs)}}function s(e){var t=++u,i=Yt(m,e,!0,"rect"==v);if(i)if(0!=jo(i,x)){m.curOp.focus=$r(),o(i);var n=k(a,y);(i.line>=n.to||i.line<n.from)&&setTimeout(Nt(m,function(){u==t&&s(e)}),150)}else{var r=e.clientY<c.top?-20:e.clientY>c.bottom?20:0;r&&setTimeout(Nt(m,function(){u==t&&(a.scroller.scrollTop+=r,s(e))}),50)}}function i(e){m.state.selectingText=!1,u=Infinity,Ds(e),a.input.focus(),As(document,"mousemove",h),As(document,"mouseup",d),y.history.lastSelOrigin=null}var a=m.display,y=m.doc;Ds(e);var b,w,_=y.sel,n=_.ranges;if(t&&!e.shiftKey?(w=y.sel.contains(g),b=-1<w?n[w]:new he(g,g)):(b=y.sel.primary(),w=y.sel.primIndex),Eo?e.shiftKey&&e.metaKey:e.altKey)v="rect",t||(b=new he(g,g)),g=Yt(m,e,!0,!0),w=-1;else if("double"==v){var r=m.findWordAt(g);b=m.display.shift||y.extend?be(y,b,r.anchor,r.head):r}else if("triple"==v){var l=new he(Ho(g.line,0),me(y,Ho(g.line+1,0)));b=m.display.shift||y.extend?be(y,b,l.anchor,l.head):l}else b=be(y,b,g);t?-1==w?(w=n.length,Te(y,de(n.concat([b]),w),{scroll:!1,origin:"*mouse"})):1<n.length&&n[w].empty()&&"single"==v&&!e.shiftKey?(Te(y,de(n.slice(0,w).concat(n.slice(w+1)),0),{scroll:!1,origin:"*mouse"}),_=y.sel):xe(y,w,b,Hs):(Te(y,new ue([b],w=0),Hs),_=y.sel);var x=g,c=a.wrapper.getBoundingClientRect(),u=0,h=Nt(m,function(e){xr(e)?s(e):i(e)}),d=Nt(m,i);m.state.selectingText=d,Ns(document,"mousemove",h),Ns(document,"mouseup",d)}function Qt(e,t,i,n){try{var r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Ds(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Mr(e,i))return wr(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=ir(e.doc,o),h=e.options.gutters[l];return Is(e,i,e,u,h,t),wr(t)}}}function Zt(e,t){return Qt(e,t,"gutterClick",!0)}function Jt(e){var r=this;if(ii(r),!Tr(r,e)&&!$t(r.display,e)){Ds(e),bo&&(Ko=+new Date);var o=Yt(r,e,!0),t=e.dataTransfer.files;if(o&&!r.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var s=t.length,a=Array(s),l=0,i=function(e,i){if(!r.options.allowDropFileTypes||-1!=Ir(r.options.allowDropFileTypes,e.type)){var n=new FileReader;n.onload=Nt(r,function(){var e=n.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[i]=e,++l==s){var t={from:o=me(r.doc,o),to:o,text:r.doc.splitLines(a.join(r.doc.lineSeparator())),origin:"paste"};Si(r.doc,t),Se(r.doc,fe(o,Jo(t)))}}),n.readAsText(e)}},n=0;n<s;++n)i(t[n],n);else{if(r.state.draggingText&&-1<r.doc.sel.contains(o))return r.state.draggingText(e),void setTimeout(function(){r.display.input.focus()},20);try{if(a=e.dataTransfer.getData("Text")){if(r.state.draggingText&&!r.state.draggingText.copy)var c=r.listSelections();if(De(r.doc,fe(o,o)),c)for(n=0;n<c.length;++n)Ei(r.doc,"",c[n].anchor,c[n].head,"drag");r.replaceSelection(a,"around","paste"),r.display.input.focus()}}catch(e){}}}}function ei(e,t){if(bo&&(!e.state.draggingText||+new Date-Ko<100))Ls(t);else if(!Tr(e,t)&&!$t(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!So)){var i=Br("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Co&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),Co&&i.parentNode.removeChild(i)}}function ti(e,t){var i=Yt(e,t);if(i){var n=document.createDocumentFragment();ze(e,i,n),e.display.dragCursor||(e.display.dragCursor=Br("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Ur(e.display.dragCursor,n)}}function ii(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ni(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,go||L(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),go&&L(e),je(e,100))}function ri(e,t,i){(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function oi(e,t){var i=Vo(t),n=i.x,r=i.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(n&&a||r&&l){if(r&&No&&_o)e:for(var c=t.target,u=o.view;c!=s;c=c.parentNode)for(var h=0;h<u.length;h++)if(u[h].node==c){e.display.currentWheelTarget=c;break e}if(n&&!go&&!Co&&null!=Go)return r&&l&&ni(e,Math.max(0,Math.min(s.scrollTop+r*Go,s.scrollHeight-s.clientHeight))),ri(e,Math.max(0,Math.min(s.scrollLeft+n*Go,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ds(t),void(o.wheelStartX=null);if(r&&null!=Go){var d=r*Go,f=e.doc.scrollTop,p=f+o.wrapper.clientHeight;d<0?f=Math.max(0,f+d-50):p=Math.min(e.doc.height,p+d+50),L(e,{top:f,bottom:p})}Xo<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,i=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(Go=(Go*Xo+i)/(Xo+1),++Xo)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}function si(e,t,i){if("string"==typeof t&&!(t=us[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=zs}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}function ai(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=ds(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&ds(t,e.options.extraKeys,i,e)||ds(t,e.options.keyMap,i,e)}function li(e,t,i,n){var r=e.state.keySeq;if(r){if(fs(t))return"handled";Qo.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=ai(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Cr(e,"keyHandled",e,t,i),"handled"!=o&&"multi"!=o||(Ds(i),He(e)),r&&!o&&/\'$/.test(t)?(Ds(i),!0):!!o}function ci(t,e){var i=ps(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?li(t,"Shift-"+i,e,function(e){return si(t,e,!0)})||li(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return si(t,e)}):li(t,i,e,function(e){return si(t,e)}))}function ui(t,e,i){return li(t,"'"+i+"'",e,function(e){return si(t,e,!0)})}function hi(e){var t=this;if(t.curOp.focus=$r(),!Tr(t,e)){bo&&wo<11&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=ci(t,e);Co&&(Zo=n?i:null,!n&&88==i&&!oa&&(No?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||di(t)}}function di(e){function t(e){18!=e.keyCode&&e.altKey||(Js(i,"CodeMirror-crosshair"),As(document,"keyup",t),As(document,"mouseover",t))}var i=e.display.lineDiv;ea(i,"CodeMirror-crosshair"),Ns(document,"keyup",t),Ns(document,"mouseover",t)}function fi(e){16==e.keyCode&&(this.doc.sel.shift=!1),Tr(this,e)}function pi(e){var t=this;if(!($t(t.display,e)||Tr(t,e)||e.ctrlKey&&!e.altKey||No&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(Co&&i==Zo)return Zo=null,void Ds(e);if(!Co||e.which&&!(e.which<10)||!ci(t,e))ui(t,e,String.fromCharCode(null==n?i:n))||t.display.input.onKeyPress(e)}}function mi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vi(e))},100)}function gi(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Is(e,"focus",e),e.state.focused=!0,ea(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),_o&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),He(e))}function vi(e){e.state.delayingBlurEvent||(e.state.focused&&(Is(e,"blur",e),e.state.focused=!1,Js(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yi(e,t){$t(e.display,t)||bi(e,t)||Tr(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function bi(e,t){return!!Mr(e,"gutterContextMenu")&&Qt(e,t,"gutterContextMenu",!1)}function wi(e,t){if(jo(e,t.from)<0)return e;if(jo(e,t.to)<=0)return Jo(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Jo(t).ch-t.to.ch),Ho(i,n)}function _i(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new he(wi(r.anchor,t),wi(r.head,t)))}return de(i,e.sel.primIndex)}function xi(e,t,i){return e.line==t.line?Ho(i.line,e.ch-t.ch+i.ch):Ho(i.line+(e.line-t.line),e.ch)}function ki(e,t,i){for(var n=[],r=Ho(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=xi(a.from,r,o),c=xi(Jo(a),r,o);if(r=a.to,o=c,"around"==i){var u=e.sel.ranges[s],h=jo(u.head,u.anchor)<0;n[s]=new he(h?c:l,h?l:c)}else n[s]=new he(l,l)}return new ue(n,e.sel.primIndex)}function Ci(r,e,t){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return t&&(i.update=function(e,t,i,n){e&&(this.from=me(r,e)),t&&(this.to=me(r,t)),i&&(this.text=i),n!==undefined&&(this.origin=n)}),Is(r,"beforeChange",r,i),r.cm&&Is(r.cm,"beforeChange",r.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Si(e,t,i){if(e.cm){if(!e.cm.curOp)return Nt(e.cm,Si)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Mr(e,"beforeChange")||e.cm&&Mr(e.cm,"beforeChange"))||(t=Ci(e,t,!0))){var n=zo&&!i&&ln(e,t.from,t.to);if(n)for(var r=n.length-1;0<=r;--r)Ti(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text});else Ti(e,t)}}function Ti(e,i){if(1!=i.text.length||""!=i.text[0]||0!=jo(i.from,i.to)){var t=_i(e,i);cr(e,i,t,e.cm?e.cm.curOp.id:NaN),Li(e,i,t,on(e,i));var n=[];Gn(e,function(e,t){t||-1!=Ir(n,e.history)||(br(e.history,i),n.push(e.history)),Li(e,i,null,on(e,i))})}}function Di(e,t,i){if(!e.cm||!e.cm.state.suppressEdits){for(var n,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(n=s[l],i?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;(n=s.pop()).ranges;){if(dr(n,a),i&&!n.equals(e.sel))return void Te(e,n,{clearRedo:!1});o=n}var c=[];dr(o,a),a.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;var u=Mr(e,"beforeChange")||e.cm&&Mr(e.cm,"beforeChange");for(l=n.changes.length-1;0<=l;--l){var h=n.changes[l];if(h.origin=t,u&&!Ci(e,h,!1))return void(s.length=0);c.push(sr(e,h));var d=l?_i(e,h):Ar(s);Li(e,h,d,an(e,h)),!l&&e.cm&&e.cm.scrollIntoView({from:h.from,to:Jo(h)});var f=[];Gn(e,function(e,t){t||-1!=Ir(f,e.history)||(br(e.history,h),f.push(e.history)),Li(e,h,null,an(e,h))})}}}}function Mi(e,t){if(0!=t&&(e.first+=t,e.sel=new ue(Fr(e.sel.ranges,function(e){return new he(Ho(e.anchor.line+t,e.anchor.ch),Ho(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Ot(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)zt(e.cm,n,"gutter")}}function Li(e,t,i,n){if(e.cm&&!e.cm.curOp)return Nt(e.cm,Li)(e,t,i,n);if(t.to.line<e.first)Mi(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Mi(e,r),t={from:Ho(e.first,0),to:Ho(t.to.line+r,t.to.ch),text:[Ar(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Ho(o,Qn(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zn(e,t.from,t.to),i||(i=_i(e,t)),e.cm?Ni(e.cm,t,n):Yn(e,t,n),De(e,i,Ps)}}function Ni(e,t,i){var n=e.doc,r=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=tr(yn(Qn(n,o.line))),n.iter(l,s.line+1,function(e){if(e==r.maxLine)return a=!0})),-1<n.sel.contains(t.from,t.to)&&Dr(e),Yn(n,t,i,f(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,function(e){var t=p(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),je(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Ot(e):o.line!=s.line||1!=t.text.length||$n(e.doc,t)?Ot(e,o.line,s.line+1,c):zt(e,o.line,"text");var u=Mr(e,"changes"),h=Mr(e,"change");if(h||u){var d={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&Cr(e,"change",e,d),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Ei(e,t,i,n,r){if(n||(n=i),jo(n,i)<0){var o=n;n=i,i=o}"string"==typeof t&&(t=e.splitLines(t)),Si(e,{from:i,to:n,text:t,origin:r})}function Ai(e,t){if(!Tr(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),r=null;if(t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Do){var o=Br("div","\u200b",null,"position: absolute; top: "+(t.top-i.viewOffset-qe(e.display))+"px; height: "+(t.bottom-t.top+Ye(e)+i.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}function Ii(e,t,i,n){null==n&&(n=0);for(var r=0;r<5;r++){var o=!1,s=ft(e,t),a=i&&i!=t?ft(e,i):s,l=Oi(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-n,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+n),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(ni(e,l.scrollTop),1<Math.abs(e.doc.scrollTop-c)&&(o=!0)),null!=l.scrollLeft&&(ri(e,l.scrollLeft),1<Math.abs(e.doc.scrollLeft-u)&&(o=!0)),!o)break}return s}function Fi(e,t,i,n,r){var o=Oi(e,t,i,n,r);null!=o.scrollTop&&ni(e,o.scrollTop),null!=o.scrollLeft&&ri(e,o.scrollLeft)}function Oi(e,t,i,n,r){var o=e.display,s=yt(e.display);i<0&&(i=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Xe(e),c={};l<r-i&&(r=i+l);var u=e.doc.height+Ue(o),h=i<s,d=u-s<r;if(i<a)c.scrollTop=h?0:i;else if(a+l<r){var f=Math.min(i,(d?u:r)-l);f!=a&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Ke(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=m<n-t;return g&&(n=t+m),t<10?c.scrollLeft=0:t<p?c.scrollLeft=Math.max(0,t-(g?0:10)):m+p-3<n&&(c.scrollLeft=n+(g?0:10)-m),c}function zi(e,t,i){null==t&&null==i||Hi(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=i&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+i)}function Pi(e){Hi(e);var t=e.getCursor(),i=t,n=t;e.options.lineWrapping||(i=t.ch?Ho(t.line,t.ch-1):t,n=Ho(t.line,t.ch+1)),e.curOp.scrollToPos={from:i,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Hi(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=pt(e,t.from),n=pt(e,t.to),r=Oi(e,Math.min(i.left,n.left),Math.min(i.top,n.top)-t.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function ji(e,t,i,n){var r,o=e.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=Be(e,t):i="prev");var s=e.options.tabSize,a=Qn(o,t),l=Ws(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==zs||150<c)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>o.first?Ws(Qn(o,t-1).text,null,s):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(
var f=Math.floor(c/s);f;--f)d+=s,h+="\t";if(d<c&&(h+=Er(c-d)),h!=u)return Ei(o,h,Ho(t,0),Ho(t,u.length),"+input"),!(a.stateAfter=null);for(f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){xe(o,f,new he(d=Ho(t,u.length),d));break}}}function Wi(e,t,i,n){var r=t,o=t;return"number"==typeof t?o=Qn(e,pe(e,t)):r=tr(t),null==r?null:(n(o,r)&&e.cm&&zt(e.cm,r,i),o)}function Ri(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=e(i[r]);n.length&&jo(o.from,Ar(n).to)<=0;){var s=n.pop();if(jo(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Lt(t,function(){for(var e=n.length-1;0<=e;e--)Ei(t.doc,"",n[e].from,n[e].to,"+delete");Pi(t)})}function Bi(t,e,i,n,r){function o(){var e=a+i;return!(e<t.first||e>=t.first+t.size)&&(u=Qn(t,a=e))}function s(e){var t=(r?ho:fo)(u,l,i,!0);if(null==t){if(e||!o())return!1;l=r?(i<0?ro:no)(u):i<0?u.text.length:0}else l=t;return!0}var a=e.line,l=e.ch,c=i,u=Qn(t,a);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,f=t.cm&&t.cm.getHelper(e,"wordChars"),p=!0;!(i<0)||s(!p);p=!1){var m=u.text.charAt(l)||"\n",g=jr(m,f)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||p||g||(g="s"),h&&h!=g){i<0&&(i=1,s());break}if(g&&(h=g),0<i&&!s(!p))break}var v=Ae(t,Ho(a,l),e,c,!0);return jo(e,v)||(v.hitSide=!0),v}function qi(e,t,i,n){var r,o=e.doc,s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+i*(a-(i<0?1.5:.5)*yt(e.display))}else"line"==n&&(r=0<i?t.bottom+3:t.top-3);for(;;){var l=gt(e,s,r);if(!l.outside)break;if(i<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*i}return l}function Ui(e,t,n,i){c.defaults[e]=t,n&&(ts[e]=i?function(e,t,i){i!=is&&n(e,t,i)}:n)}function $i(e){for(var t,i,n,r,o=e.split(/-(?!$)/),s=(e=o[o.length-1],0);s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Yi(e){return"string"==typeof e?hs[e]:e}function Ki(t,i,n,e,r){if(e&&e.shared)return Xi(t,i,n,e,r);if(t.cm&&!t.cm.curOp)return Nt(t.cm,Ki)(t,i,n,e,r);var o=new vs(t,r),s=jo(i,n);if(e&&Pr(e,o,!1),0<s||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Br("span",[o.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vn(t,i.line,i,n,o)||i.line!=n.line&&vn(t,n.line,i,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Po=!0}o.addToHistory&&cr(t,{from:i,to:n,origin:"markText"},t.sel,NaN);var a,l=i.line,c=t.cm;if(t.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&yn(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=i.line&&er(e,0),tn(e,new Zi(o,l==i.line?i.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(i.line,n.line+1,function(e){xn(t,e)&&er(e,0)}),o.clearOnEnter&&Ns(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(zo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++gs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Ot(c,i.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=i.line;u<=n.line;u++)zt(c,u,"text");o.atomic&&Le(c.doc),Cr(c,"markerAdded",c,o)}return o}function Xi(e,i,n,r,o){(r=Pr(r)).shared=!1;var s=[Ki(e,i,n,r,o)],a=s[0],l=r.widgetNode;return Gn(e,function(e){l&&(r.widgetNode=l.cloneNode(!0)),s.push(Ki(e,me(e,i),me(e,n),r,o));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;a=Ar(s)}),new ys(s,a)}function Gi(e){return e.findMarks(Ho(e.first,0),e.clipPos(Ho(e.lastLine())),function(e){return e.parent})}function Vi(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(jo(o,s)){var a=Ki(e,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Qi(e){for(var t=0;t<e.length;t++){var i=e[t],n=[i.primary.doc];Gn(i.primary.doc,function(e){n.push(e)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];-1==Ir(n,o.doc)&&(o.parent=null,i.markers.splice(r--,1))}}}function Zi(e,t,i){this.marker=e,this.from=t,this.to=i}function Ji(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function en(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function tn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function nn(e,t,i){if(e)for(var n,r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Zi(s,o.from,a?null:o.to))}}return n}function rn(e,t,i){if(e)for(var n,r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Zi(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function on(e,t){if(t.full)return null;var i=ve(e,t.from.line)&&Qn(e,t.from.line).markedSpans,n=ve(e,t.to.line)&&Qn(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,o=t.to.ch,s=0==jo(t.from,t.to),a=nn(i,r,s),l=rn(n,o,s),c=1==t.text.length,u=Ar(t.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){if(null==(d=a[h]).to)(f=Ji(l,d.marker))?c&&(d.to=null==f.to?null:f.to+u):d.to=r}if(l)for(h=0;h<l.length;++h){var d,f;if(null!=(d=l[h]).to&&(d.to+=u),null==d.from)(f=Ji(a,d.marker))||(d.from=u,c&&(a||(a=[])).push(d));else d.from+=u,c&&(a||(a=[])).push(d)}a&&(a=sn(a)),l&&l!=a&&(l=sn(l));var p=[a];if(!c){var m,g=t.text.length-2;if(0<g&&a)for(h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push(new Zi(a[h].marker,null,null));for(h=0;h<g;++h)p.push(m);p.push(l)}return p}function sn(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function an(e,t){var i=mr(e,t),n=on(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(i[r]=s)}return i}function ln(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=Ir(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(jo(c.to,a.from)<0||0<jo(c.from,a.to))){var u=[l,1],h=jo(c.from,a.from),d=jo(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(0<d||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function cn(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function un(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function hn(e){return e.inclusiveLeft?-1:0}function dn(e){return e.inclusiveRight?1:0}function fn(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),o=jo(n.from,r.from)||hn(e)-hn(t);if(o)return-o;var s=jo(n.to,r.to)||dn(e)-dn(t);return s||t.id-e.id}function pn(e,t){var i,n=Po&&e.markedSpans;if(n)for(var r,o=0;o<n.length;++o)(r=n[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!i||fn(i,r.marker)<0)&&(i=r.marker);return i}function mn(e){return pn(e,!0)}function gn(e){return pn(e,!1)}function vn(e,t,i,n,r){var o=Qn(e,t),s=Po&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=jo(c.from,i)||hn(l.marker)-hn(r),h=jo(c.to,n)||dn(l.marker)-dn(r);if(!(0<=u&&h<=0||u<=0&&0<=h)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?0<=jo(c.to,i):0<jo(c.to,i))||0<=u&&(l.marker.inclusiveRight&&r.inclusiveLeft?jo(c.from,n)<=0:jo(c.from,n)<0)))return!0}}}function yn(e){for(var t;t=mn(e);)e=t.find(-1,!0).line;return e}function bn(e){for(var t,i;t=gn(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function wn(e,t){var i=Qn(e,t),n=yn(i);return i==n?t:tr(n)}function _n(e,t){if(t>e.lastLine())return t;var i,n=Qn(e,t);if(!xn(e,n))return t;for(;i=gn(n);)n=i.find(1,!0).line;return tr(n)+1}function xn(e,t){var i=Po&&t.markedSpans;if(i)for(var n,r=0;r<i.length;++r)if((n=i[r]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&kn(e,t,n))return!0}}function kn(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return kn(e,n.line,Ji(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&kn(e,t,r))return!0}function Cn(e,t,i){nr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&zi(e,null,i)}function Sn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Xs(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),Ur(t.display.measure,Br("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Tn(n,e,t,i){var r=new bs(n,t,i),o=n.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Wi(n,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(null==r.insertAt?t.push(r):t.splice(Math.min(t.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!xn(n,e)){var i=nr(e)<n.scrollTop;er(e,e.height+Sn(r)),i&&zi(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Dn(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),cn(e),un(e,i);var r=n?n(e):1;r!=e.height&&er(e,r)}function Mn(e){e.parent=null,cn(e)}function Ln(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function Nn(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=c.innerMode(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function En(e,t,i,n){for(var r=0;r<10;r++){n&&(n[0]=c.innerMode(e,i).mode);var o=e.token(t,i);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function An(e,t,i,n){function r(e){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:e?ls(s.mode,u):u}}var o,s=e.doc,a=s.mode;t=me(s,t);var l,c=Qn(s,t.line),u=Be(e,t.line,i),h=new ms(c.text,e.options.tabSize);for(n&&(l=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=En(a,h,u),n&&l.push(r(!0));return n?l:r()}function In(e,t,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,h=new ms(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&Ln(Nn(i,n),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&zn(e,t,n,h.pos),h.pos=t.length,l=null):l=Ln(En(i,h,n,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<h.start;)r(c=Math.min(h.start,c+5e4),u);u=l}h.start=h.pos}for(;c<h.pos;){var p=Math.min(h.pos,c+5e4);r(p,u),c=p}}function Fn(e,t,i,n){var o=[e.state.modeGen],r={};In(e,t.text,e.doc.mode,i,function(e,t){o.push(e,t)},r,n);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,c=0;In(e,t.text,a.mode,!0,function(e,t){for(var i=l;c<e;){var n=o[l];e<n&&o.splice(l,1,e,o[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(a.opaque)o.splice(i,l-i,e,"cm-overlay "+t),l=i+2;else for(;i<l;i+=2){var r=o[i+1];o[i+1]=(r?r+" ":"")+"cm-overlay "+t}},r)}return{styles:o,classes:r.bgClass||r.textClass?r:null}}function On(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Be(e,tr(t)),r=Fn(e,t,t.text.length>e.options.maxHighlightLength?ls(e.doc.mode,n):n);t.stateAfter=n,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.frontier&&e.doc.frontier++}return t.styles}function zn(e,t,i,n){var r=e.doc.mode,o=new ms(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&Nn(r,i);!o.eol();)En(r,o,i),o.start=o.pos}function Pn(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?xs:_s;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Hn(e,t){var i=Br("span",null,null,_o?"padding-right: .1px":null),n={pre:Br("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,splitSpaces:(bo||_o)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;n.pos=0,n.addToken=Wn,Zr(e.display.measure)&&(o=rr(s))&&(n.addToken=Bn(n.addToken,o)),n.map=[],Un(s,n,On(e,s,t!=e.display.externalMeasured&&tr(s))),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=Kr(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=Kr(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Qr(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(_o){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Is(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Kr(n.pre.className,n.textClass||"")),n}function jn(e){var t=Br("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Wn(e,t,i,n,r,o,s){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,Rn):t,l=e.cm.state.specialChars,c=!1;if(l.test(t)){g=document.createDocumentFragment();for(var u=0;;){l.lastIndex=u;var h=l.exec(t),d=h?h.index-u:t.length-u;if(d){var f=document.createTextNode(a.slice(u,u+d));bo&&wo<9?g.appendChild(Br("span",[f])):g.appendChild(f),e.map.push(e.pos,e.pos+d,f),e.col+=d,e.pos+=d}if(!h)break;if(u+=d+1,"\t"==h[0]){var p=e.cm.options.tabSize,m=p-e.col%p;(f=g.appendChild(Br("span",Er(m),"cm-tab"))).setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),e.col+=m}else if("\r"==h[0]||"\n"==h[0]){(f=g.appendChild(Br("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1}else{(f=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),bo&&wo<9?g.appendChild(Br("span",[f])):g.appendChild(f),e.col+=1}e.map.push(e.pos,e.pos+1,f),e.pos++}}else{e.col+=t.length;var g=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,g),bo&&wo<9&&(c=!0),e.pos+=t.length}if(i||n||r||c||s){var v=i||"";n&&(v+=n),r&&(v+=r);var y=Br("span",[g],v,s);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(g)}}function Rn(e){for(var t=" ",i=0;i<e.length-2;++i)t+=i%2?" ":"\xa0";return t+=" "}function Bn(h,d){return function(e,t,i,n,r,o,s){i=i?i+" cm-force-border":"cm-force-border";for(var a=e.pos,l=a+t.length;;){for(var c=0;c<d.length;c++){var u=d[c];if(u.to>a&&u.from<=a)break}if(u.to>=l)return h(e,t,i,n,r,o,s);h(e,t.slice(0,u.to-a),i,n,null,o,s),n=null,t=t.slice(u.to-a),a=u.to}}}function qn(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function Un(e,t,i){var n=e.markedSpans,r=e.text,o=0;if(n)for(var s,a,l,c,u,h,d,f=r.length,p=0,m=(S=1,""),g=0;;){if(g==p){l=c=u=h=a="",d=null,g=Infinity;for(var v,y=[],b=0;b<n.length;++b){var w=n[b],_=w.marker;"bookmark"==_.type&&w.from==p&&_.widgetNode?y.push(_):w.from<=p&&(null==w.to||w.to>p||_.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&g>w.to&&(g=w.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&w.from==p&&(u+=" "+_.startStyle),_.endStyle&&w.to==g&&(v||(v=[])).push(_.endStyle,w.to),_.title&&!h&&(h=_.title),_.collapsed&&(!d||fn(d.marker,_)<0)&&(d=w)):w.from>p&&g>w.from&&(g=w.from)}if(v)for(b=0;b<v.length;b+=2)v[b+1]==g&&(c+=" "+v[b]);if(!d||d.from==p)for(b=0;b<y.length;++b)qn(t,0,y[b]);if(d&&(d.from||0)==p){if(qn(t,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(f<=p)break;for(var x=Math.min(f,g);;){if(m){var k=p+m.length;if(!d){var C=x<k?m.slice(0,x-p):m;t.addToken(t,C,s?s+l:l,u,p+C.length==g?c:"",h,a)}if(x<=k){m=m.slice(x-p),p=x;break}p=k,u=""}m=r.slice(o,o=i[S++]),s=Pn(i[S++],t.cm.options)}}else for(var S=1;S<i.length;S+=2)t.addToken(t,r.slice(o,o=i[S]),Pn(i[S+1],t.cm.options))}function $n(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Ar(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Yn(e,n,t,r){function o(e){return t?t[e]:null}function i(e,t,i){Dn(e,t,i,r),Cr(e,"change",e,n)}function s(e,t){for(var i=e,n=[];i<t;++i)n.push(new ws(c[i],o(i),r));return n}var a=n.from,l=n.to,c=n.text,u=Qn(e,a.line),h=Qn(e,l.line),d=Ar(c),f=o(c.length-1),p=l.line-a.line;if(n.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if($n(e,n)){var m=s(0,c.length-1);i(h,h.text,f),p&&e.remove(a.line,p),m.length&&e.insert(a.line,m)}else if(u==h){if(1==c.length)i(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),f);else(m=s(1,c.length-1)).push(new ws(d+u.text.slice(l.ch),f,r)),i(u,u.text.slice(0,a.ch)+c[0],o(0)),e.insert(a.line+1,m)}else if(1==c.length)i(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),o(0)),e.remove(a.line+1,p);else{i(u,u.text.slice(0,a.ch)+c[0],o(0)),i(h,d+h.text.slice(l.ch),f);m=s(1,c.length-1);1<p&&e.remove(a.line+1,p-1),e.insert(a.line+1,m)}Cr(e,"change",e,n)}function Kn(e){this.lines=e,this.parent=null;for(var t=0,i=0;t<e.length;++t)e[t].parent=this,i+=e[t].height;this.height=i}function Xn(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}function Gn(e,s,a){function l(e,t,i){if(e.linked)for(var n=0;n<e.linked.length;++n){var r=e.linked[n];if(r.doc!=t){var o=i&&r.sharedHist;a&&!o||(s(r.doc,o),l(r.doc,e,o))}}}l(e,null,!0)}function Vn(e,t){if(t.cm)throw new Error("This document is already in use.");n((e.doc=t).cm=e),i(e),e.options.lineWrapping||o(e),e.options.mode=t.modeOption,Ot(e)}function Qn(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(t<o){i=r;break}t-=o}return i.lines[t]}function Zn(e,i,n){var r=[],o=i.line;return e.iter(i.line,n.line+1,function(e){var t=e.text;o==n.line&&(t=t.slice(0,n.ch)),o==i.line&&(t=t.slice(i.ch)),r.push(t),++o}),r}function Jn(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function er(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function tr(e){if(null==e.parent)return null;for(var t=e.parent,i=Ir(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function ir(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],o=r.height;if(t<o){e=r;continue e}t-=o,i+=r.chunkSize()}return i}while(!e.lines);for(n=0;n<e.lines.length;++n){var s=e.lines[n].height;if(t<s)break;t-=s}return i+n}function nr(e){for(var t=0,i=(e=yn(e)).parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var o=i.parent;o;o=(i=o).parent)for(n=0;n<o.children.length;++n){var s=o.children[n];if(s==i)break;t+=s.height}return t}function rr(e){var t=e.order;return null==t&&(t=e.order=la(e.text)),t}function or(e){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function sr(e,t){var i={from:K(t.from),to:Jo(t),text:Zn(e,t.from,t.to)};return fr(e,i,t.from.line,t.to.line+1),Gn(e,function(e){fr(e,i,t.from.line,t.to.line+1)},!0),i}function ar(e){for(;e.length;){if(!Ar(e).ranges)break;e.pop()}}function lr(e,t){return t?(ar(e.done),Ar(e.done)):e.done.length&&!Ar(e.done).ranges?Ar(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),Ar(e.done)):void 0}function cr(e,t,i,n){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=lr(r,r.lastOp==n))){var a=Ar(o.changes);0==jo(t.from,t.to)&&0==jo(t.from,a.to)?a.to=Jo(t):o.changes.push(sr(e,t))}else{var l=Ar(r.done);for(l&&l.ranges||dr(e.sel,r.done),o={changes:[sr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,a||Is(e,"historyAdded")}function ur(e,t,i,n){var r=t.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function hr(e,t,i,n){var r=e.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||ur(e,o,Ar(r.done),t))?r.done[r.done.length-1]=t:dr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&!1!==n.clearRedo&&ar(r.undone)}function dr(e,t){var i=Ar(t);i&&i.ranges&&i.equals(e)||t.push(e)}function fr(t,i,e,n){var r=i["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,n),function(e){e.markedSpans&&((r||(r=i["spans_"+t.id]={}))[o]=e.markedSpans),++o})}function pr(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function mr(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=0,r=[];n<t.text.length;++n)r.push(pr(i[n]));return r}function gr(e,t,i){for(var n=0,r=[];n<e.length;++n){var o=e[n];if(o.ranges)r.push(i?ue.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&-1<Ir(t,Number(c[1]))&&(Ar(a)[h]=u[h],delete u[h])}}}return r}function vr(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function yr(e,t,i,n){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)vr(o.ranges[a].anchor,t,i,n),vr(o.ranges[a].head,t,i,n)}else{for(a=0;a<o.changes.length;++a){var l=o.changes[a];if(i<l.from.line)l.from=Ho(l.from.line+n,l.from.ch),l.to=Ho(l.to.line+n,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function br(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;yr(e.done,i,n,r),yr(e.undone,i,n,r)}function wr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function _r(e){return e.target||e.srcElement}function xr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),No&&e.ctrlKey&&1==t&&(t=3),t}function kr(e,t,i){var n=e._handlers&&e._handlers[t];return i?n&&0<n.length?n.slice():Es:n||Es}function Cr(e,t){function i(e){return function(){e.apply(null,o)}}var n=kr(e,t,!1);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);$o?r=$o.delayedCallbacks:Fs?r=Fs:(r=Fs=[],setTimeout(Sr,0));for(var s=0;s<n.length;++s)r.push(i(n[s]))}}function Sr(){var e=Fs;Fs=null;for(var t=0;t<e.length;++t)e[t]()}function Tr(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Is(e,i||t.type,e,t),wr(t)||t.codemirrorIgnore}function Dr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==Ir(i,t[n])&&i.push(t[n])}function Mr(e,t){return 0<kr(e,t).length}function Lr(e){e.prototype.on=function(e,t){Ns(this,e,t)},e.prototype.off=function(e,t){As(this,e,t)}}function Nr(){this.id=null}function Er(e){for(;Bs.length<=e;)Bs.push(Ar(Bs)+" ");return Bs[e]}function Ar(e){return e[e.length-1]}function Ir(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function Fr(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function Or(){}function zr(e,t){var i;return Object.create?i=Object.create(e):(Or.prototype=e,i=new Or),t&&Pr(t,i),i}function Pr(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Hr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function jr(e,t){return t?!!(-1<t.source.indexOf("\\w")&&Ys(e))||t.test(e):Ys(e)}function Wr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Rr(e){return 768<=e.charCodeAt(0)&&Ks.test(e)}function Br(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function qr(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function Ur(e,t){return qr(e).appendChild(t)}function $r(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Yr(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Kr(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!Yr(i[n]).test(t)&&(t+=" "+i[n]);return t}function Xr(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}function Gr(){ta||(Vr(),ta=!0)}function Vr(){var e;Ns(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Xr(Ut)},100))}),Ns(window,"blur",function(){Xr(vi)})}function Qr(e){if(null==Gs){var t=Br("span","\u200b");Ur(e,Br("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Gs=t.offsetWidth<=1&&2<t.offsetHeight&&!(bo&&wo<8))}var i=Gs?Br("span","\u200b"):Br("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Zr(e){if(null!=Vs)return Vs;var t=Ur(e,document.createTextNode("A\u062eA")),i=Us(t,0,1).getBoundingClientRect();if(!i||i.left==i.right)return!1;var n=Us(t,1,2).getBoundingClientRect();return Vs=n.right-i.right<3}function Jr(e){if(null!=sa)return sa;var t=Ur(e,Br("span","x")),i=t.getBoundingClientRect(),n=Us(t,0,1).getBoundingClientRect();return sa=1<Math.abs(i.left-n.left)}function eo(e,t,i,n){if(!e)return n(t,i,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr"),r=!0)}r||n(t,i,"ltr")}function to(e){return e.level%2?e.to:e.from}function io(e){return e.level%2?e.from:e.to}function no(e){var t=rr(e);return t?to(t[0]):0}function ro(e){var t=rr(e);return t?io(Ar(t)):e.text.length}function oo(e,t){var i=Qn(e.doc,t),n=yn(i);n!=i&&(t=tr(n));var r=rr(n),o=r?r[0].level%2?ro(n):no(n):0;return Ho(t,o)}function so(e,t){for(var i,n=Qn(e.doc,t);i=gn(n);)n=i.find(1,!0).line,t=null;var r=rr(n),o=r?r[0].level%2?no(n):ro(n):n.text.length;return Ho(null==t?tr(n):t,o)}function ao(e,t){var i=oo(e,t.line),n=Qn(e.doc,i.line),r=rr(n);if(r&&0!=r[0].level)return i;var o=Math.max(0,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=o&&t.ch;return Ho(i.line,s?0:o)}function lo(e,t,i){var n=e[0].level;return t==n||i!=n&&t<i}function co(e,t){Zs=null;for(var i,n=0;n<e.length;++n){var r=e[n];if(r.from<t&&r.to>t)return n;if(r.from==t||r.to==t){if(null!=i)return lo(e,r.level,e[i].level)?(r.from!=r.to&&(Zs=i),n):(r.from!=r.to&&(Zs=n),i);i=n}}return i}function uo(e,t,i,n){if(!n)return t+i;for(;0<(t+=i)&&Rr(e.text.charAt(t)););return t}function ho(e,t,i,n){var r=rr(e);if(!r)return fo(e,t,i,n);for(var o=co(r,t),s=r[o],a=uo(e,t,s.level%2?-i:i,n);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return co(r,a)==o?a:0<i==(s=r[o+=i]).level%2?s.to:s.from;if(!(s=r[o+=i]))return null;a=0<i==s.level%2?uo(e,s.to,-1,n):uo(e,s.from,1,n)}}function fo(e,t,i,n){var r=t+i;if(n)for(;0<r&&Rr(e.text.charAt(r));)r+=i;return r<0||r>e.text.length?null:r}var po=navigator.userAgent,mo=navigator.platform,go=/gecko\/\d/i.test(po),vo=/MSIE \d/.test(po),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),bo=vo||yo,wo=bo&&(vo?document.documentMode||6:yo[1]),_o=/WebKit\//.test(po),xo=_o&&/Qt\/\d+\.\d+/.test(po),ko=/Chrome\//.test(po),Co=/Opera\//.test(po),So=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),Do=/PhantomJS/.test(po),Mo=/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Lo=Mo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),No=Mo||/Mac/.test(mo),Eo=/\bCrOS\b/.test(po),Ao=/win/i.test(mo),Io=Co&&po.match(/Version\/(\d*\.\d*)/);Io&&(Io=Number(Io[1])),Io&&15<=Io&&(_o=!(Co=!1));var Fo=No&&(xo||Co&&(null==Io||Io<12.11)),Oo=go||bo&&9<=wo,zo=!1,Po=!1;m.prototype=Pr({update:function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var r=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<e.clientHeight&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=No&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Nr,this.disableVert=new Nr},enableZeroWidthBar:function(t,i){function n(){var e=t.getBoundingClientRect();document.elementFromPoint(e.left+1,e.bottom-1)!=t?t.style.pointerEvents="none":i.set(1e3,n)}t.style.pointerEvents="auto",i.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Pr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),c.scrollbarModel={"native":m,"null":g},S.prototype.signal=function(e,t){Mr(e,t)&&this.events.push(arguments)},S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Is.apply(null,this.events[e])};var Ho=c.Pos=function(e,t){if(!(this instanceof Ho))return new Ho(e,t);this.line=e,this.ch=t},jo=c.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Wo=null;ie.prototype=Pr({init:function(t){function e(e){if(!Tr(n,e)){if(n.somethingSelected())Wo={lineWise:!1,text:n.getSelections()},i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,o.value=Wo.text.join("\n"),qs(o));else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Wo={lineWise:!0,text:t.text},"cut"==e.type?n.setSelections(t.ranges,null,Ps):(i.prevInput="",o.value=t.text.join("\n"),qs(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var i=this,n=this.cm,r=this.wrapper=ne(),o=this.textarea=r.firstChild;t.wrapper.insertBefore(r,t.wrapper.firstChild),Mo&&(o.style.width="0px"),Ns(o,"input",function(){bo&&9<=wo&&i.hasSelection&&(i.hasSelection=null),i.poll()}),Ns(o,"paste",function(e){Tr(n,e)||Z(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),Ns(o,"cut",e),Ns(o,"copy",e),Ns(t.scroller,"paste",function(e){$t(t,e)||Tr(n,e)||(n.state.pasteIncoming=!0,i.focus())}),Ns(t.lineSpace,"selectstart",function(e){$t(t,e)||Ds(e)}),Ns(o,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Ns(o,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,i=e.doc,n=Oe(e);if(e.options.moveInputWithCursor){var r=ft(e,i.sel.primary().head,"div"),
o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},showSelection:function(e){var t=this.cm.display;Ur(t.cursorDiv,e.cursors),Ur(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,i,n=this.cm,r=n.doc;if(n.somethingSelected()){this.prevInput="";var o=r.sel.primary(),s=(t=oa&&(100<o.to().line-o.from().line||1e3<(i=n.getSelection()).length))?"-":i||n.getSelection();this.textarea.value=s,n.state.focused&&qs(this.textarea),bo&&9<=wo&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",bo&&9<=wo&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Lo||$r()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){i.poll()||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))}var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||ra(t)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==i&&!e.somethingSelected())return!1;if(bo&&9<=wo&&this.hasSelection===n||No&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=n.charCodeAt(0);if(8203!=r||i||(i="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(i.length,n.length);o<s&&i.charCodeAt(o)==n.charCodeAt(o);)++o;var a=this;return Lt(e,function(){Q(e,n.slice(o),i.length-o,null,a.composing?"*compose":null),1e3<n.length||-1<n.indexOf("\n")?t.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&9<=wo&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function i(){if(null!=s.selectionStart){var e=r.somethingSelected(),t="\u200b"+(e?s.value:"");s.value="\u21da",s.value=t,n.prevInput=e?"":"\u200b",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function t(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=u,s.style.cssText=c,bo&&wo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!bo||bo&&wo<9)&&i();var e=0,t=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&0<s.selectionEnd&&"\u200b"==n.prevInput?Nt(r,us.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(t,500):o.input.reset()};o.detectingSelectAll=setTimeout(t,200)}}var n=this,r=n.cm,o=r.display,s=n.textarea,a=Yt(r,e),l=o.scroller.scrollTop;if(a&&!Co){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&Nt(r,Te)(r.doc,fe(a),Ps);var c=s.style.cssText,u=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var h=n.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",_o)var d=window.scrollY;if(o.input.focus(),_o&&window.scrollTo(null,d),o.input.reset(),r.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),bo&&9<=wo&&i(),Oo){Ls(e);var f=function(){As(window,"mouseup",f),setTimeout(t,20)};Ns(window,"mouseup",f)}else setTimeout(t,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Or,needsContentAttribute:!1},ie.prototype),re.prototype=Pr({init:function(e){function t(e){if(!Tr(o,e)){if(o.somethingSelected())Wo={lineWise:!1,text:o.getSelections()},"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var t=ee(o);Wo={lineWise:!0,text:t.text},"cut"==e.type&&o.operation(function(){o.setSelections(t.ranges,0,Ps),o.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Mo)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Wo.text.join("\n"));else{var i=ne(),n=i.firstChild;o.display.lineSpace.insertBefore(i,o.display.lineSpace.firstChild),n.value=Wo.text.join("\n");var r=document.activeElement;qs(n),setTimeout(function(){o.display.lineSpace.removeChild(i),r.focus()},50)}}}var r=this,o=r.cm,i=r.div=e.lineDiv;te(i),Ns(i,"paste",function(e){Tr(o,e)||Z(e,o)}),Ns(i,"compositionstart",function(e){var t=e.data;if(r.composing={sel:o.doc.sel,data:t,startData:t},t){var i=o.doc.sel.primary(),n=o.getLine(i.head.line).indexOf(t,Math.max(0,i.head.ch-t.length));-1<n&&n<=i.head.ch&&(r.composing.sel=fe(Ho(i.head.line,n),Ho(i.head.line,n+t.length)))}}),Ns(i,"compositionupdate",function(e){r.composing.data=e.data}),Ns(i,"compositionend",function(e){var t=r.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||r.applyComposition(t),r.composing==t&&(r.composing=null)},50))}),Ns(i,"touchstart",function(){r.forceCompositionEnd()}),Ns(i,"input",function(){r.composing||!o.isReadOnly()&&r.pollContent()||Lt(r.cm,function(){Ot(o)})}),Ns(i,"copy",t),Ns(i,"cut",t)},prepareSelection:function(){var e=Oe(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),i=ae(this.cm,e.anchorNode,e.anchorOffset),n=ae(this.cm,e.focusNode,e.focusOffset);if(!i||i.bad||!n||n.bad||0!=jo(G(i,n),t.from())||0!=jo(X(i,n),t.to())){var r=oe(this.cm,t.from()),o=oe(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Us(r.node,r.offset,o.offset,o.node)}catch(h){}u&&(!go&&this.cm.state.focused?(e.collapse(r.node,r.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),a&&null==e.anchorNode?e.addRange(a):go&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Ur(this.cm.display.cursorDiv,e.cursors),Ur(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Xs(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Lt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var i=ae(t,e.anchorNode,e.anchorOffset),n=ae(t,e.focusNode,e.focusOffset);i&&n&&Lt(t,function(){Te(t.doc,fe(i,n),Ps),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e,t=this.cm,i=t.display,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(r.line<i.viewFrom||o.line>i.viewTo-1)return!1;if(r.line==i.viewFrom||0==(e=Ht(t,r.line)))var s=tr(i.view[0].line),a=i.view[0].node;else s=tr(i.view[e].line),a=i.view[e-1].node.nextSibling;var l=Ht(t,o.line);if(l==i.view.length-1)var c=i.viewTo-1,u=i.lineDiv.lastChild;else c=tr(i.view[l+1].line)-1,u=i.view[l+1].node.previousSibling;for(var h=t.doc.splitLines(ce(t,a,u,s,c)),d=Zn(t.doc,Ho(s,0),Ho(c,Qn(t.doc,c).text.length));1<h.length&&1<d.length;)if(Ar(h)==Ar(d))h.pop(),d.pop(),c--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),s++}for(var f=0,p=0,m=h[0],g=d[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var y=Ar(h),b=Ar(d),w=Math.min(y.length-(1==h.length?f:0),b.length-(1==d.length?f:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;h[h.length-1]=y.slice(0,y.length-p),h[0]=h[0].slice(f);var _=Ho(s,f),x=Ho(c,d.length?Ar(d).length-p:0);return 1<h.length||h[0]||jo(_,x)?(Ei(t.doc,h,_,x,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Nt(this.cm,Ot)(this.cm):e.data&&e.data!=e.startData&&Nt(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Nt(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Or,resetPosition:Or,needsContentAttribute:!0},re.prototype),c.inputStyles={textarea:ie,contenteditable:re},ue.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(0!=jo(i.anchor,n.anchor)||0!=jo(i.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(K(this.ranges[t].anchor),K(this.ranges[t].head));return new ue(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(0<=jo(t,n.from())&&jo(e,n.to())<=0)return i}return-1}},he.prototype={from:function(){return G(this.anchor,this.head)},to:function(){return X(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ro,Bo,qo,Uo={left:0,right:0,top:0,bottom:0},$o=null,Yo=0,Ko=0,Xo=0,Go=null;bo?Go=-.53:go?Go=15:ko?Go=-.7:So&&(Go=-1/3);var Vo=function(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}};c.wheelEventPixels=function(e){var t=Vo(e);return t.x*=Go,t.y*=Go,t};var Qo=new Nr,Zo=null,Jo=c.changeEnd=function(e){return e.text?Ho(e.from.line+e.text.length-1,Ar(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};c.prototype={constructor:c,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];i[e]==t&&"mode"!=e||(i[e]=t,ts.hasOwnProperty(e)&&Nt(this,ts[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Yi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Et(function(e,t){var i=e.token?e:c.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,Ot(this)}),removeOverlay:Et(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Ot(this)}}),indentLine:Et(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&ji(this,e,t,i)}),indentSelection:Et(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&(ji(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&Pi(this));else{var o=r.from(),s=r.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)ji(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&0<c[n].from().ch&&xe(this.doc,n,new he(o,c[n].to()),Ps)}}}),getTokenAt:function(e,t){return An(this,e,t)},getLineTokens:function(e,t){return An(this,Ho(e),t,!0)},getTokenTypeAt:function(e){e=me(this.doc,e);var t,i=On(this,Qn(this.doc,e.line)),n=0,r=(i.length-1)/2,o=e.ch;if(0==o)t=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){t=i[2*s+2];break}n=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?c.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!as.hasOwnProperty(t))return i;var n=as[t],r=this.getModeAt(e);if("string"==typeof r[t])n[r[t]]&&i.push(n[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=n[r[t][o]];s&&i.push(s)}else r.helperType&&n[r.helperType]?i.push(n[r.helperType]):n[r.name]&&i.push(n[r.name]);for(o=0;o<n._global.length;o++){var a=n._global[o];a.pred(r,this)&&-1==Ir(i,a.val)&&i.push(a.val)}return i},getStateAfter:function(e,t){var i=this.doc;return Be(this,(e=pe(i,null==e?i.first+i.size-1:e))+1,t)},cursorCoords:function(e,t){var i=this.doc.sel.primary();return ft(this,null==e?i.head:"object"==typeof e?me(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return dt(this,me(this.doc,e),t||"page")},coordsChar:function(e,t){return gt(this,(e=ht(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=ht(this,{top:e,left:0},t||"page").top,ir(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var i,n=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:r<e&&(e=r,n=!0),i=Qn(this.doc,e)}else i=e;return ut(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-nr(i):0)},defaultTextHeight:function(){return yt(this.display)},defaultCharWidth:function(){return bt(this.display)},setGutterMarker:Et(function(e,i,n){return Wi(this.doc,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[i]=n)&&Wr(t)&&(e.gutterMarkers=null),!0})}),clearGutter:Et(function(t){var i=this,e=i.doc,n=e.first;e.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&(e.gutterMarkers[t]=null,zt(i,n,"gutter"),Wr(e.gutterMarkers)&&(e.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(!(e=Qn(this.doc,e)))return null}else{if(null==(t=tr(e)))return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var o=this.display,s=(e=ft(this,me(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)s=e.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),i&&Fi(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Et(hi),triggerOnKeyPress:Et(pi),triggerOnKeyUp:fi,execCommand:function(e){if(us.hasOwnProperty(e))return us[e].call(null,this)},triggerElectric:Et(function(e){J(this,e)}),findPosH:function(e,t,i,n){var r=1;t<0&&(r=-1,t=-t);for(var o=0,s=me(this.doc,e);o<t&&!(s=Bi(this.doc,s,r,i,n)).hitSide;++o);return s},moveH:Et(function(t,i){var n=this;n.extendSelectionsBy(function(e){return n.display.shift||n.doc.extend||e.empty()?Bi(n.doc,e.head,t,i,n.options.rtlMoveVisually):t<0?e.from():e.to()},js)}),deleteH:Et(function(i,n){var e=this.doc.sel,r=this.doc;e.somethingSelected()?r.replaceSelection("",null,"+delete"):Ri(this,function(e){var t=Bi(r,e.head,i,n,!1);return i<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,i,n){var r=1,o=n;t<0&&(r=-1,t=-t);for(var s=0,a=me(this.doc,e);s<t;++s){var l=ft(this,a,"div");if(null==o?o=l.left:l.left=o,(a=qi(this,l,r,i)).hitSide)break}return a},moveV:Et(function(n,r){var o=this,s=this.doc,a=[],l=!o.display.shift&&!s.extend&&s.sel.somethingSelected();if(s.extendSelectionsBy(function(e){if(l)return n<0?e.from():e.to();var t=ft(o,e.head,"div");null!=e.goalColumn&&(t.left=e.goalColumn),a.push(t.left);var i=qi(o,t,n,r);return"page"==r&&e==s.sel.primary()&&zi(o,null,dt(o,i,"div").top-t.top),i},js),a.length)for(var e=0;e<s.sel.ranges.length;e++)s.sel.ranges[e].goalColumn=a[e]}),findWordAt:function(e){var t=Qn(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var r=this.getHelper(e,"wordChars");(e.xRel<0||n==t.length)&&i?--i:++n;for(var o=t.charAt(i),s=jr(o,r)?function(e){return jr(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!jr(e)};0<i&&s(t.charAt(i-1));)--i;for(;n<t.length&&s(t.charAt(n));)++n}return new he(Ho(e.line,i),Ho(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ea(this.display.cursorDiv,"CodeMirror-overwrite"):Js(this.display.cursorDiv,"CodeMirror-overwrite"),Is(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==$r()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Et(function(e,t){null==e&&null==t||Hi(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ye(this)-this.display.barHeight,width:e.scrollWidth-Ye(this)-this.display.barWidth,clientHeight:Xe(this),clientWidth:Ke(this)}},scrollIntoView:Et(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Ho(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Hi(this),this.curOp.scrollToPos=e;else{var i=Oi(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Et(function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=i(e)),null!=t&&(n.display.wrapper.style.height=i(t)),n.options.lineWrapping&&st(this);var r=n.display.viewFrom;n.doc.iter(r,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){zt(n,r,"widget");break}++r}),n.curOp.forceUpdate=!0,Is(n,"refresh",this)}),operation:function(e){return Lt(this,e)},refresh:Et(function(){var e=this.display.cachedTextHeight;Ot(this),this.curOp.forceUpdate=!0,at(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),a(this),(null==e||.5<Math.abs(e-yt(this.display)))&&n(this),Is(this,"refresh",this)}),swapDoc:Et(function(e){var t=this.doc;return t.cm=null,Vn(this,e),at(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Cr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Lr(c);var es=c.defaults={},ts=c.optionHandlers={},is=c.Init={toString:function(){return"CodeMirror.Init"}};Ui("value","",function(e,t){e.setValue(t)},!0),Ui("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),Ui("indentUnit",2,i,!0),Ui("indentWithTabs",!1),Ui("smartIndent",!0),Ui("tabSize",4,function(e){t(e),at(e),Ot(e)},!0),Ui("lineSeparator",null,function(e,n){if(e.doc.lineSep=n){var r=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var i=e.text.indexOf(n,t);if(-1==i)break;t=i+n.length,r.push(Ho(o,i))}o++});for(var t=r.length-1;0<=t;t--)Ei(e.doc,n,r[t],Ho(r[t].line,r[t].ch+n.length))}}),Ui("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=c.Init&&e.refresh()}),Ui("specialCharPlaceholder",jn,function(e){e.refresh()},!0),Ui("electricChars",!0),Ui("inputStyle",Lo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Ui("rtlMoveVisually",!Ao),Ui("wholeLineUpdateBefore",!0),Ui("theme","default",function(e){u(e),r(e)},!0),Ui("keyMap","default",function(e,t,i){var n=Yi(t),r=i!=c.Init&&Yi(i);r&&r.detach&&r.detach(e,n),n.attach&&n.attach(e,r||null)}),Ui("extraKeys",null),Ui("lineWrapping",!1,e,!0),Ui("gutters",[],function(e){d(e.options),r(e)},!0),Ui("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?C(e.display)+"px":"0",e.refresh()},!0),Ui("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Ui("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Ui("lineNumbers",!1,function(e){d(e.options),r(e)},!0),Ui("firstLineNumber",1,r,!0),Ui("lineNumberFormatter",function(e){return e},r,!0),Ui("showCursorWhenSelecting",!1,Fe,!0),Ui("resetSelectionOnContextMenu",!0),Ui("lineWiseCopyCut",!0),Ui("readOnly",!1,function(e,t){"nocursor"==t?(vi(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Ui("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Ui("dragDrop",!0,qt),Ui("allowDropFileTypes",null),Ui("cursorBlinkRate",530),Ui("cursorScrollMargin",0),Ui("cursorHeight",1,Fe,!0),Ui("singleCursorHeightPerLine",!0,Fe,!0),Ui("workTime",100),Ui("workDelay",100),Ui("flattenSpans",!0,t,!0),Ui("addModeClass",!1,t,!0),Ui("pollInterval",100),Ui("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Ui("historyEventDelay",1250),Ui("viewportMargin",10,function(e){e.refresh()},!0),Ui("maxHighlightLength",1e4,t,!0),Ui("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Ui("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Ui("autofocus",null);var ns=c.modes={},rs=c.mimeModes={};c.defineMode=function(e,t){c.defaults.mode||"null"==e||(c.defaults.mode=e),2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ns[e]=t},c.defineMIME=function(e,t){rs[e]=t},c.resolveMode=function(e){if("string"==typeof e&&rs.hasOwnProperty(e))e=rs[e];else if(e&&"string"==typeof e.name&&rs.hasOwnProperty(e.name)){var t=rs[e.name];"string"==typeof t&&(t={name:t}),(e=zr(t,e)).name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return c.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},c.getMode=function(e,t){t=c.resolveMode(t);var i=ns[t.name];if(!i)return c.getMode(e,"text/plain");var n=i(e,t);if(os.hasOwnProperty(t.name)){var r=os[t.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n},c.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),c.defineMIME("text/plain","null");var os=c.modeExtensions={};c.extendMode=function(e,t){Pr(t,os.hasOwnProperty(e)?os[e]:os[e]={})},c.defineExtension=function(e,t){c.prototype[e]=t},c.defineDocExtension=function(e,t){Cs.prototype[e]=t},c.defineOption=Ui;var ss=[];c.defineInitHook=function(e){ss.push(e)};var as=c.helpers={};c.registerHelper=function(e,t,i){as.hasOwnProperty(e)||(as[e]=c[e]={_global:[]}),as[e][t]=i},c.registerGlobalHelper=function(e,t,i,n){c.registerHelper(e,t,n),as[e]._global.push({pred:i,val:n})};var ls=c.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i},cs=c.startState=function(e,t,i){return!e.startState||e.startState(t,i)};c.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);if(!i||i.mode==e)break;t=i.state,e=i.mode}return i||{mode:e,state:t}};var us=c.commands={selectAll:function(e){e.setSelection(Ho(e.firstLine(),0),Ho(e.lastLine()),Ps)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ps)},killLine:function(i){Ri(i,function(e){if(e.empty()){var t=Qn(i.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line<i.lastLine()?{from:e.head,to:Ho(e.head.line+1,0)}:{from:e.head,to:Ho(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){Ri(t,function(e){return{from:Ho(e.from().line,0),to:me(t.doc,Ho(e.to().line+1,0))}})},delLineLeft:function(e){Ri(e,function(e){return{from:Ho(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(i){Ri(i,function(e){var t=i.charCoords(e.head,"div").top+5;return{from:i.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(n){Ri(n,function(e){var t=n.charCoords(e.head,"div").top+5,i=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Ho(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Ho(e.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return oo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return ao(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return so(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){i.extendSelectionsBy(function(e){var t=i.charCoords(e.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:t},"div")},js)},goLineLeft:function(i){i.extendSelectionsBy(function(e){var t=i.charCoords(e.head,"div").top+5;return i.coordsChar({left:0,top:t},"div")},js)},goLineLeftSmart:function(n){n.extendSelectionsBy(function(e){var t=n.charCoords(e.head,"div").top+5,i=n.coordsChar({left:0,top:t},"div");return i.ch<n.getLine(i.line).search(/\S/)?ao(n,e.head):i},js)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=Ws(e.getLine(o.line),o.ch,n);t.push(Er(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(s){Lt(s,function(){for(var e=s.listSelections(),t=[],i=0;i<e.length;i++){var n=e[i].head,r=Qn(s.doc,n.line).text;if(r)if(n.ch==r.length&&(n=new Ho(n.line,n.ch-1)),0<n.ch)n=new Ho(n.line,n.ch+1),s.replaceRange(r.charAt(n.ch-1)+r.charAt(n.ch-2),Ho(n.line,n.ch-2),n,"+transpose");else if(n.line>s.doc.first){var o=Qn(s.doc,n.line-1).text;o&&s.replaceRange(r.charAt(0)+s.doc.lineSeparator()+o.charAt(o.length-1),Ho(n.line-1,o.length-1),Ho(n.line,1),"+transpose")}t.push(new he(n,n))}s.setSelections(t)})},newlineAndIndent:function(n){Lt(n,function(){for(var e=n.listSelections().length,t=0;t<e;t++){var i=n.listSelections()[t];n.replaceRange(n.doc.lineSeparator(),i.anchor,i.head,"+input"),n.indentLine(i.from().line+1,null,!0)}Pi(n)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},hs=c.keyMap={};hs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},hs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},hs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},hs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},hs["default"]=No?hs.macDefault:hs.pcDefault,c.normalizeKeyMap=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var r=Fr(i.split(" "),$i),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=n):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var c in t
)e[c]=t[c];return e};var ds=c.lookupKey=function(e,t,i,n){var r=(t=Yi(t)).call?t.call(e,n):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ds(e,t.fallthrough,i,n);for(var o=0;o<t.fallthrough.length;o++){var s=ds(e,t.fallthrough[o],i,n);if(s)return s}}},fs=c.isModifierKey=function(e){var t="string"==typeof e?e:aa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ps=c.keyName=function(e,t){if(Co&&34==e.keyCode&&e["char"])return!1;var i=aa[e.keyCode],n=i;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=i&&(n="Alt-"+n),(Fo?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(Fo?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)};c.fromTextArea=function(t,e){function i(){t.value=a.getValue()}if((e=e?Pr(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=$r();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}if(t.form&&(Ns(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var r=t.form,o=r.submit;try{var s=r.submit=function(){i(),r.submit=o,r.submit(),r.submit=s}}catch(l){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(As(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var a=c(function(e){t.parentNode.insertBefore(e,t.nextSibling)},e);return a};var ms=c.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ms.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else i=t&&(e.test?e.test(t):e(t));if(i)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ws(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ws(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ws(this.string,null,this.tabSize)-(this.lineStart?Ws(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var gs=0,vs=c.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++gs};Lr(vs),vs.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wt(e),Mr(this,"clear")){var i=this.find();i&&Cr(this,"clear",i.from,i.to)}for(var n=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Ji(s.markedSpans,this);e&&!this.collapsed?zt(e,tr(s),"text"):e&&(null!=a.to&&(r=tr(s)),null!=a.from&&(n=tr(s))),s.markedSpans=en(s.markedSpans,a),null==a.from&&this.collapsed&&!xn(this.doc,s)&&e&&er(s,yt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=yn(this.lines[o]),c=p(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Ot(e,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Le(e.doc)),e&&Cr(e,"markerCleared",e,this),t&&xt(e),this.parent&&this.parent.clear()}},vs.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Ji(o.markedSpans,this);if(null!=s.from&&(i=Ho(t?o:tr(o),s.from),-1==e))return i;if(null!=s.to&&(n=Ho(t?o:tr(o),s.to),1==e))return n}return i&&{from:i,to:n}},vs.prototype.changed=function(){var o=this.find(-1,!0),s=this,a=this.doc.cm;o&&a&&Lt(a,function(){var e=o.line,t=tr(o.line),i=Je(a,t);if(i&&(ot(i),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!xn(s.doc,e)&&null!=s.height){var n=s.height;s.height=null;var r=Sn(s)-n;r&&er(e,e.height+r)}})},vs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ir(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vs.prototype.detachLine=function(e){if(this.lines.splice(Ir(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};gs=0;var ys=c.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};Lr(ys),ys.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Cr(this,"clear")}},ys.prototype.find=function(e,t){return this.primary.find(e,t)};var bs=c.LineWidget=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};Lr(bs),bs.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=tr(i);if(null!=n&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);var o=Sn(this);er(i,Math.max(0,i.height-o)),e&&Lt(e,function(){Cn(e,i,-o),zt(e,n,"widget")})}},bs.prototype.changed=function(){var e=this.height,t=this.doc.cm,i=this.line;this.height=null;var n=Sn(this)-e;n&&(er(i,i.height+n),t&&Lt(t,function(){t.curOp.forceUpdate=!0,Cn(t,i,n)}))};var ws=c.Line=function(e,t,i){this.text=e,un(this,t),this.height=i?i(this):1};Lr(ws),ws.prototype.lineNo=function(){return tr(this)};var _s={},xs={};Kn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var r=this.lines[i];this.height-=r.height,Mn(r),Cr(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},Xn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(e<r){var o=Math.min(t,r-e),s=n.height;if(n.removeInner(e,o),this.height-=s-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof Kn))){var a=[];this.collapse(a),this.children=[new Kn(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,i),r.lines&&50<r.lines.length){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Kn(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Xn(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=Ir(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new Xn(e.children);(n.parent=e).children=[n,t],e=n}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var ks=0,Cs=c.Doc=function(e,t,i,n){if(!(this instanceof Cs))return new Cs(e,t,i,n);null==i&&(i=0),Xn.call(this,[new Kn([new ws("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var r=Ho(i,0);this.sel=fe(r),this.history=new or(null),this.id=++ks,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Yn(this,{from:r,to:r,text:e}),Te(this,fe(r),Ps)};Cs.prototype=zr(Xn.prototype,{constructor:Cs,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jn(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:At(function(e){var t=Ho(this.first,0),i=this.first+this.size-1;Si(this,{from:t,to:Ho(i,Qn(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Te(this,fe(t))}),replaceRange:function(e,t,i,n){Ei(this,e,t=me(this,t),i=i?me(this,i):t,n)},getRange:function(e,t,i){var n=Zn(this,me(this,e),me(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ve(this,e))return Qn(this,e)},getLineNumber:function(e){return tr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qn(this,e)),yn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return me(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:At(function(e,t,i){ke(this,me(this,"number"==typeof e?Ho(e,t||0):e),null,i)}),setSelection:At(function(e,t,i){ke(this,me(this,e),me(this,t||e),i)}),extendSelection:At(function(e,t,i){we(this,me(this,e),t&&me(this,t),i)}),extendSelections:At(function(e,t){_e(this,ye(this,e),t)}),extendSelectionsBy:At(function(e,t){_e(this,ye(this,Fr(this.sel.ranges,e)),t)}),setSelections:At(function(e,t,i){if(e.length){for(var n=0,r=[];n<e.length;n++)r[n]=new he(me(this,e[n].anchor),me(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Te(this,de(r,t),i)}}),addSelection:At(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new he(me(this,e),me(this,t||e))),Te(this,de(n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var r=Zn(this,i[n].from(),i[n].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Zn(this,i[n].from(),i[n].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[n]=r}return t},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:At(function(e,t,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:i}}var a=t&&"end"!=t&&ki(this,n,t);for(o=n.length-1;0<=o;o--)Si(this,n[o]);a?Se(this,a):this.cm&&Pi(this.cm)}),undo:At(function(){Di(this,"undo")}),redo:At(function(){Di(this,"redo")}),undoSelection:At(function(){Di(this,"undo",!0)}),redoSelection:At(function(){Di(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(n=0;n<e.undone.length;n++)e.undone[n].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new or(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:gr(this.history.done),undone:gr(this.history.undone)}},setHistory:function(e){var t=this.history=new or(this.history.maxGeneration);t.done=gr(e.done.slice(0),null,!0),t.undone=gr(e.undone.slice(0),null,!0)},addLineClass:At(function(e,i,n){return Wi(this,e,"gutter"==i?"gutter":"class",function(e){var t="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[t]){if(Yr(n).test(e[t]))return!1;e[t]+=" "+n}else e[t]=n;return!0})}),removeLineClass:At(function(e,o,s){return Wi(this,e,"gutter"==o?"gutter":"class",function(e){var t="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",i=e[t];if(!i)return!1;if(null==s)e[t]=null;else{var n=i.match(Yr(s));if(!n)return!1;var r=n.index+n[0].length;e[t]=i.slice(0,n.index)+(n.index&&r!=i.length?" ":"")+i.slice(r)||null}return!0})}),addLineWidget:At(function(e,t,i){return Tn(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Ki(this,me(this,e),me(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Ki(this,e=me(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=Qn(this,(e=me(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(r,o,s){r=me(this,r),o=me(this,o);var a=[],l=r.line;return this.iter(r.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;i++){var n=t[i];null!=n.to&&l==r.line&&r.ch>=n.to||null==n.from&&l!=r.line||null!=n.from&&l==o.line&&n.from>=o.ch||s&&!s(n.marker)||a.push(n.marker.parent||n.marker)}++l}),a},getAllMarks:function(){var n=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;++i)null!=t[i].from&&n.push(t[i].marker)}),n},posFromIndex:function(i){var n,r=this.first,o=this.lineSeparator().length;return this.iter(function(e){var t=e.text.length+o;if(i<t)return n=i,!0;i-=t,++r}),me(this,Ho(r,n))},indexFromPos:function(e){var t=(e=me(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new Cs(Jn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new Cs(Jn(this,t,i),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Vi(n,Gi(this)),n},unlinkDoc:function(e){if(e instanceof c&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Qi(Gi(this));break}}if(e.history==this.history){var i=[e.id];Gn(e,function(e){i.push(e.id)},!0),e.history=new or(null),e.history.done=gr(this.history.done,i),e.history.undone=gr(this.history.undone,i)}},iterLinkedDocs:function(e){Gn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):na(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Cs.prototype.eachLine=Cs.prototype.iter;var Ss="iter insert remove copy getEditor constructor".split(" ");for(var Ts in Cs.prototype)Cs.prototype.hasOwnProperty(Ts)&&Ir(Ss,Ts)<0&&(c.prototype[Ts]=function(e){return function(){return e.apply(this.doc,arguments)}}(Cs.prototype[Ts]));Lr(Cs);var Ds=c.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ms=c.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ls=c.e_stop=function(e){Ds(e),Ms(e)},Ns=c.on=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});(n[t]||(n[t]=[])).push(i)}},Es=[],As=c.off=function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else for(var n=kr(e,t,!1),r=0;r<n.length;++r)if(n[r]==i){n.splice(r,1);break}},Is=c.signal=function(e,t){var i=kr(e,t,!0);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)},Fs=null,Os=30,zs=c.Pass={toString:function(){return"CodeMirror.Pass"}},Ps={scroll:!1},Hs={origin:"*mouse"},js={origin:"+move"};Nr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ws=c.countColumn=function(e,t,i,n,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||t<=a)return s+(t-o);s+=a-o,s+=i-s%i,o=a+1}},Rs=c.findColumn=function(e,t,i){for(var n=0,r=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var s=o-n;if(o==e.length||t<=r+s)return n+Math.min(s,t-r);if(r+=o-n,n=o+1,t<=(r+=i-r%i))return n}},Bs=[""],qs=function(e){e.select()};Mo?qs=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bo&&(qs=function(e){try{e.select()}catch(t){}});var Us,$s=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ys=c.isWordChar=function(e){return/\w/.test(e)||"\x80"<e&&(e.toUpperCase()!=e.toLowerCase()||$s.test(e))},Ks=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Us=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(r){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var Xs=c.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};bo&&wo<11&&($r=function(){try{return document.activeElement}catch(e){return document.body}});var Gs,Vs,Qs,Zs,Js=c.rmClass=function(e,t){var i=e.className,n=Yr(t).exec(i);if(n){var r=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(r?n[1]+r:"")}},ea=c.addClass=function(e,t){var i=e.className;Yr(t).test(i)||(e.className+=(i?" ":"")+t)},ta=!1,ia=function(){if(bo&&wo<9)return!1;var e=Br("div");return"draggable"in e||"dragDrop"in e}(),na=c.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),t+=s+1):(i.push(o),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},ra=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},oa="oncopy"in(Qs=Br("div"))||(Qs.setAttribute("oncopy","return;"),"function"==typeof Qs.oncopy),sa=null,aa=c.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)aa[e+48]=aa[e+96]=String(e);for(e=65;e<=90;e++)aa[e]=String.fromCharCode(e);for(e=1;e<=12;e++)aa[e+111]=aa[e+63235]="F"+e}();var la=function(){function y(e){return e<=247?t.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function b(e,t,i){this.level=e,this.from=t,this.to=i}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,_=/[stwN]/,x=/[LRr]/,k=/[Lb1n]/,C=/[1n]/,S="L";return function(e){if(!w.test(e))return!1;for(var t=e.length,i=[],n=0;n<t;++n)i.push(c=y(e.charCodeAt(n)));n=0;for(var r=S;n<t;++n){"m"==(c=i[n])?i[n]=r:r=c}n=0;for(var o=S;n<t;++n){"1"==(c=i[n])&&"r"==o?i[n]="n":x.test(c)&&"r"==(o=c)&&(i[n]="R")}for(n=1,r=i[0];n<t-1;++n){"+"==(c=i[n])&&"1"==r&&"1"==i[n+1]?i[n]="1":","!=c||r!=i[n+1]||"1"!=r&&"n"!=r||(i[n]=r),r=c}for(n=0;n<t;++n){if(","==(c=i[n]))i[n]="N";else if("%"==c){for(var s=n+1;s<t&&"%"==i[s];++s);for(var a=n&&"!"==i[n-1]||s<t&&"1"==i[s]?"1":"N",l=n;l<s;++l)i[l]=a;n=s-1}}for(n=0,o=S;n<t;++n){var c=i[n];"L"==o&&"1"==c?i[n]="L":x.test(c)&&(o=c)}for(n=0;n<t;++n)if(_.test(i[n])){for(s=n+1;s<t&&_.test(i[s]);++s);var u="L"==(n?i[n-1]:S),h="L"==(s<t?i[s]:S);for(a=u||h?"L":"R",l=n;l<s;++l)i[l]=a;n=s-1}var d,f=[];for(n=0;n<t;)if(k.test(i[n])){var p=n;for(++n;n<t&&k.test(i[n]);++n);f.push(new b(0,p,n))}else{var m=n,g=f.length;for(++n;n<t&&"L"!=i[n];++n);for(l=m;l<n;)if(C.test(i[l])){m<l&&f.splice(g,0,new b(1,m,l));var v=l;for(++l;l<n&&C.test(i[l]);++l);f.splice(g,0,new b(2,v,l)),m=l}else++l;m<n&&f.splice(g,0,new b(1,m,n))}return 1==f[0].level&&(d=e.match(/^\s+/))&&(f[0].from=d[0].length,f.unshift(new b(0,0,d[0].length))),1==Ar(f).level&&(d=e.match(/\s+$/))&&(Ar(f).to-=d[0].length,f.push(new b(0,t-d[0].length,t))),2==f[0].level&&f.unshift(new b(1,f[0].to,f[0].to)),f[0].level!=Ar(f).level&&f.push(new b(f[0].level,t,t)),f}}();return c.version="5.16.0",c}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(N){"use strict";function e(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=!0;return t}function i(e,t){for(var i,n=!1;null!=(i=e.next());){if(n&&"/"==i){t.tokenize=null;break}n="*"==i}return["comment","comment"]}N.defineMode("css",function(e,t){function o(e,t){return f=t,e}function n(e,t){var i=e.next();if(g[i]){var n=g[i](e,t);if(!1!==n)return n}return"@"==i?(e.eatWhile(/[\w\\\-]/),o("def",e.current())):"="==i||("~"==i||"|"==i)&&e.eat("=")?o(null,"compare"):'"'==i||"'"==i?(t.tokenize=r(i),t.tokenize(e,t)):"#"==i?(e.eatWhile(/[\w\\\-]/),o("atom","hash")):"!"==i?(e.match(/^\s*\w*/),o("keyword","important")):/\d/.test(i)||"."==i&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),o("number","unit")):"-"!==i?/[,+>*\/]/.test(i)?o(null,"select-op"):"."==i&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?o("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(i)?o(null,i):"u"==i&&e.match(/rl(-prefix)?\(/)||"d"==i&&e.match("omain(")||"r"==i&&e.match("egexp(")?(e.backUp(1),t.tokenize=s,o("property","word")):/[\w\\\-]/.test(i)?(e.eatWhile(/[\w\\\-]/),o("property","word")):o(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),o("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?o("variable-2","variable-definition"):o("variable-2","variable")):e.match(/^\w+-/)?o("meta","meta"):void 0}function r(r){return function(e,t){for(var i,n=!1;null!=(i=e.next());){if(i==r&&!n){")"==r&&e.backUp(1);break}n=!n&&"\\"==i}return(i==r||!n&&")"!=r)&&(t.tokenize=null),o("string","string")}}function s(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=r(")"),o(null,"(")}function a(e,t,i){this.type=e,this.indent=t,this.prev=i}function l(e,t,i,n){return e.context=new a(i,t.indentation()+(!1===n?0:m),e.context),i}function c(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function u(e,t,i){return L[i.context.type](e,t,i)}function h(e,t,i,n){for(var r=n||1;0<r;r--)i.context=i.context.prev;return u(e,t,i)}function d(e){var t=e.current().toLowerCase();p=T.hasOwnProperty(t)?"atom":S.hasOwnProperty(t)?"keyword":"variable"}var i=t.inline;t.propertyKeywords||(t=N.resolveMode("text/css"));var f,p,m=e.indentUnit,g=t.tokenHooks,v=t.documentTypes||{},y=t.mediaTypes||{},b=t.mediaFeatures||{},w=t.mediaValueKeywords||{},_=t.propertyKeywords||{},x=t.nonStandardPropertyKeywords||{},k=t.fontProperties||{},C=t.counterDescriptors||{},S=t.colorKeywords||{},T=t.valueKeywords||{},D=t.allowNested,M=!0===t.supportsAtComponent,L={top:function(e,t,i){if("{"==e)return l(i,t,"block");if("}"==e&&i.context.prev)return c(i);if(M&&/@component/.test(e))return l(i,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return l(i,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return l(i,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return i.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(i,t,"at");if("hash"==e)p="builtin";else if("word"==e)p="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(i,t,"interpolation");if(":"==e)return"pseudo";if(D&&"("==e)return l(i,t,"parens")}return i.context.type},block:function(e,t,i){if("word"!=e)return"meta"==e?"block":D||"hash"!=e&&"qualifier"!=e?L.top(e,t,i):(p="error","block");var n=t.current().toLowerCase();return _.hasOwnProperty(n)?(p="property","maybeprop"):x.hasOwnProperty(n)?(p="string-2","maybeprop"):D?(p=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(p+=" error","maybeprop")},maybeprop:function(e,t,i){return":"==e?l(i,t,"prop"):u(e,t,i)},prop:function(e,t,i){if(";"==e)return c(i);if("{"==e&&D)return l(i,t,"propBlock");if("}"==e||"{"==e)return h(e,t,i);if("("==e)return l(i,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return l(i,t,"interpolation")}else p+=" error";return"prop"},propBlock:function(e,t,i){return"}"==e?c(i):"word"==e?(p="property","maybeprop"):i.context.type},parens:function(e,t,i){return"{"==e||"}"==e?h(e,t,i):")"==e?c(i):"("==e?l(i,t,"parens"):"interpolation"==e?l(i,t,"interpolation"):("word"==e&&d(t),"parens")},pseudo:function(e,t,i){return"word"==e?(p="variable-3",i.context.type):u(e,t,i)},documentTypes:function(e,t,i){return"word"==e&&v.hasOwnProperty(t.current())?(p="tag",i.context.type):L.atBlock(e,t,i)},atBlock:function(e,t,i){if("("==e)return l(i,t,"atBlock_parens");if("}"==e||";"==e)return h(e,t,i);if("{"==e)return c(i)&&l(i,t,D?"block":"top");if("interpolation"==e)return l(i,t,"interpolation");if("word"==e){var n=t.current().toLowerCase();p="only"==n||"not"==n||"and"==n||"or"==n?"keyword":y.hasOwnProperty(n)?"attribute":b.hasOwnProperty(n)?"property":w.hasOwnProperty(n)?"keyword":_.hasOwnProperty(n)?"property":x.hasOwnProperty(n)?"string-2":T.hasOwnProperty(n)?"atom":S.hasOwnProperty(n)?"keyword":"error"}return i.context.type},atComponentBlock:function(e,t,i){return"}"==e?h(e,t,i):"{"==e?c(i)&&l(i,t,D?"block":"top",!1):("word"==e&&(p="error"),i.context.type)},atBlock_parens:function(e,t,i){return")"==e?c(i):"{"==e||"}"==e?h(e,t,i,2):L.atBlock(e,t,i)},restricted_atBlock_before:function(e,t,i){return"{"==e?l(i,t,"restricted_atBlock"):"word"==e&&"@counter-style"==i.stateArg?(p="variable","restricted_atBlock_before"):u(e,t,i)},restricted_atBlock:function(e,t,i){return"}"==e?(i.stateArg=null,c(i)):"word"==e?(p="@font-face"==i.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==i.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,i){return"word"==e?(p="variable","keyframes"):"{"==e?l(i,t,"top"):u(e,t,i)},at:function(e,t,i){return";"==e?c(i):"{"==e||"}"==e?h(e,t,i):("word"==e?p="tag":"hash"==e&&(p="builtin"),"at")},interpolation:function(e,t,i){return"}"==e?c(i):"{"==e||";"==e?h(e,t,i):("word"==e?p="variable":"variable"!=e&&"("!=e&&")"!=e&&(p="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:i?"block":"top",stateArg:null,context:new a(i?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var i=(t.tokenize||n)(e,t);return i&&"object"==typeof i&&(f=i[1],i=i[0]),p=i,t.state=L[t.state](f,e,t),p},indent:function(e,t){var i=e.context,n=t&&t.charAt(0),r=i.indent;return"prop"!=i.type||"}"!=n&&")"!=n||(i=i.prev),i.prev&&("}"!=n||"block"!=i.type&&"top"!=i.type&&"interpolation"!=i.type&&"restricted_atBlock"!=i.type?(")"!=n||"parens"!=i.type&&"atBlock_parens"!=i.type)&&("{"!=n||"at"!=i.type&&"atBlock"!=i.type)||(r=Math.max(0,i.indent-m),i=i.prev):r=(i=i.prev).indent),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=e(t),r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=e(r),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=e(s),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=e(l),u=[
"align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=e(u),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=e(d),p=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=e(g),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=e(y),w=t.concat(r).concat(s).concat(l).concat(u).concat(d).concat(g).concat(y);N.registerHelper("hintWords","css",w),N.defineMIME("text/css",{documentTypes:n,mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:m,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=i)(e,t)}},name:"css"}),N.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=i)(e,t):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),N.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=i)(e,t):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),N.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:o,mediaFeatures:a,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:m,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=i)(e,t)}},name:"css",helperType:"gss"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.lightbox=t(e.jQuery)}(this,function(h){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=h.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},e.prototype.option=function(e){h.extend(this.options,e)},e.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var t=this;h("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return t.start(h(e.currentTarget)),!1})},e.prototype.build=function(){var t=this;h('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(h("body")),this.$lightbox=h("#lightbox"),this.$overlay=h("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(e){return"lightbox"===h(e.target).attr("id")&&t.end(),!1}),this.$outerContainer.on("click",function(e){return"lightbox"===h(e.target).attr("id")&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},e.prototype.start=function(e){function t(e){i.album.push({link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var i=this,n=h(window);n.on("resize",h.proxy(this.sizeOverlay,this)),h("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var r,o=0,s=e.attr("data-lightbox");if(s){r=h(e.prop("tagName")+'[data-lightbox="'+s+'"]');for(var a=0;a<r.length;a=++a)t(h(r[a])),r[a]===e[0]&&(o=a)}else if("lightbox"===e.attr("rel"))t(e);else{r=h(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var l=0;l<r.length;l=++l)t(h(r[l])),r[l]===e[0]&&(o=l)}var c=n.scrollTop()+this.options.positionFromTop,u=n.scrollLeft();this.$lightbox.css({top:c+"px",left:u+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&h("body").addClass("lb-disable-scrolling"),this.changeImage(o)},e.prototype.changeImage=function(s){var a=this;this.disableKeyboardNav();var l=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),h(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var c=new Image;c.onload=function(){var e,t,i,n,r,o;l.attr("src",a.album[s].link),h(c),l.width(c.width),l.height(c.height),a.options.fitImagesInViewport&&(o=h(window).width(),r=h(window).height(),n=o-a.containerLeftPadding-a.containerRightPadding-20,i=r-a.containerTopPadding-a.containerBottomPadding-120,a.options.maxWidth&&a.options.maxWidth<n&&(n=a.options.maxWidth),a.options.maxHeight&&a.options.maxHeight<n&&(i=a.options.maxHeight),(c.width>n||c.height>i)&&(c.width/n>c.height/i?(t=n,e=parseInt(c.height/(c.width/t),10)):(e=i,t=parseInt(c.width/(c.height/e),10)),l.width(t),l.height(e))),a.sizeContainer(l.width(),l.height())},c.src=this.album[s].link,this.currentImageIndex=s},e.prototype.sizeOverlay=function(){this.$overlay.width(h(document).width()).height(h(document).height())},e.prototype.sizeContainer=function(e,t){function i(){n.$lightbox.find(".lb-dataContainer").width(s),n.$lightbox.find(".lb-prevLink").height(a),n.$lightbox.find(".lb-nextLink").height(a),n.showImage()}var n=this,r=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),s=e+this.containerLeftPadding+this.containerRightPadding,a=t+this.containerTopPadding+this.containerBottomPadding;r!==s||o!==a?this.$outerContainer.animate({width:s,height:a},this.options.resizeDuration,"swing",function(){i()}):i()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),1<this.album.length&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){h(this).attr("target")!==undefined?window.open(h(this).attr("href"),h(this).attr("target")):location.href=h(this).attr("href")}),1<this.album.length&&this.options.showImageNumberLabel){var t=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(t).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link);0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)},e.prototype.enableKeyboardNav=function(){h(document).on("keyup.keyboard",h.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){h(document).off(".keyboard")},e.prototype.keyboardAction=function(e){var t=27,i=37,n=39,r=e.keyCode,o=String.fromCharCode(r).toLowerCase();r===t||o.match(/x|o|c/)?this.end():"p"===o||r===i?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1):"n"!==o&&r!==n||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),h(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),h("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&h("body").removeClass("lb-disable-scrolling")},new e}),$(document).on("setup-chosen",function(){$(".js-chosen").chosen({width:"auto",disable_search_threshold:10}),$(".js-chosen-redirect").change(function(){window.location.href=$(this).val()})}),$(document).ready(function(){$(this).trigger("setup-chosen")}),$(document).ready(function(){$(".js-colcade").each(function(){$(this).colcade({columns:".js-colcade-column",items:".js-colcade-item"})})}),$(window).on("fitty:setup",function(){$(".js-fitty").each(function(){fontSize=parseInt($(this).css("font-size")),fitty(this,{maxSize:fontSize})})}),$(window).on("load",function(){$(this).trigger("fitty:setup")}),$(document).on("image:setup",function(){$(".js-image-input").off("change").on("change",function(){var t=$(this),e=this.files,i=new FileReader;i.onload=function(e){$preview=t.closest(".js-image-blank").hide().siblings(".js-image-present").fadeIn(500).find(".js-image-preview"),$preview.html('<img class="'+$preview.data("class")+'" src="'+e.target.result+'" />')},i.readAsDataURL(e[0])})}),$(document).ready(function(){$(this).trigger("image:setup")}),$(document).on("setup-lightbox",function(){lightbox.init()}),$(document).ready(function(){$(this).trigger("setup-lightbox")}),$(document).on("menu:setup",function(){$(".js-menu-overlay").click(function(){$(".js-menu").removeClass("is-opened")}),$(".js-menu-icon").off("click").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".js-menu").toggleClass("is-opened")}),$(".js-smooth-scroll").off("click").on("click",function(e){e.preventDefault();var t=$(".js-menu"),i=t.outerHeight()+parseInt(t.css("margin-top"));t.removeClass("is-opened"),$("html, body").animate({scrollTop:$(".js-section[data-id="+$(this).data("id")+"]").offset().top-i},500)}),$(window).on("resize",function(){var e=$(".js-menu"),t=($(".js-site"),$(".js-editor-design-link")),i=e.outerHeight()+parseInt(e.css("top"));t.css("top",i+10)}).trigger("resize")}),$(document).ready(function(){$(this).trigger("menu:setup");try{parent.document,parent.$(parent.document).bind("iframe:menu:setup",function(){$(document).trigger("menu:setup")})}catch(e){}});